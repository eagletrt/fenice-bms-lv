ARM GAS  /tmp/cc8d5Ni9.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 1
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"ltc.c"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text.get_ADCV_CC,"ax",%progbits
  17              		.align	1
  18              		.global	get_ADCV_CC
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv5-d16
  25              	get_ADCV_CC:
  26              	.LVL0:
  27              	.LFB144:
  28              		.file 1 "Src/ltc.c"
   1:Src/ltc.c     **** 
   2:Src/ltc.c     **** #include "ltc.h"
   3:Src/ltc.c     **** #include "string.h"
   4:Src/ltc.c     **** #include "stdio.h"
   5:Src/ltc.c     **** /*
   6:Src/ltc.c     **** * default sample frequency -> 7kHz
   7:Src/ltc.c     **** * 670 us needed to synchronize
   8:Src/ltc.c     **** * 
   9:Src/ltc.c     **** */
  10:Src/ltc.c     **** extern char txt[100];
  11:Src/ltc.c     **** extern bool DEBUG_LTC;
  12:Src/ltc.c     **** extern UART_HandleTypeDef huart4;
  13:Src/ltc.c     **** 
  14:Src/ltc.c     **** uint16_t get_ADCV_CC(uint8_t Ncell)
  15:Src/ltc.c     **** {
  29              		.loc 1 15 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
  16:Src/ltc.c     **** 	if (Ncell > 6 || Ncell < 1)
  34              		.loc 1 16 2 view .LVU1
  35              		.loc 1 16 16 is_stmt 0 view .LVU2
  36 0000 431E     		subs	r3, r0, #1
  37 0002 DBB2     		uxtb	r3, r3
  38              		.loc 1 16 5 view .LVU3
  39 0004 052B     		cmp	r3, #5
  40 0006 00D9     		bls	.L2
  17:Src/ltc.c     **** 		Ncell = 0;
  41              		.loc 1 17 9 view .LVU4
ARM GAS  /tmp/cc8d5Ni9.s 			page 2


  42 0008 0020     		movs	r0, #0
  43              	.LVL1:
  44              	.L2:
  18:Src/ltc.c     **** 	return (0x260 | (MD7K << 7) | Ncell);
  45              		.loc 1 18 2 is_stmt 1 view .LVU5
  19:Src/ltc.c     **** }
  46              		.loc 1 19 1 is_stmt 0 view .LVU6
  47 000a 40F45870 		orr	r0, r0, #864
  48              	.LVL2:
  49              		.loc 1 19 1 view .LVU7
  50 000e 7047     		bx	lr
  51              		.cfi_endproc
  52              	.LFE144:
  54              		.section	.text.LTC_init,"ax",%progbits
  55              		.align	1
  56              		.global	LTC_init
  57              		.syntax unified
  58              		.thumb
  59              		.thumb_func
  60              		.fpu fpv5-d16
  62              	LTC_init:
  63              	.LVL3:
  64              	.LFB145:
  20:Src/ltc.c     **** 
  21:Src/ltc.c     **** void LTC_init(ltc_struct *_ltc, SPI_HandleTypeDef *hspi, uint8_t _address, GPIO_TypeDef *pinx, uint
  22:Src/ltc.c     **** {
  65              		.loc 1 22 1 is_stmt 1 view -0
  66              		.cfi_startproc
  67              		@ args = 4, pretend = 0, frame = 0
  68              		@ frame_needed = 0, uses_anonymous_args = 0
  69              		@ link register save eliminated.
  23:Src/ltc.c     **** 	_ltc->address = _address;
  70              		.loc 1 23 2 view .LVU9
  71              		.loc 1 23 16 is_stmt 0 view .LVU10
  72 0000 0271     		strb	r2, [r0, #4]
  24:Src/ltc.c     **** 	_ltc->spi = hspi;
  73              		.loc 1 24 2 is_stmt 1 view .LVU11
  74              		.loc 1 24 12 is_stmt 0 view .LVU12
  75 0002 0160     		str	r1, [r0]
  25:Src/ltc.c     **** 	_ltc->CS_LTCx = pinx;
  76              		.loc 1 25 2 is_stmt 1 view .LVU13
  77              		.loc 1 25 16 is_stmt 0 view .LVU14
  78 0004 4361     		str	r3, [r0, #20]
  26:Src/ltc.c     **** 	_ltc->CS_LTCn = pinn;
  79              		.loc 1 26 2 is_stmt 1 view .LVU15
  80              		.loc 1 26 16 is_stmt 0 view .LVU16
  81 0006 9DF80030 		ldrb	r3, [sp]	@ zero_extendqisi2
  82              	.LVL4:
  83              		.loc 1 26 16 view .LVU17
  84 000a 0376     		strb	r3, [r0, #24]
  27:Src/ltc.c     **** }
  85              		.loc 1 27 1 view .LVU18
  86 000c 7047     		bx	lr
  87              		.cfi_endproc
  88              	.LFE145:
  90              		.section	.text._convert_voltage,"ax",%progbits
  91              		.align	1
ARM GAS  /tmp/cc8d5Ni9.s 			page 3


  92              		.global	_convert_voltage
  93              		.syntax unified
  94              		.thumb
  95              		.thumb_func
  96              		.fpu fpv5-d16
  98              	_convert_voltage:
  99              	.LVL5:
 100              	.LFB151:
  28:Src/ltc.c     **** bool ltc_set_REFON(ltc_struct *_ltc)
  29:Src/ltc.c     **** {
  30:Src/ltc.c     **** 	bool ret = true;
  31:Src/ltc.c     **** 	uint16_t pec;
  32:Src/ltc.c     **** 	uint8_t cmd[4];
  33:Src/ltc.c     **** 	uint16_t CC;
  34:Src/ltc.c     **** 	uint16_t cmd_pec;
  35:Src/ltc.c     **** 	uint8_t data[12];
  36:Src/ltc.c     **** 	uint8_t payload[8];
  37:Src/ltc.c     **** 
  38:Src/ltc.c     **** 	CC = WRCFG;
  39:Src/ltc.c     **** 
  40:Src/ltc.c     **** 	cmd[0] = (uint8_t)0x80 |		// Address Command mode
  41:Src/ltc.c     **** 			 (_ltc->address << 3) | // LTC address
  42:Src/ltc.c     **** 			 (CC >> 8);				// Send 3 most significant bit of CC
  43:Src/ltc.c     **** 	cmd[1] = (uint8_t)(CC);
  44:Src/ltc.c     **** 	cmd_pec = _pec15(2, cmd); // Calculate the PEC
  45:Src/ltc.c     **** 	cmd[2] = (uint8_t)(cmd_pec >> 8);
  46:Src/ltc.c     **** 	cmd[3] = (uint8_t)(cmd_pec);
  47:Src/ltc.c     **** 
  48:Src/ltc.c     **** 	data[0] = cmd[0];
  49:Src/ltc.c     **** 	data[1] = cmd[1];
  50:Src/ltc.c     **** 	data[2] = cmd[2];
  51:Src/ltc.c     **** 	data[3] = cmd[3];
  52:Src/ltc.c     **** 	data[4] = 0x04;
  53:Src/ltc.c     **** 	payload[0] = data[4];
  54:Src/ltc.c     **** 	data[5] = 0x00;
  55:Src/ltc.c     **** 	payload[1] = data[5];
  56:Src/ltc.c     **** 	data[6] = 0x00;
  57:Src/ltc.c     **** 	payload[2] = data[6];
  58:Src/ltc.c     **** 	data[7] = 0x00;
  59:Src/ltc.c     **** 	payload[3] = data[7];
  60:Src/ltc.c     **** 	data[8] = 0x00;
  61:Src/ltc.c     **** 	payload[4] = data[8];
  62:Src/ltc.c     **** 	data[9] = 0x00;
  63:Src/ltc.c     **** 	payload[5] = data[9];
  64:Src/ltc.c     **** 	pec = _pec15(6, payload);
  65:Src/ltc.c     **** 	data[10] = (uint8_t)(pec >> 8);
  66:Src/ltc.c     **** 	data[11] = (uint8_t)(pec);
  67:Src/ltc.c     **** 	ltc6810_wakeup_idle(_ltc);
  68:Src/ltc.c     **** 	spi_enable_cs(_ltc);
  69:Src/ltc.c     **** 	if (HAL_SPI_Transmit(_ltc->spi, data, 12, 100) == HAL_OK)
  70:Src/ltc.c     **** 	{
  71:Src/ltc.c     **** 		if (DEBUG_LTC == true)
  72:Src/ltc.c     **** 		{
  73:Src/ltc.c     **** 			sprintf(txt, "Trasmesso CMD: %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d, %d\r\n", data[0], data[
  74:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 100);
  75:Src/ltc.c     **** 		}
  76:Src/ltc.c     **** 	}
ARM GAS  /tmp/cc8d5Ni9.s 			page 4


  77:Src/ltc.c     **** 	else
  78:Src/ltc.c     **** 	{
  79:Src/ltc.c     **** 		ret = false;
  80:Src/ltc.c     **** 	}
  81:Src/ltc.c     **** 	spi_disable_cs(_ltc);
  82:Src/ltc.c     **** 
  83:Src/ltc.c     **** 	return ret;
  84:Src/ltc.c     **** }
  85:Src/ltc.c     **** bool ltc_read_conf_reg(ltc_struct *_ltc)
  86:Src/ltc.c     **** {
  87:Src/ltc.c     **** 	bool ret = true;
  88:Src/ltc.c     **** 	bool pec;
  89:Src/ltc.c     **** 	uint8_t cmd[4];
  90:Src/ltc.c     **** 	uint16_t CC;
  91:Src/ltc.c     **** 	uint16_t cmd_pec;
  92:Src/ltc.c     **** 	uint8_t data[8];
  93:Src/ltc.c     **** 
  94:Src/ltc.c     **** 	CC = RDCFG;
  95:Src/ltc.c     **** 	cmd[0] = (uint8_t)0x80 |		// Address Command mode
  96:Src/ltc.c     **** 			 (_ltc->address << 3) | // LTC address
  97:Src/ltc.c     **** 			 (CC >> 8);				// Send 3 most significant bit of CC
  98:Src/ltc.c     **** 	cmd[1] = (uint8_t)(CC);
  99:Src/ltc.c     **** 	cmd_pec = _pec15(2, cmd); // Calculate the PEC
 100:Src/ltc.c     **** 	cmd[2] = (uint8_t)(cmd_pec >> 8);
 101:Src/ltc.c     **** 	cmd[3] = (uint8_t)(cmd_pec);
 102:Src/ltc.c     **** 	ltc6810_wakeup_idle(_ltc);
 103:Src/ltc.c     **** 	spi_enable_cs(_ltc);
 104:Src/ltc.c     **** 	if (HAL_SPI_Transmit(_ltc->spi, cmd, 4, 100) == HAL_OK)
 105:Src/ltc.c     **** 	{
 106:Src/ltc.c     **** 		if (DEBUG_LTC == true)
 107:Src/ltc.c     **** 		{
 108:Src/ltc.c     **** 			sprintf(txt, "Trasmesso RDCFG: %d, %d, %d, %d\r\n", cmd[0], cmd[1], cmd[2], cmd[3]);
 109:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 100);
 110:Src/ltc.c     **** 		}
 111:Src/ltc.c     **** 		HAL_SPI_Receive(_ltc->spi, data, 8, 100);
 112:Src/ltc.c     **** 		if (DEBUG_LTC == true)
 113:Src/ltc.c     **** 		{
 114:Src/ltc.c     **** 			sprintf(txt, "Ricevuto: %d, %d, %d, %d, %d, %d, %d, %d\r\n", data[0], data[1], data[2], data[3],
 115:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 100);
 116:Src/ltc.c     **** 		}
 117:Src/ltc.c     **** 	}
 118:Src/ltc.c     **** 	else
 119:Src/ltc.c     **** 	{
 120:Src/ltc.c     **** 		if (DEBUG_LTC == true)
 121:Src/ltc.c     **** 		{
 122:Src/ltc.c     **** 			sprintf(txt, "Errore nella trasmissione\r\n");
 123:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 124:Src/ltc.c     **** 		}
 125:Src/ltc.c     **** 		ret = false;
 126:Src/ltc.c     **** 	}
 127:Src/ltc.c     **** 	spi_disable_cs(_ltc);
 128:Src/ltc.c     **** 
 129:Src/ltc.c     **** 	pec = (_pec15(6, data) == (uint16_t)(data[6] * 256 + data[7]));
 130:Src/ltc.c     **** 
 131:Src/ltc.c     **** 	if (pec)
 132:Src/ltc.c     **** 	{
 133:Src/ltc.c     **** 	}
ARM GAS  /tmp/cc8d5Ni9.s 			page 5


 134:Src/ltc.c     **** 	else
 135:Src/ltc.c     **** 	{
 136:Src/ltc.c     **** 		if (DEBUG_LTC == true)
 137:Src/ltc.c     **** 		{
 138:Src/ltc.c     **** 			sprintf(txt, "PEC sbagliata\r\n");
 139:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 140:Src/ltc.c     **** 		}
 141:Src/ltc.c     **** 		ret = false;
 142:Src/ltc.c     **** 	}
 143:Src/ltc.c     **** 	return ret;
 144:Src/ltc.c     **** }
 145:Src/ltc.c     **** bool ltc_read_ID(ltc_struct *_ltc)
 146:Src/ltc.c     **** {
 147:Src/ltc.c     **** 	bool ret = true;
 148:Src/ltc.c     **** 	bool pec;
 149:Src/ltc.c     **** 	uint8_t cmd[4];
 150:Src/ltc.c     **** 	uint16_t CC;
 151:Src/ltc.c     **** 	uint16_t cmd_pec;
 152:Src/ltc.c     **** 	uint8_t data[8];
 153:Src/ltc.c     **** 
 154:Src/ltc.c     **** 	CC = RDSID;
 155:Src/ltc.c     **** 	cmd[0] = (uint8_t)0x80 |		// Address Command mode
 156:Src/ltc.c     **** 			 (_ltc->address << 3) | // LTC address
 157:Src/ltc.c     **** 			 (CC >> 8);				// Send 3 most significant bit of CC
 158:Src/ltc.c     **** 	cmd[1] = (uint8_t)(CC);
 159:Src/ltc.c     **** 	cmd_pec = _pec15(2, cmd); // Calculate the PEC
 160:Src/ltc.c     **** 	cmd[2] = (uint8_t)(cmd_pec >> 8);
 161:Src/ltc.c     **** 	cmd[3] = (uint8_t)(cmd_pec);
 162:Src/ltc.c     **** 	ltc6810_wakeup_idle(_ltc);
 163:Src/ltc.c     **** 	spi_enable_cs(_ltc);
 164:Src/ltc.c     **** 	if (HAL_SPI_Transmit(_ltc->spi, cmd, 4, 100) == HAL_OK)
 165:Src/ltc.c     **** 	{
 166:Src/ltc.c     **** 		if (DEBUG_LTC == true)
 167:Src/ltc.c     **** 		{
 168:Src/ltc.c     **** 			sprintf(txt, "Trasmesso RDSID: %d, %d, %d, %d\r\n", cmd[0], cmd[1], cmd[2], cmd[3]);
 169:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 100);
 170:Src/ltc.c     **** 		}
 171:Src/ltc.c     **** 		HAL_SPI_Receive(_ltc->spi, data, 8, 100);
 172:Src/ltc.c     **** 		if (DEBUG_LTC == true)
 173:Src/ltc.c     **** 		{
 174:Src/ltc.c     **** 			sprintf(txt, "Ricevuto: %d, %d, %d, %d, %d, %d, %d, %d\r\n", data[0], data[1], data[2], data[3],
 175:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 100);
 176:Src/ltc.c     **** 		}
 177:Src/ltc.c     **** 	}
 178:Src/ltc.c     **** 	else
 179:Src/ltc.c     **** 	{
 180:Src/ltc.c     **** 		if (DEBUG_LTC == true)
 181:Src/ltc.c     **** 		{
 182:Src/ltc.c     **** 			sprintf(txt, "Errore nella trasmissione\r\n");
 183:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 184:Src/ltc.c     **** 		}
 185:Src/ltc.c     **** 		ret = false;
 186:Src/ltc.c     **** 	}
 187:Src/ltc.c     **** 	spi_disable_cs(_ltc);
 188:Src/ltc.c     **** 
 189:Src/ltc.c     **** 	pec = (_pec15(6, data) == (uint16_t)(data[6] * 256 + data[7]));
 190:Src/ltc.c     **** 
ARM GAS  /tmp/cc8d5Ni9.s 			page 6


 191:Src/ltc.c     **** 	if (pec)
 192:Src/ltc.c     **** 	{
 193:Src/ltc.c     **** 		_ltc->SERIAL_ID_L = data[0] + (data[1] << 8) + (data[2] << 16) + (data[3] << 24);
 194:Src/ltc.c     **** 		_ltc->SERIAL_ID_H = data[4] + (data[5] << 8);
 195:Src/ltc.c     **** 	}
 196:Src/ltc.c     **** 	else
 197:Src/ltc.c     **** 	{
 198:Src/ltc.c     **** 		if (DEBUG_LTC == true)
 199:Src/ltc.c     **** 		{
 200:Src/ltc.c     **** 			sprintf(txt, "PEC sbagliata\r\n");
 201:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 202:Src/ltc.c     **** 		}
 203:Src/ltc.c     **** 		ret = false;
 204:Src/ltc.c     **** 	}
 205:Src/ltc.c     **** 	return ret;
 206:Src/ltc.c     **** }
 207:Src/ltc.c     **** bool ltc_read_STATUS(ltc_struct *_ltc)
 208:Src/ltc.c     **** {
 209:Src/ltc.c     **** 	bool ret = true;
 210:Src/ltc.c     **** 	bool pec;
 211:Src/ltc.c     **** 	uint8_t cmd[4];
 212:Src/ltc.c     **** 	uint16_t CC;
 213:Src/ltc.c     **** 	uint16_t cmd_pec;
 214:Src/ltc.c     **** 	uint8_t data[8];
 215:Src/ltc.c     **** 
 216:Src/ltc.c     **** 	CC = ADSTAT;
 217:Src/ltc.c     **** 	cmd[0] = (uint8_t)0x80 |		// Address Command mode
 218:Src/ltc.c     **** 			 (_ltc->address << 3) | // LTC address
 219:Src/ltc.c     **** 			 (CC >> 8);				// Send 3 most significant bit of CC
 220:Src/ltc.c     **** 	cmd[1] = (uint8_t)(CC);
 221:Src/ltc.c     **** 	cmd_pec = _pec15(2, cmd); // Calculate the PEC
 222:Src/ltc.c     **** 	cmd[2] = (uint8_t)(cmd_pec >> 8);
 223:Src/ltc.c     **** 	cmd[3] = (uint8_t)(cmd_pec);
 224:Src/ltc.c     **** 
 225:Src/ltc.c     **** 	ltc6810_wakeup_idle(_ltc);
 226:Src/ltc.c     **** 	spi_enable_cs(_ltc);
 227:Src/ltc.c     **** 	if (HAL_SPI_Transmit(_ltc->spi, cmd, 4, 100) == HAL_OK)
 228:Src/ltc.c     **** 	{
 229:Src/ltc.c     **** 		if (DEBUG_LTC == true)
 230:Src/ltc.c     **** 		{
 231:Src/ltc.c     **** 			sprintf(txt, "Trasmesso ADSTAT_TMP: %d, %d, %d, %d\r\n", cmd[0], cmd[1], cmd[2], cmd[3]);
 232:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 233:Src/ltc.c     **** 		}
 234:Src/ltc.c     **** 	}
 235:Src/ltc.c     **** 	else
 236:Src/ltc.c     **** 	{
 237:Src/ltc.c     **** 		if (DEBUG_LTC == true)
 238:Src/ltc.c     **** 		{
 239:Src/ltc.c     **** 			sprintf(txt, "Errore nella trasmissione\r\n");
 240:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 241:Src/ltc.c     **** 		}
 242:Src/ltc.c     **** 		ret = false;
 243:Src/ltc.c     **** 	}
 244:Src/ltc.c     **** 	spi_disable_cs(_ltc);
 245:Src/ltc.c     **** 
 246:Src/ltc.c     **** 	HAL_Delay(100);
 247:Src/ltc.c     **** 
ARM GAS  /tmp/cc8d5Ni9.s 			page 7


 248:Src/ltc.c     **** 	CC = RDSTATA;
 249:Src/ltc.c     **** 	cmd[0] = (uint8_t)0x80 |		// Address Command mode
 250:Src/ltc.c     **** 			 (_ltc->address << 3) | // LTC address
 251:Src/ltc.c     **** 			 (CC >> 8);				// Send 3 most significant bit of CC
 252:Src/ltc.c     **** 	cmd[1] = (uint8_t)(CC);			// Send the other 8 bit of CC
 253:Src/ltc.c     **** 
 254:Src/ltc.c     **** 	cmd_pec = _pec15(2, cmd); // Calculate the PEC
 255:Src/ltc.c     **** 	cmd[2] = (uint8_t)(cmd_pec >> 8);
 256:Src/ltc.c     **** 	cmd[3] = (uint8_t)(cmd_pec);
 257:Src/ltc.c     **** 
 258:Src/ltc.c     **** 	ltc6810_wakeup_idle(_ltc);
 259:Src/ltc.c     **** 	spi_enable_cs(_ltc);
 260:Src/ltc.c     **** 	if (HAL_SPI_Transmit(_ltc->spi, cmd, 4, 100) == HAL_OK)
 261:Src/ltc.c     **** 	{
 262:Src/ltc.c     **** 		if (DEBUG_LTC == true)
 263:Src/ltc.c     **** 		{
 264:Src/ltc.c     **** 			sprintf(txt, "Trasmesso RDSTATA: %d, %d, %d, %d\r\n", cmd[0], cmd[1], cmd[2], cmd[3]);
 265:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 266:Src/ltc.c     **** 		}
 267:Src/ltc.c     **** 		HAL_SPI_Receive(_ltc->spi, data, 8, 100);
 268:Src/ltc.c     **** 		if (DEBUG_LTC == true)
 269:Src/ltc.c     **** 		{
 270:Src/ltc.c     **** 			sprintf(txt, "Ricevuto: %d, %d, %d, %d, %d, %d, %d, %d\r\n", data[0], data[1], data[2], data[3],
 271:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 272:Src/ltc.c     **** 		}
 273:Src/ltc.c     **** 	}
 274:Src/ltc.c     **** 	else
 275:Src/ltc.c     **** 	{
 276:Src/ltc.c     **** 		if (DEBUG_LTC == true)
 277:Src/ltc.c     **** 		{
 278:Src/ltc.c     **** 			sprintf(txt, "Errore nella trasmissione\r\n");
 279:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 280:Src/ltc.c     **** 		}
 281:Src/ltc.c     **** 		ret = false;
 282:Src/ltc.c     **** 	}
 283:Src/ltc.c     **** 	HAL_Delay(10);
 284:Src/ltc.c     **** 	spi_disable_cs(_ltc);
 285:Src/ltc.c     **** 
 286:Src/ltc.c     **** 	pec = (_pec15(6, data) == (uint16_t)(data[6] * 256 + data[7]));
 287:Src/ltc.c     **** 
 288:Src/ltc.c     **** 	if (pec)
 289:Src/ltc.c     **** 	{
 290:Src/ltc.c     **** 		_ltc->STATUS_SC = data[0] * 256 + data[1];
 291:Src/ltc.c     **** 		_ltc->STATUS_ITMP = data[2] * 256 + data[3];
 292:Src/ltc.c     **** 		_ltc->STATUS_VA = data[4] * 256 + data[5];
 293:Src/ltc.c     **** 	}
 294:Src/ltc.c     **** 	else
 295:Src/ltc.c     **** 	{
 296:Src/ltc.c     **** 		if (DEBUG_LTC == true)
 297:Src/ltc.c     **** 		{
 298:Src/ltc.c     **** 			sprintf(txt, "PEC sbagliata\r\n");
 299:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 300:Src/ltc.c     **** 		}
 301:Src/ltc.c     **** 		ret = false;
 302:Src/ltc.c     **** 	}
 303:Src/ltc.c     **** 	return ret;
 304:Src/ltc.c     **** }
ARM GAS  /tmp/cc8d5Ni9.s 			page 8


 305:Src/ltc.c     **** 
 306:Src/ltc.c     **** /**
 307:Src/ltc.c     ****  * @brief		This function is used to read volteges.
 308:Src/ltc.c     ****  *
 309:Src/ltc.c     ****  * @param		_ltc	LTC struct
 310:Src/ltc.c     ****  * @retval		True if there aren't errors
 311:Src/ltc.c     ****  */
 312:Src/ltc.c     **** bool read_voltages(ltc_struct *_ltc)
 313:Src/ltc.c     **** {
 314:Src/ltc.c     **** 	bool ret = true;
 315:Src/ltc.c     **** 	bool pec;
 316:Src/ltc.c     **** 	uint8_t cmd[4];
 317:Src/ltc.c     **** 	uint16_t CC;
 318:Src/ltc.c     **** 	uint16_t cmd_pec;
 319:Src/ltc.c     **** 	uint8_t data[8];
 320:Src/ltc.c     **** 
 321:Src/ltc.c     **** 	//--- Send start ADC conversion ---//
 322:Src/ltc.c     **** 	CC = get_ADCV_CC(ALL_CELLS);
 323:Src/ltc.c     **** 	cmd[0] = (uint8_t)(0x80 |				  // Address Command mode
 324:Src/ltc.c     **** 					   (_ltc->address << 3) | // LTC address
 325:Src/ltc.c     **** 					   (CC >> 8));			  // Send 3 most significant bit of CC
 326:Src/ltc.c     **** 	cmd[1] = (uint8_t)(CC);					  // Send the other 8 bit of CC
 327:Src/ltc.c     **** 
 328:Src/ltc.c     **** 	cmd_pec = _pec15(2, cmd); // Calculate the PEC
 329:Src/ltc.c     **** 	cmd[2] = (uint8_t)(cmd_pec >> 8);
 330:Src/ltc.c     **** 	cmd[3] = (uint8_t)(cmd_pec);
 331:Src/ltc.c     **** 
 332:Src/ltc.c     **** 	ltc6810_wakeup_idle(_ltc);
 333:Src/ltc.c     **** 	spi_enable_cs(_ltc);
 334:Src/ltc.c     **** 	if (HAL_SPI_Transmit(_ltc->spi, cmd, 4, 100) != HAL_OK)
 335:Src/ltc.c     **** 	{
 336:Src/ltc.c     **** 		ret = false;
 337:Src/ltc.c     **** 		if (DEBUG_LTC == true)
 338:Src/ltc.c     **** 		{
 339:Src/ltc.c     **** 			sprintf(txt, "Errore nella trasmissione\r\n");
 340:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 341:Src/ltc.c     **** 		}
 342:Src/ltc.c     **** 	}
 343:Src/ltc.c     **** 	HAL_Delay(5);
 344:Src/ltc.c     **** 	spi_disable_cs(_ltc);
 345:Src/ltc.c     **** 	HAL_Delay(10); //TODO: change waiting mode in interrupt -> it's only to test (ADC takes 1.2ms)
 346:Src/ltc.c     **** 	//--- END --//
 347:Src/ltc.c     **** 	if (DEBUG_LTC == true)
 348:Src/ltc.c     **** 	{
 349:Src/ltc.c     **** 		sprintf(txt, "Trasmesso: %d, %d, %d, %d\r\n", cmd[0], cmd[1], cmd[2], cmd[3]);
 350:Src/ltc.c     **** 		HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 351:Src/ltc.c     **** 	}
 352:Src/ltc.c     **** 
 353:Src/ltc.c     **** 	//--- READ GROUP A VOLTAGES ---//
 354:Src/ltc.c     **** 	CC = RDCVA;								  // Read voltages from group A
 355:Src/ltc.c     **** 	cmd[0] = (uint8_t)(0x80 |				  // Address Command mode
 356:Src/ltc.c     **** 					   (_ltc->address << 3) | // LTC address
 357:Src/ltc.c     **** 					   (CC >> 8));			  // Send 3 most significant bit of CC
 358:Src/ltc.c     **** 	cmd[1] = (uint8_t)(CC);					  // Send the other 8 bit of CC
 359:Src/ltc.c     **** 
 360:Src/ltc.c     **** 	cmd_pec = _pec15(2, cmd); // Calculate the PEC
 361:Src/ltc.c     **** 	cmd[2] = (uint8_t)(cmd_pec >> 8);
ARM GAS  /tmp/cc8d5Ni9.s 			page 9


 362:Src/ltc.c     **** 	cmd[3] = (uint8_t)(cmd_pec);
 363:Src/ltc.c     **** 
 364:Src/ltc.c     **** 	ltc6810_wakeup_idle(_ltc);
 365:Src/ltc.c     **** 	spi_enable_cs(_ltc);
 366:Src/ltc.c     **** 	if (HAL_SPI_Transmit(_ltc->spi, cmd, 4, 100) == HAL_OK)
 367:Src/ltc.c     **** 	{
 368:Src/ltc.c     **** 		HAL_SPI_Receive(_ltc->spi, data, 8, 100);
 369:Src/ltc.c     **** 		if (DEBUG_LTC == true)
 370:Src/ltc.c     **** 		{
 371:Src/ltc.c     **** 			sprintf(txt, "Trasmesso: %d, %d, %d, %d\r\n", cmd[0], cmd[1], cmd[2], cmd[3]);
 372:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 373:Src/ltc.c     **** 		}
 374:Src/ltc.c     **** 		if (DEBUG_LTC == true)
 375:Src/ltc.c     **** 		{
 376:Src/ltc.c     **** 			sprintf(txt, "Ricevuto: %d, %d, %d, %d, %d, %d, %d, %d\r\n", data[0], data[1], data[2], data[3],
 377:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 378:Src/ltc.c     **** 		}
 379:Src/ltc.c     **** 	}
 380:Src/ltc.c     **** 	else
 381:Src/ltc.c     **** 	{
 382:Src/ltc.c     **** 		ret = false;
 383:Src/ltc.c     **** 		if (DEBUG_LTC == true)
 384:Src/ltc.c     **** 		{
 385:Src/ltc.c     **** 			sprintf(txt, "Errore nella trasmissione\r\n");
 386:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 387:Src/ltc.c     **** 		}
 388:Src/ltc.c     **** 	}
 389:Src/ltc.c     **** 	spi_disable_cs(_ltc);
 390:Src/ltc.c     **** 
 391:Src/ltc.c     **** 	pec = (_pec15(6, data) == (uint16_t)(data[6] * 256 + data[7]));
 392:Src/ltc.c     **** 
 393:Src/ltc.c     **** 	if (pec)
 394:Src/ltc.c     **** 	{
 395:Src/ltc.c     **** 		uint8_t cell = 0; // Counts the cell inside the register
 396:Src/ltc.c     **** 		for (cell = 0; cell < 3; cell++)
 397:Src/ltc.c     **** 		{
 398:Src/ltc.c     **** 			_ltc->voltage[cell] = _convert_voltage(&data[2 * cell]);
 399:Src/ltc.c     **** 		}
 400:Src/ltc.c     **** 	}
 401:Src/ltc.c     **** 	else
 402:Src/ltc.c     **** 	{
 403:Src/ltc.c     **** 		ret = false;
 404:Src/ltc.c     **** 		if (DEBUG_LTC == true)
 405:Src/ltc.c     **** 		{
 406:Src/ltc.c     **** 			sprintf(txt, "PEC sbagliata\r\n");
 407:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 408:Src/ltc.c     **** 		}
 409:Src/ltc.c     **** 	}
 410:Src/ltc.c     **** 	//--- END ---//
 411:Src/ltc.c     **** 
 412:Src/ltc.c     **** 	//--- READ GROUP B VOLTAGES ---//
 413:Src/ltc.c     **** 	CC = RDCVB;						// Read voltages from group A
 414:Src/ltc.c     **** 	cmd[0] = (uint8_t)0x80 |		// Address Command mode
 415:Src/ltc.c     **** 			 (_ltc->address << 3) | // LTC address
 416:Src/ltc.c     **** 			 (CC >> 8);				// Send 3 most significant bit of CC
 417:Src/ltc.c     **** 	cmd[1] = (uint8_t)(CC);			// Send the other 8 bit of CC
 418:Src/ltc.c     **** 
ARM GAS  /tmp/cc8d5Ni9.s 			page 10


 419:Src/ltc.c     **** 	cmd_pec = _pec15(2, cmd); // Calculate the PEC
 420:Src/ltc.c     **** 	cmd[2] = (uint8_t)(cmd_pec >> 8);
 421:Src/ltc.c     **** 	cmd[3] = (uint8_t)(cmd_pec);
 422:Src/ltc.c     **** 
 423:Src/ltc.c     **** 	ltc6810_wakeup_idle(_ltc);
 424:Src/ltc.c     **** 	spi_enable_cs(_ltc);
 425:Src/ltc.c     **** 	if (HAL_SPI_Transmit(_ltc->spi, cmd, 4, 100) == HAL_OK)
 426:Src/ltc.c     **** 	{
 427:Src/ltc.c     **** 		HAL_SPI_Receive(_ltc->spi, data, 8, 100);
 428:Src/ltc.c     **** 		spi_disable_cs(_ltc);
 429:Src/ltc.c     **** 		if (DEBUG_LTC == true)
 430:Src/ltc.c     **** 		{
 431:Src/ltc.c     **** 			sprintf(txt, "Trasmesso: %d, %d, %d, %d\r\n", cmd[0], cmd[1], cmd[2], cmd[3]);
 432:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 433:Src/ltc.c     **** 		}
 434:Src/ltc.c     **** 		if (DEBUG_LTC == true)
 435:Src/ltc.c     **** 		{
 436:Src/ltc.c     **** 			sprintf(txt, "Ricevuto: %d, %d, %d, %d, %d, %d, %d, %d\r\n", data[0], data[1], data[2], data[3],
 437:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 438:Src/ltc.c     **** 		}
 439:Src/ltc.c     **** 	}
 440:Src/ltc.c     **** 	else
 441:Src/ltc.c     **** 	{
 442:Src/ltc.c     **** 		ret = false;
 443:Src/ltc.c     **** 		if (DEBUG_LTC == true)
 444:Src/ltc.c     **** 		{
 445:Src/ltc.c     **** 			sprintf(txt, "Errore nella trasmissione\r\n");
 446:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 447:Src/ltc.c     **** 		}
 448:Src/ltc.c     **** 	}
 449:Src/ltc.c     **** 	spi_disable_cs(_ltc);
 450:Src/ltc.c     **** 
 451:Src/ltc.c     **** 	pec = (_pec15(6, data) == (uint16_t)(data[6] * 256 + data[7]));
 452:Src/ltc.c     **** 
 453:Src/ltc.c     **** 	if (pec)
 454:Src/ltc.c     **** 	{
 455:Src/ltc.c     **** 		uint8_t cell = 0; // Counts the cell inside the register
 456:Src/ltc.c     **** 		for (cell = 0; cell < 3; cell++)
 457:Src/ltc.c     **** 		{
 458:Src/ltc.c     **** 			_ltc->voltage[cell + 3] = _convert_voltage(&data[2 * cell]);
 459:Src/ltc.c     **** 		}
 460:Src/ltc.c     **** 	}
 461:Src/ltc.c     **** 	else
 462:Src/ltc.c     **** 	{
 463:Src/ltc.c     **** 		ret = false;
 464:Src/ltc.c     **** 		if (DEBUG_LTC == true)
 465:Src/ltc.c     **** 		{
 466:Src/ltc.c     **** 			sprintf(txt, "PEC sbagliata\r\n");
 467:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 468:Src/ltc.c     **** 		}
 469:Src/ltc.c     **** 	}
 470:Src/ltc.c     **** 	//--- END ---//
 471:Src/ltc.c     **** 	return ret;
 472:Src/ltc.c     **** }
 473:Src/ltc.c     **** 
 474:Src/ltc.c     **** /**
 475:Src/ltc.c     ****  * @brief	This function is used to convert the 2 byte raw data from the
ARM GAS  /tmp/cc8d5Ni9.s 			page 11


 476:Src/ltc.c     ****  * 				LTC68xx to a 16 bit unsigned integer
 477:Src/ltc.c     ****  *
 478:Src/ltc.c     ****  * @param 	v_data	Raw data bytes
 479:Src/ltc.c     ****  *
 480:Src/ltc.c     ****  * @retval	Voltage [mV]
 481:Src/ltc.c     ****  */
 482:Src/ltc.c     **** uint16_t _convert_voltage(uint8_t v_data[])
 483:Src/ltc.c     **** {
 101              		.loc 1 483 1 is_stmt 1 view -0
 102              		.cfi_startproc
 103              		@ args = 0, pretend = 0, frame = 0
 104              		@ frame_needed = 0, uses_anonymous_args = 0
 105              		@ link register save eliminated.
 484:Src/ltc.c     **** 	return v_data[0] + (v_data[1] << 8);
 106              		.loc 1 484 2 view .LVU20
 107              		.loc 1 484 15 is_stmt 0 view .LVU21
 108 0000 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 109              		.loc 1 484 28 view .LVU22
 110 0002 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 111              	.LVL6:
 112              		.loc 1 484 19 view .LVU23
 113 0004 03EB0020 		add	r0, r3, r0, lsl #8
 485:Src/ltc.c     **** }
 114              		.loc 1 485 1 view .LVU24
 115 0008 80B2     		uxth	r0, r0
 116 000a 7047     		bx	lr
 117              		.cfi_endproc
 118              	.LFE151:
 120              		.section	.text.spi_enable_cs,"ax",%progbits
 121              		.align	1
 122              		.global	spi_enable_cs
 123              		.syntax unified
 124              		.thumb
 125              		.thumb_func
 126              		.fpu fpv5-d16
 128              	spi_enable_cs:
 129              	.LVL7:
 130              	.LFB153:
 486:Src/ltc.c     **** 
 487:Src/ltc.c     **** void ltc6810_wakeup_idle(ltc_struct *_ltc)
 488:Src/ltc.c     **** {
 489:Src/ltc.c     **** 	uint8_t data[] = {0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF};
 490:Src/ltc.c     **** 	spi_enable_cs(_ltc);
 491:Src/ltc.c     **** 	HAL_SPI_Transmit(_ltc->spi, data, 6, 10);
 492:Src/ltc.c     **** 	spi_disable_cs(_ltc);
 493:Src/ltc.c     **** }
 494:Src/ltc.c     **** void spi_enable_cs(ltc_struct *_ltc)
 495:Src/ltc.c     **** {
 131              		.loc 1 495 1 is_stmt 1 view -0
 132              		.cfi_startproc
 133              		@ args = 0, pretend = 0, frame = 0
 134              		@ frame_needed = 0, uses_anonymous_args = 0
 135              		.loc 1 495 1 is_stmt 0 view .LVU26
 136 0000 10B5     		push	{r4, lr}
 137              	.LCFI0:
 138              		.cfi_def_cfa_offset 8
 139              		.cfi_offset 4, -8
ARM GAS  /tmp/cc8d5Ni9.s 			page 12


 140              		.cfi_offset 14, -4
 141 0002 0446     		mov	r4, r0
 496:Src/ltc.c     **** 	HAL_GPIO_WritePin(_ltc->CS_LTCx, _ltc->CS_LTCn, GPIO_PIN_RESET);
 142              		.loc 1 496 2 is_stmt 1 view .LVU27
 143 0004 0022     		movs	r2, #0
 144 0006 017E     		ldrb	r1, [r0, #24]	@ zero_extendqisi2
 145 0008 4069     		ldr	r0, [r0, #20]
 146              	.LVL8:
 147              		.loc 1 496 2 is_stmt 0 view .LVU28
 148 000a FFF7FEFF 		bl	HAL_GPIO_WritePin
 149              	.LVL9:
 497:Src/ltc.c     **** 	while ((_ltc->spi->State != HAL_SPI_STATE_READY) && (_ltc->spi->State != HAL_SPI_STATE_ERROR))
 150              		.loc 1 497 2 is_stmt 1 view .LVU29
 151              	.L8:
 498:Src/ltc.c     **** 	{
 499:Src/ltc.c     **** 	}
 152              		.loc 1 499 2 discriminator 2 view .LVU30
 497:Src/ltc.c     **** 	while ((_ltc->spi->State != HAL_SPI_STATE_READY) && (_ltc->spi->State != HAL_SPI_STATE_ERROR))
 153              		.loc 1 497 8 discriminator 2 view .LVU31
 497:Src/ltc.c     **** 	while ((_ltc->spi->State != HAL_SPI_STATE_READY) && (_ltc->spi->State != HAL_SPI_STATE_ERROR))
 154              		.loc 1 497 14 is_stmt 0 discriminator 2 view .LVU32
 155 000e 2268     		ldr	r2, [r4]
 497:Src/ltc.c     **** 	while ((_ltc->spi->State != HAL_SPI_STATE_READY) && (_ltc->spi->State != HAL_SPI_STATE_ERROR))
 156              		.loc 1 497 19 discriminator 2 view .LVU33
 157 0010 92F85D30 		ldrb	r3, [r2, #93]	@ zero_extendqisi2
 158 0014 DBB2     		uxtb	r3, r3
 497:Src/ltc.c     **** 	while ((_ltc->spi->State != HAL_SPI_STATE_READY) && (_ltc->spi->State != HAL_SPI_STATE_ERROR))
 159              		.loc 1 497 8 discriminator 2 view .LVU34
 160 0016 012B     		cmp	r3, #1
 161 0018 04D0     		beq	.L6
 497:Src/ltc.c     **** 	while ((_ltc->spi->State != HAL_SPI_STATE_READY) && (_ltc->spi->State != HAL_SPI_STATE_ERROR))
 162              		.loc 1 497 64 discriminator 1 view .LVU35
 163 001a 92F85D30 		ldrb	r3, [r2, #93]	@ zero_extendqisi2
 164 001e DBB2     		uxtb	r3, r3
 497:Src/ltc.c     **** 	while ((_ltc->spi->State != HAL_SPI_STATE_READY) && (_ltc->spi->State != HAL_SPI_STATE_ERROR))
 165              		.loc 1 497 51 discriminator 1 view .LVU36
 166 0020 062B     		cmp	r3, #6
 167 0022 F4D1     		bne	.L8
 168              	.L6:
 500:Src/ltc.c     **** }
 169              		.loc 1 500 1 view .LVU37
 170 0024 10BD     		pop	{r4, pc}
 171              		.loc 1 500 1 view .LVU38
 172              		.cfi_endproc
 173              	.LFE153:
 175              		.section	.text.spi_disable_cs,"ax",%progbits
 176              		.align	1
 177              		.global	spi_disable_cs
 178              		.syntax unified
 179              		.thumb
 180              		.thumb_func
 181              		.fpu fpv5-d16
 183              	spi_disable_cs:
 184              	.LFB154:
 501:Src/ltc.c     **** 
 502:Src/ltc.c     **** void spi_disable_cs(ltc_struct *_ltc)
 503:Src/ltc.c     **** {
ARM GAS  /tmp/cc8d5Ni9.s 			page 13


 185              		.loc 1 503 1 is_stmt 1 view -0
 186              		.cfi_startproc
 187              		@ args = 0, pretend = 0, frame = 0
 188              		@ frame_needed = 0, uses_anonymous_args = 0
 189              	.LVL10:
 190              		.loc 1 503 1 is_stmt 0 view .LVU40
 191 0000 08B5     		push	{r3, lr}
 192              	.LCFI1:
 193              		.cfi_def_cfa_offset 8
 194              		.cfi_offset 3, -8
 195              		.cfi_offset 14, -4
 196              	.L12:
 504:Src/ltc.c     **** 	while ((_ltc->spi->State != HAL_SPI_STATE_READY) && (_ltc->spi->State != HAL_SPI_STATE_ERROR))
 505:Src/ltc.c     **** 	{
 506:Src/ltc.c     **** 	}
 197              		.loc 1 506 2 is_stmt 1 discriminator 2 view .LVU41
 504:Src/ltc.c     **** 	while ((_ltc->spi->State != HAL_SPI_STATE_READY) && (_ltc->spi->State != HAL_SPI_STATE_ERROR))
 198              		.loc 1 504 8 discriminator 2 view .LVU42
 504:Src/ltc.c     **** 	while ((_ltc->spi->State != HAL_SPI_STATE_READY) && (_ltc->spi->State != HAL_SPI_STATE_ERROR))
 199              		.loc 1 504 14 is_stmt 0 discriminator 2 view .LVU43
 200 0002 0268     		ldr	r2, [r0]
 504:Src/ltc.c     **** 	while ((_ltc->spi->State != HAL_SPI_STATE_READY) && (_ltc->spi->State != HAL_SPI_STATE_ERROR))
 201              		.loc 1 504 19 discriminator 2 view .LVU44
 202 0004 92F85D30 		ldrb	r3, [r2, #93]	@ zero_extendqisi2
 203 0008 DBB2     		uxtb	r3, r3
 504:Src/ltc.c     **** 	while ((_ltc->spi->State != HAL_SPI_STATE_READY) && (_ltc->spi->State != HAL_SPI_STATE_ERROR))
 204              		.loc 1 504 8 discriminator 2 view .LVU45
 205 000a 012B     		cmp	r3, #1
 206 000c 04D0     		beq	.L11
 504:Src/ltc.c     **** 	while ((_ltc->spi->State != HAL_SPI_STATE_READY) && (_ltc->spi->State != HAL_SPI_STATE_ERROR))
 207              		.loc 1 504 64 discriminator 1 view .LVU46
 208 000e 92F85D30 		ldrb	r3, [r2, #93]	@ zero_extendqisi2
 209 0012 DBB2     		uxtb	r3, r3
 504:Src/ltc.c     **** 	while ((_ltc->spi->State != HAL_SPI_STATE_READY) && (_ltc->spi->State != HAL_SPI_STATE_ERROR))
 210              		.loc 1 504 51 discriminator 1 view .LVU47
 211 0014 062B     		cmp	r3, #6
 212 0016 F4D1     		bne	.L12
 213              	.L11:
 507:Src/ltc.c     **** 	HAL_GPIO_WritePin(_ltc->CS_LTCx, _ltc->CS_LTCn, GPIO_PIN_SET);
 214              		.loc 1 507 2 is_stmt 1 view .LVU48
 215 0018 0122     		movs	r2, #1
 216 001a 017E     		ldrb	r1, [r0, #24]	@ zero_extendqisi2
 217 001c 4069     		ldr	r0, [r0, #20]
 218              	.LVL11:
 219              		.loc 1 507 2 is_stmt 0 view .LVU49
 220 001e FFF7FEFF 		bl	HAL_GPIO_WritePin
 221              	.LVL12:
 508:Src/ltc.c     **** }
 222              		.loc 1 508 1 view .LVU50
 223 0022 08BD     		pop	{r3, pc}
 224              		.cfi_endproc
 225              	.LFE154:
 227              		.section	.rodata.ltc6810_wakeup_idle.str1.4,"aMS",%progbits,1
 228              		.align	2
 229              	.LC0:
 230 0000 FFFFFFFF 		.ascii	"\377\377\377\377\377\377\000"
 230      FFFF00
ARM GAS  /tmp/cc8d5Ni9.s 			page 14


 231              		.section	.text.ltc6810_wakeup_idle,"ax",%progbits
 232              		.align	1
 233              		.global	ltc6810_wakeup_idle
 234              		.syntax unified
 235              		.thumb
 236              		.thumb_func
 237              		.fpu fpv5-d16
 239              	ltc6810_wakeup_idle:
 240              	.LVL13:
 241              	.LFB152:
 488:Src/ltc.c     **** 	uint8_t data[] = {0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF};
 242              		.loc 1 488 1 is_stmt 1 view -0
 243              		.cfi_startproc
 244              		@ args = 0, pretend = 0, frame = 8
 245              		@ frame_needed = 0, uses_anonymous_args = 0
 488:Src/ltc.c     **** 	uint8_t data[] = {0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF};
 246              		.loc 1 488 1 is_stmt 0 view .LVU52
 247 0000 10B5     		push	{r4, lr}
 248              	.LCFI2:
 249              		.cfi_def_cfa_offset 8
 250              		.cfi_offset 4, -8
 251              		.cfi_offset 14, -4
 252 0002 82B0     		sub	sp, sp, #8
 253              	.LCFI3:
 254              		.cfi_def_cfa_offset 16
 255 0004 0446     		mov	r4, r0
 489:Src/ltc.c     **** 	spi_enable_cs(_ltc);
 256              		.loc 1 489 2 is_stmt 1 view .LVU53
 489:Src/ltc.c     **** 	spi_enable_cs(_ltc);
 257              		.loc 1 489 10 is_stmt 0 view .LVU54
 258 0006 0A4B     		ldr	r3, .L16
 259 0008 93E80300 		ldm	r3, {r0, r1}
 260              	.LVL14:
 489:Src/ltc.c     **** 	spi_enable_cs(_ltc);
 261              		.loc 1 489 10 view .LVU55
 262 000c 0090     		str	r0, [sp]
 263 000e ADF80410 		strh	r1, [sp, #4]	@ movhi
 490:Src/ltc.c     **** 	HAL_SPI_Transmit(_ltc->spi, data, 6, 10);
 264              		.loc 1 490 2 is_stmt 1 view .LVU56
 265 0012 2046     		mov	r0, r4
 266 0014 FFF7FEFF 		bl	spi_enable_cs
 267              	.LVL15:
 491:Src/ltc.c     **** 	spi_disable_cs(_ltc);
 268              		.loc 1 491 2 view .LVU57
 269 0018 0A23     		movs	r3, #10
 270 001a 0622     		movs	r2, #6
 271 001c 6946     		mov	r1, sp
 272 001e 2068     		ldr	r0, [r4]
 273 0020 FFF7FEFF 		bl	HAL_SPI_Transmit
 274              	.LVL16:
 492:Src/ltc.c     **** }
 275              		.loc 1 492 2 view .LVU58
 276 0024 2046     		mov	r0, r4
 277 0026 FFF7FEFF 		bl	spi_disable_cs
 278              	.LVL17:
 493:Src/ltc.c     **** void spi_enable_cs(ltc_struct *_ltc)
 279              		.loc 1 493 1 is_stmt 0 view .LVU59
ARM GAS  /tmp/cc8d5Ni9.s 			page 15


 280 002a 02B0     		add	sp, sp, #8
 281              	.LCFI4:
 282              		.cfi_def_cfa_offset 8
 283              		@ sp needed
 284 002c 10BD     		pop	{r4, pc}
 285              	.LVL18:
 286              	.L17:
 493:Src/ltc.c     **** void spi_enable_cs(ltc_struct *_ltc)
 287              		.loc 1 493 1 view .LVU60
 288 002e 00BF     		.align	2
 289              	.L16:
 290 0030 00000000 		.word	.LC0
 291              		.cfi_endproc
 292              	.LFE152:
 294              		.section	.text._pec15,"ax",%progbits
 295              		.align	1
 296              		.global	_pec15
 297              		.syntax unified
 298              		.thumb
 299              		.thumb_func
 300              		.fpu fpv5-d16
 302              	_pec15:
 303              	.LVL19:
 304              	.LFB155:
 509:Src/ltc.c     **** 
 510:Src/ltc.c     **** uint16_t _pec15(uint8_t len, uint8_t data[])
 511:Src/ltc.c     **** {
 305              		.loc 1 511 1 is_stmt 1 view -0
 306              		.cfi_startproc
 307              		@ args = 0, pretend = 0, frame = 0
 308              		@ frame_needed = 0, uses_anonymous_args = 0
 309              		@ link register save eliminated.
 310              		.loc 1 511 1 is_stmt 0 view .LVU62
 311 0000 30B4     		push	{r4, r5}
 312              	.LCFI5:
 313              		.cfi_def_cfa_offset 8
 314              		.cfi_offset 4, -8
 315              		.cfi_offset 5, -4
 512:Src/ltc.c     **** 	uint16_t remainder, address;
 316              		.loc 1 512 2 is_stmt 1 view .LVU63
 513:Src/ltc.c     **** 	remainder = 16; // PEC seed
 317              		.loc 1 513 2 view .LVU64
 318              	.LVL20:
 514:Src/ltc.c     **** 	for (int i = 0; i < len; i++)
 319              		.loc 1 514 2 view .LVU65
 320              	.LBB2:
 321              		.loc 1 514 7 view .LVU66
 322              		.loc 1 514 11 is_stmt 0 view .LVU67
 323 0002 0024     		movs	r4, #0
 324              	.LBE2:
 513:Src/ltc.c     **** 	remainder = 16; // PEC seed
 325              		.loc 1 513 12 view .LVU68
 326 0004 1022     		movs	r2, #16
 327              	.LVL21:
 328              	.L19:
 329              	.LBB3:
 330              		.loc 1 514 18 is_stmt 1 discriminator 1 view .LVU69
ARM GAS  /tmp/cc8d5Ni9.s 			page 16


 331              		.loc 1 514 2 is_stmt 0 discriminator 1 view .LVU70
 332 0006 A042     		cmp	r0, r4
 333 0008 0BDD     		ble	.L22
 515:Src/ltc.c     **** 	{
 516:Src/ltc.c     **** 		// calculate PEC table address
 517:Src/ltc.c     **** 		address = ((remainder >> 7) ^ data[i]) & 0xff;
 334              		.loc 1 517 3 is_stmt 1 discriminator 3 view .LVU71
 335              		.loc 1 517 37 is_stmt 0 discriminator 3 view .LVU72
 336 000a 0B5D     		ldrb	r3, [r1, r4]	@ zero_extendqisi2
 337              		.loc 1 517 31 discriminator 3 view .LVU73
 338 000c 83EAD213 		eor	r3, r3, r2, lsr #7
 339              		.loc 1 517 11 discriminator 3 view .LVU74
 340 0010 DBB2     		uxtb	r3, r3
 341              	.LVL22:
 518:Src/ltc.c     **** 		remainder = (remainder << 8) ^ crcTable[address];
 342              		.loc 1 518 3 is_stmt 1 discriminator 3 view .LVU75
 343              		.loc 1 518 42 is_stmt 0 discriminator 3 view .LVU76
 344 0012 064D     		ldr	r5, .L23
 345 0014 35F91330 		ldrsh	r3, [r5, r3, lsl #1]
 346              	.LVL23:
 347              		.loc 1 518 32 discriminator 3 view .LVU77
 348 0018 83EA0222 		eor	r2, r3, r2, lsl #8
 349              	.LVL24:
 350              		.loc 1 518 13 discriminator 3 view .LVU78
 351 001c 92B2     		uxth	r2, r2
 352              	.LVL25:
 514:Src/ltc.c     **** 	for (int i = 0; i < len; i++)
 353              		.loc 1 514 27 is_stmt 1 discriminator 3 view .LVU79
 514:Src/ltc.c     **** 	for (int i = 0; i < len; i++)
 354              		.loc 1 514 28 is_stmt 0 discriminator 3 view .LVU80
 355 001e 0134     		adds	r4, r4, #1
 356              	.LVL26:
 514:Src/ltc.c     **** 	for (int i = 0; i < len; i++)
 357              		.loc 1 514 28 discriminator 3 view .LVU81
 358 0020 F1E7     		b	.L19
 359              	.L22:
 514:Src/ltc.c     **** 	for (int i = 0; i < len; i++)
 360              		.loc 1 514 28 discriminator 3 view .LVU82
 361              	.LBE3:
 519:Src/ltc.c     **** 	}
 520:Src/ltc.c     **** 	// The CRC15 has a 0 in the LSB so the final value must be multiplied by 2
 521:Src/ltc.c     **** 	return (remainder * 2);
 362              		.loc 1 521 2 is_stmt 1 view .LVU83
 363              		.loc 1 521 20 is_stmt 0 view .LVU84
 364 0022 5000     		lsls	r0, r2, #1
 365              	.LVL27:
 366              		.loc 1 521 20 view .LVU85
 367 0024 80B2     		uxth	r0, r0
 522:Src/ltc.c     **** }
 368              		.loc 1 522 1 view .LVU86
 369 0026 30BC     		pop	{r4, r5}
 370              	.LCFI6:
 371              		.cfi_restore 5
 372              		.cfi_restore 4
 373              		.cfi_def_cfa_offset 0
 374              	.LVL28:
 375              		.loc 1 522 1 view .LVU87
ARM GAS  /tmp/cc8d5Ni9.s 			page 17


 376 0028 7047     		bx	lr
 377              	.L24:
 378 002a 00BF     		.align	2
 379              	.L23:
 380 002c 00000000 		.word	.LANCHOR0
 381              		.cfi_endproc
 382              	.LFE155:
 384              		.section	.rodata.ltc_set_REFON.str1.4,"aMS",%progbits,1
 385              		.align	2
 386              	.LC1:
 387 0000 54726173 		.ascii	"Trasmesso CMD: %d, %d, %d, %d, %d, %d, %d, %d, %d, "
 387      6D657373 
 387      6F20434D 
 387      443A2025 
 387      642C2025 
 388 0033 25642C20 		.ascii	"%d, %d, %d\015\012\000"
 388      25642C20 
 388      25640D0A 
 388      00
 389              		.section	.text.ltc_set_REFON,"ax",%progbits
 390              		.align	1
 391              		.global	ltc_set_REFON
 392              		.syntax unified
 393              		.thumb
 394              		.thumb_func
 395              		.fpu fpv5-d16
 397              	ltc_set_REFON:
 398              	.LVL29:
 399              	.LFB146:
  29:Src/ltc.c     **** 	bool ret = true;
 400              		.loc 1 29 1 is_stmt 1 view -0
 401              		.cfi_startproc
 402              		@ args = 0, pretend = 0, frame = 24
 403              		@ frame_needed = 0, uses_anonymous_args = 0
  29:Src/ltc.c     **** 	bool ret = true;
 404              		.loc 1 29 1 is_stmt 0 view .LVU89
 405 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 406              	.LCFI7:
 407              		.cfi_def_cfa_offset 32
 408              		.cfi_offset 4, -32
 409              		.cfi_offset 5, -28
 410              		.cfi_offset 6, -24
 411              		.cfi_offset 7, -20
 412              		.cfi_offset 8, -16
 413              		.cfi_offset 9, -12
 414              		.cfi_offset 10, -8
 415              		.cfi_offset 14, -4
 416 0004 90B0     		sub	sp, sp, #64
 417              	.LCFI8:
 418              		.cfi_def_cfa_offset 96
 419 0006 0546     		mov	r5, r0
  30:Src/ltc.c     **** 	uint16_t pec;
 420              		.loc 1 30 2 is_stmt 1 view .LVU90
 421              	.LVL30:
  31:Src/ltc.c     **** 	uint8_t cmd[4];
 422              		.loc 1 31 2 view .LVU91
  32:Src/ltc.c     **** 	uint16_t CC;
ARM GAS  /tmp/cc8d5Ni9.s 			page 18


 423              		.loc 1 32 2 view .LVU92
  33:Src/ltc.c     **** 	uint16_t cmd_pec;
 424              		.loc 1 33 2 view .LVU93
  34:Src/ltc.c     **** 	uint8_t data[12];
 425              		.loc 1 34 2 view .LVU94
  35:Src/ltc.c     **** 	uint8_t payload[8];
 426              		.loc 1 35 2 view .LVU95
  36:Src/ltc.c     **** 
 427              		.loc 1 36 2 view .LVU96
  38:Src/ltc.c     **** 
 428              		.loc 1 38 2 view .LVU97
  40:Src/ltc.c     **** 			 (_ltc->address << 3) | // LTC address
 429              		.loc 1 40 2 view .LVU98
  41:Src/ltc.c     **** 			 (CC >> 8);				// Send 3 most significant bit of CC
 430              		.loc 1 41 10 is_stmt 0 view .LVU99
 431 0008 0479     		ldrb	r4, [r0, #4]	@ zero_extendqisi2
  41:Src/ltc.c     **** 			 (CC >> 8);				// Send 3 most significant bit of CC
 432              		.loc 1 41 20 view .LVU100
 433 000a E400     		lsls	r4, r4, #3
  40:Src/ltc.c     **** 			 (_ltc->address << 3) | // LTC address
 434              		.loc 1 40 25 view .LVU101
 435 000c 64F07F04 		orn	r4, r4, #127
  41:Src/ltc.c     **** 			 (CC >> 8);				// Send 3 most significant bit of CC
 436              		.loc 1 41 26 view .LVU102
 437 0010 04F0F804 		and	r4, r4, #248
  40:Src/ltc.c     **** 			 (_ltc->address << 3) | // LTC address
 438              		.loc 1 40 9 view .LVU103
 439 0014 8DF83C40 		strb	r4, [sp, #60]
  43:Src/ltc.c     **** 	cmd_pec = _pec15(2, cmd); // Calculate the PEC
 440              		.loc 1 43 2 is_stmt 1 view .LVU104
  43:Src/ltc.c     **** 	cmd_pec = _pec15(2, cmd); // Calculate the PEC
 441              		.loc 1 43 9 is_stmt 0 view .LVU105
 442 0018 0126     		movs	r6, #1
 443 001a 8DF83D60 		strb	r6, [sp, #61]
  44:Src/ltc.c     **** 	cmd[2] = (uint8_t)(cmd_pec >> 8);
 444              		.loc 1 44 2 is_stmt 1 view .LVU106
  44:Src/ltc.c     **** 	cmd[2] = (uint8_t)(cmd_pec >> 8);
 445              		.loc 1 44 12 is_stmt 0 view .LVU107
 446 001e 0FA9     		add	r1, sp, #60
 447 0020 0220     		movs	r0, #2
 448              	.LVL31:
  44:Src/ltc.c     **** 	cmd[2] = (uint8_t)(cmd_pec >> 8);
 449              		.loc 1 44 12 view .LVU108
 450 0022 FFF7FEFF 		bl	_pec15
 451              	.LVL32:
  45:Src/ltc.c     **** 	cmd[3] = (uint8_t)(cmd_pec);
 452              		.loc 1 45 2 is_stmt 1 view .LVU109
  45:Src/ltc.c     **** 	cmd[3] = (uint8_t)(cmd_pec);
 453              		.loc 1 45 11 is_stmt 0 view .LVU110
 454 0026 C0F30723 		ubfx	r3, r0, #8, #8
  45:Src/ltc.c     **** 	cmd[3] = (uint8_t)(cmd_pec);
 455              		.loc 1 45 9 view .LVU111
 456 002a 8DF83E30 		strb	r3, [sp, #62]
  46:Src/ltc.c     **** 
 457              		.loc 1 46 2 is_stmt 1 view .LVU112
  46:Src/ltc.c     **** 
 458              		.loc 1 46 11 is_stmt 0 view .LVU113
ARM GAS  /tmp/cc8d5Ni9.s 			page 19


 459 002e C0B2     		uxtb	r0, r0
 460              	.LVL33:
  46:Src/ltc.c     **** 
 461              		.loc 1 46 9 view .LVU114
 462 0030 8DF83F00 		strb	r0, [sp, #63]
  48:Src/ltc.c     **** 	data[1] = cmd[1];
 463              		.loc 1 48 2 is_stmt 1 view .LVU115
  48:Src/ltc.c     **** 	data[1] = cmd[1];
 464              		.loc 1 48 10 is_stmt 0 view .LVU116
 465 0034 8DF83040 		strb	r4, [sp, #48]
  49:Src/ltc.c     **** 	data[2] = cmd[2];
 466              		.loc 1 49 2 is_stmt 1 view .LVU117
  49:Src/ltc.c     **** 	data[2] = cmd[2];
 467              		.loc 1 49 10 is_stmt 0 view .LVU118
 468 0038 8DF83160 		strb	r6, [sp, #49]
  50:Src/ltc.c     **** 	data[3] = cmd[3];
 469              		.loc 1 50 2 is_stmt 1 view .LVU119
  50:Src/ltc.c     **** 	data[3] = cmd[3];
 470              		.loc 1 50 10 is_stmt 0 view .LVU120
 471 003c 8DF83230 		strb	r3, [sp, #50]
  51:Src/ltc.c     **** 	data[4] = 0x04;
 472              		.loc 1 51 2 is_stmt 1 view .LVU121
  51:Src/ltc.c     **** 	data[4] = 0x04;
 473              		.loc 1 51 10 is_stmt 0 view .LVU122
 474 0040 8DF83300 		strb	r0, [sp, #51]
  52:Src/ltc.c     **** 	payload[0] = data[4];
 475              		.loc 1 52 2 is_stmt 1 view .LVU123
  52:Src/ltc.c     **** 	payload[0] = data[4];
 476              		.loc 1 52 10 is_stmt 0 view .LVU124
 477 0044 0423     		movs	r3, #4
 478 0046 8DF83430 		strb	r3, [sp, #52]
  53:Src/ltc.c     **** 	data[5] = 0x00;
 479              		.loc 1 53 2 is_stmt 1 view .LVU125
  53:Src/ltc.c     **** 	data[5] = 0x00;
 480              		.loc 1 53 13 is_stmt 0 view .LVU126
 481 004a 8DF82830 		strb	r3, [sp, #40]
  54:Src/ltc.c     **** 	payload[1] = data[5];
 482              		.loc 1 54 2 is_stmt 1 view .LVU127
  54:Src/ltc.c     **** 	payload[1] = data[5];
 483              		.loc 1 54 10 is_stmt 0 view .LVU128
 484 004e 0023     		movs	r3, #0
 485 0050 8DF83530 		strb	r3, [sp, #53]
  55:Src/ltc.c     **** 	data[6] = 0x00;
 486              		.loc 1 55 2 is_stmt 1 view .LVU129
  55:Src/ltc.c     **** 	data[6] = 0x00;
 487              		.loc 1 55 13 is_stmt 0 view .LVU130
 488 0054 8DF82930 		strb	r3, [sp, #41]
  56:Src/ltc.c     **** 	payload[2] = data[6];
 489              		.loc 1 56 2 is_stmt 1 view .LVU131
  56:Src/ltc.c     **** 	payload[2] = data[6];
 490              		.loc 1 56 10 is_stmt 0 view .LVU132
 491 0058 8DF83630 		strb	r3, [sp, #54]
  57:Src/ltc.c     **** 	data[7] = 0x00;
 492              		.loc 1 57 2 is_stmt 1 view .LVU133
  57:Src/ltc.c     **** 	data[7] = 0x00;
 493              		.loc 1 57 13 is_stmt 0 view .LVU134
 494 005c 8DF82A30 		strb	r3, [sp, #42]
ARM GAS  /tmp/cc8d5Ni9.s 			page 20


  58:Src/ltc.c     **** 	payload[3] = data[7];
 495              		.loc 1 58 2 is_stmt 1 view .LVU135
  58:Src/ltc.c     **** 	payload[3] = data[7];
 496              		.loc 1 58 10 is_stmt 0 view .LVU136
 497 0060 8DF83730 		strb	r3, [sp, #55]
  59:Src/ltc.c     **** 	data[8] = 0x00;
 498              		.loc 1 59 2 is_stmt 1 view .LVU137
  59:Src/ltc.c     **** 	data[8] = 0x00;
 499              		.loc 1 59 13 is_stmt 0 view .LVU138
 500 0064 8DF82B30 		strb	r3, [sp, #43]
  60:Src/ltc.c     **** 	payload[4] = data[8];
 501              		.loc 1 60 2 is_stmt 1 view .LVU139
  60:Src/ltc.c     **** 	payload[4] = data[8];
 502              		.loc 1 60 10 is_stmt 0 view .LVU140
 503 0068 8DF83830 		strb	r3, [sp, #56]
  61:Src/ltc.c     **** 	data[9] = 0x00;
 504              		.loc 1 61 2 is_stmt 1 view .LVU141
  61:Src/ltc.c     **** 	data[9] = 0x00;
 505              		.loc 1 61 13 is_stmt 0 view .LVU142
 506 006c 8DF82C30 		strb	r3, [sp, #44]
  62:Src/ltc.c     **** 	payload[5] = data[9];
 507              		.loc 1 62 2 is_stmt 1 view .LVU143
  62:Src/ltc.c     **** 	payload[5] = data[9];
 508              		.loc 1 62 10 is_stmt 0 view .LVU144
 509 0070 8DF83930 		strb	r3, [sp, #57]
  63:Src/ltc.c     **** 	pec = _pec15(6, payload);
 510              		.loc 1 63 2 is_stmt 1 view .LVU145
  63:Src/ltc.c     **** 	pec = _pec15(6, payload);
 511              		.loc 1 63 13 is_stmt 0 view .LVU146
 512 0074 8DF82D30 		strb	r3, [sp, #45]
  64:Src/ltc.c     **** 	data[10] = (uint8_t)(pec >> 8);
 513              		.loc 1 64 2 is_stmt 1 view .LVU147
  64:Src/ltc.c     **** 	data[10] = (uint8_t)(pec >> 8);
 514              		.loc 1 64 8 is_stmt 0 view .LVU148
 515 0078 0AA9     		add	r1, sp, #40
 516 007a 0620     		movs	r0, #6
 517 007c FFF7FEFF 		bl	_pec15
 518              	.LVL34:
  65:Src/ltc.c     **** 	data[11] = (uint8_t)(pec);
 519              		.loc 1 65 2 is_stmt 1 view .LVU149
  65:Src/ltc.c     **** 	data[11] = (uint8_t)(pec);
 520              		.loc 1 65 13 is_stmt 0 view .LVU150
 521 0080 C0F30723 		ubfx	r3, r0, #8, #8
  65:Src/ltc.c     **** 	data[11] = (uint8_t)(pec);
 522              		.loc 1 65 11 view .LVU151
 523 0084 8DF83A30 		strb	r3, [sp, #58]
  66:Src/ltc.c     **** 	ltc6810_wakeup_idle(_ltc);
 524              		.loc 1 66 2 is_stmt 1 view .LVU152
  66:Src/ltc.c     **** 	ltc6810_wakeup_idle(_ltc);
 525              		.loc 1 66 11 is_stmt 0 view .LVU153
 526 0088 8DF83B00 		strb	r0, [sp, #59]
  67:Src/ltc.c     **** 	spi_enable_cs(_ltc);
 527              		.loc 1 67 2 is_stmt 1 view .LVU154
 528 008c 2846     		mov	r0, r5
 529              	.LVL35:
  67:Src/ltc.c     **** 	spi_enable_cs(_ltc);
 530              		.loc 1 67 2 is_stmt 0 view .LVU155
ARM GAS  /tmp/cc8d5Ni9.s 			page 21


 531 008e FFF7FEFF 		bl	ltc6810_wakeup_idle
 532              	.LVL36:
  68:Src/ltc.c     **** 	if (HAL_SPI_Transmit(_ltc->spi, data, 12, 100) == HAL_OK)
 533              		.loc 1 68 2 is_stmt 1 view .LVU156
 534 0092 2846     		mov	r0, r5
 535 0094 FFF7FEFF 		bl	spi_enable_cs
 536              	.LVL37:
  69:Src/ltc.c     **** 	{
 537              		.loc 1 69 2 view .LVU157
  69:Src/ltc.c     **** 	{
 538              		.loc 1 69 6 is_stmt 0 view .LVU158
 539 0098 6423     		movs	r3, #100
 540 009a 0C22     		movs	r2, #12
 541 009c 0CA9     		add	r1, sp, #48
 542 009e 2868     		ldr	r0, [r5]
 543 00a0 FFF7FEFF 		bl	HAL_SPI_Transmit
 544              	.LVL38:
  69:Src/ltc.c     **** 	{
 545              		.loc 1 69 5 view .LVU159
 546 00a4 0028     		cmp	r0, #0
 547 00a6 3AD1     		bne	.L27
  71:Src/ltc.c     **** 		{
 548              		.loc 1 71 3 is_stmt 1 view .LVU160
  71:Src/ltc.c     **** 		{
 549              		.loc 1 71 17 is_stmt 0 view .LVU161
 550 00a8 214B     		ldr	r3, .L31
 551 00aa 1C78     		ldrb	r4, [r3]	@ zero_extendqisi2
  71:Src/ltc.c     **** 		{
 552              		.loc 1 71 6 view .LVU162
 553 00ac 0CB9     		cbnz	r4, .L30
  30:Src/ltc.c     **** 	uint16_t pec;
 554              		.loc 1 30 7 view .LVU163
 555 00ae 0124     		movs	r4, #1
 556 00b0 36E0     		b	.L26
 557              	.L30:
  73:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 100);
 558              		.loc 1 73 4 is_stmt 1 view .LVU164
  73:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 100);
 559              		.loc 1 73 108 is_stmt 0 view .LVU165
 560 00b2 9DF83230 		ldrb	r3, [sp, #50]	@ zero_extendqisi2
  73:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 100);
 561              		.loc 1 73 117 view .LVU166
 562 00b6 9DF83320 		ldrb	r2, [sp, #51]	@ zero_extendqisi2
  73:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 100);
 563              		.loc 1 73 126 view .LVU167
 564 00ba 9DF83410 		ldrb	r1, [sp, #52]	@ zero_extendqisi2
  73:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 100);
 565              		.loc 1 73 135 view .LVU168
 566 00be 9DF83500 		ldrb	r0, [sp, #53]	@ zero_extendqisi2
  73:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 100);
 567              		.loc 1 73 144 view .LVU169
 568 00c2 9DF83670 		ldrb	r7, [sp, #54]	@ zero_extendqisi2
  73:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 100);
 569              		.loc 1 73 153 view .LVU170
 570 00c6 9DF837C0 		ldrb	ip, [sp, #55]	@ zero_extendqisi2
  73:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 100);
 571              		.loc 1 73 162 view .LVU171
ARM GAS  /tmp/cc8d5Ni9.s 			page 22


 572 00ca 9DF838E0 		ldrb	lr, [sp, #56]	@ zero_extendqisi2
  73:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 100);
 573              		.loc 1 73 171 view .LVU172
 574 00ce 9DF83980 		ldrb	r8, [sp, #57]	@ zero_extendqisi2
  73:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 100);
 575              		.loc 1 73 180 view .LVU173
 576 00d2 9DF83A90 		ldrb	r9, [sp, #58]	@ zero_extendqisi2
  73:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 100);
 577              		.loc 1 73 190 view .LVU174
 578 00d6 9DF83BA0 		ldrb	r10, [sp, #59]	@ zero_extendqisi2
  73:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 100);
 579              		.loc 1 73 4 view .LVU175
 580 00da 164E     		ldr	r6, .L31+4
 581 00dc CDF824A0 		str	r10, [sp, #36]
 582 00e0 CDF82090 		str	r9, [sp, #32]
 583 00e4 CDF81C80 		str	r8, [sp, #28]
 584 00e8 CDF818E0 		str	lr, [sp, #24]
 585 00ec CDF814C0 		str	ip, [sp, #20]
 586 00f0 0497     		str	r7, [sp, #16]
 587 00f2 0390     		str	r0, [sp, #12]
 588 00f4 0291     		str	r1, [sp, #8]
 589 00f6 0192     		str	r2, [sp, #4]
 590 00f8 0093     		str	r3, [sp]
 591 00fa 9DF83130 		ldrb	r3, [sp, #49]	@ zero_extendqisi2
 592 00fe 9DF83020 		ldrb	r2, [sp, #48]	@ zero_extendqisi2
 593 0102 0D49     		ldr	r1, .L31+8
 594 0104 3046     		mov	r0, r6
 595 0106 FFF7FEFF 		bl	sprintf
 596              	.LVL39:
  74:Src/ltc.c     **** 		}
 597              		.loc 1 74 4 is_stmt 1 view .LVU176
  74:Src/ltc.c     **** 		}
 598              		.loc 1 74 47 is_stmt 0 view .LVU177
 599 010a 3046     		mov	r0, r6
 600 010c FFF7FEFF 		bl	strlen
 601              	.LVL40:
  74:Src/ltc.c     **** 		}
 602              		.loc 1 74 4 view .LVU178
 603 0110 6423     		movs	r3, #100
 604 0112 82B2     		uxth	r2, r0
 605 0114 3146     		mov	r1, r6
 606 0116 0948     		ldr	r0, .L31+12
 607 0118 FFF7FEFF 		bl	HAL_UART_Transmit
 608              	.LVL41:
 609 011c 00E0     		b	.L26
 610              	.L27:
  79:Src/ltc.c     **** 	}
 611              		.loc 1 79 7 view .LVU179
 612 011e 0024     		movs	r4, #0
 613              	.L26:
 614              	.LVL42:
  81:Src/ltc.c     **** 
 615              		.loc 1 81 2 is_stmt 1 view .LVU180
 616 0120 2846     		mov	r0, r5
 617 0122 FFF7FEFF 		bl	spi_disable_cs
 618              	.LVL43:
  83:Src/ltc.c     **** }
ARM GAS  /tmp/cc8d5Ni9.s 			page 23


 619              		.loc 1 83 2 view .LVU181
  84:Src/ltc.c     **** bool ltc_read_conf_reg(ltc_struct *_ltc)
 620              		.loc 1 84 1 is_stmt 0 view .LVU182
 621 0126 2046     		mov	r0, r4
 622 0128 10B0     		add	sp, sp, #64
 623              	.LCFI9:
 624              		.cfi_def_cfa_offset 32
 625              		@ sp needed
 626 012a BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 627              	.LVL44:
 628              	.L32:
  84:Src/ltc.c     **** bool ltc_read_conf_reg(ltc_struct *_ltc)
 629              		.loc 1 84 1 view .LVU183
 630 012e 00BF     		.align	2
 631              	.L31:
 632 0130 00000000 		.word	DEBUG_LTC
 633 0134 00000000 		.word	txt
 634 0138 00000000 		.word	.LC1
 635 013c 00000000 		.word	huart4
 636              		.cfi_endproc
 637              	.LFE146:
 639              		.section	.rodata.ltc_read_conf_reg.str1.4,"aMS",%progbits,1
 640              		.align	2
 641              	.LC2:
 642 0000 54726173 		.ascii	"Trasmesso RDCFG: %d, %d, %d, %d\015\012\000"
 642      6D657373 
 642      6F205244 
 642      4346473A 
 642      2025642C 
 643 0022 0000     		.align	2
 644              	.LC3:
 645 0024 52696365 		.ascii	"Ricevuto: %d, %d, %d, %d, %d, %d, %d, %d\015\012\000"
 645      7675746F 
 645      3A202564 
 645      2C202564 
 645      2C202564 
 646 004f 00       		.align	2
 647              	.LC4:
 648 0050 4572726F 		.ascii	"Errore nella trasmissione\015\012\000"
 648      7265206E 
 648      656C6C61 
 648      20747261 
 648      736D6973 
 649              		.align	2
 650              	.LC5:
 651 006c 50454320 		.ascii	"PEC sbagliata\015\012\000"
 651      73626167 
 651      6C696174 
 651      610D0A00 
 652              		.section	.text.ltc_read_conf_reg,"ax",%progbits
 653              		.align	1
 654              		.global	ltc_read_conf_reg
 655              		.syntax unified
 656              		.thumb
 657              		.thumb_func
 658              		.fpu fpv5-d16
 660              	ltc_read_conf_reg:
ARM GAS  /tmp/cc8d5Ni9.s 			page 24


 661              	.LVL45:
 662              	.LFB147:
  86:Src/ltc.c     **** 	bool ret = true;
 663              		.loc 1 86 1 is_stmt 1 view -0
 664              		.cfi_startproc
 665              		@ args = 0, pretend = 0, frame = 16
 666              		@ frame_needed = 0, uses_anonymous_args = 0
  86:Src/ltc.c     **** 	bool ret = true;
 667              		.loc 1 86 1 is_stmt 0 view .LVU185
 668 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 669              	.LCFI10:
 670              		.cfi_def_cfa_offset 20
 671              		.cfi_offset 4, -20
 672              		.cfi_offset 5, -16
 673              		.cfi_offset 6, -12
 674              		.cfi_offset 7, -8
 675              		.cfi_offset 14, -4
 676 0002 8BB0     		sub	sp, sp, #44
 677              	.LCFI11:
 678              		.cfi_def_cfa_offset 64
 679 0004 0446     		mov	r4, r0
  87:Src/ltc.c     **** 	bool pec;
 680              		.loc 1 87 2 is_stmt 1 view .LVU186
 681              	.LVL46:
  88:Src/ltc.c     **** 	uint8_t cmd[4];
 682              		.loc 1 88 2 view .LVU187
  89:Src/ltc.c     **** 	uint16_t CC;
 683              		.loc 1 89 2 view .LVU188
  90:Src/ltc.c     **** 	uint16_t cmd_pec;
 684              		.loc 1 90 2 view .LVU189
  91:Src/ltc.c     **** 	uint8_t data[8];
 685              		.loc 1 91 2 view .LVU190
  92:Src/ltc.c     **** 
 686              		.loc 1 92 2 view .LVU191
  94:Src/ltc.c     **** 	cmd[0] = (uint8_t)0x80 |		// Address Command mode
 687              		.loc 1 94 2 view .LVU192
  95:Src/ltc.c     **** 			 (_ltc->address << 3) | // LTC address
 688              		.loc 1 95 2 view .LVU193
  96:Src/ltc.c     **** 			 (CC >> 8);				// Send 3 most significant bit of CC
 689              		.loc 1 96 10 is_stmt 0 view .LVU194
 690 0006 0379     		ldrb	r3, [r0, #4]	@ zero_extendqisi2
  96:Src/ltc.c     **** 			 (CC >> 8);				// Send 3 most significant bit of CC
 691              		.loc 1 96 20 view .LVU195
 692 0008 DB00     		lsls	r3, r3, #3
  95:Src/ltc.c     **** 			 (_ltc->address << 3) | // LTC address
 693              		.loc 1 95 25 view .LVU196
 694 000a 63F07F03 		orn	r3, r3, #127
  95:Src/ltc.c     **** 			 (_ltc->address << 3) | // LTC address
 695              		.loc 1 95 9 view .LVU197
 696 000e 8DF82430 		strb	r3, [sp, #36]
  98:Src/ltc.c     **** 	cmd_pec = _pec15(2, cmd); // Calculate the PEC
 697              		.loc 1 98 2 is_stmt 1 view .LVU198
  98:Src/ltc.c     **** 	cmd_pec = _pec15(2, cmd); // Calculate the PEC
 698              		.loc 1 98 9 is_stmt 0 view .LVU199
 699 0012 0220     		movs	r0, #2
 700              	.LVL47:
  98:Src/ltc.c     **** 	cmd_pec = _pec15(2, cmd); // Calculate the PEC
ARM GAS  /tmp/cc8d5Ni9.s 			page 25


 701              		.loc 1 98 9 view .LVU200
 702 0014 8DF82500 		strb	r0, [sp, #37]
  99:Src/ltc.c     **** 	cmd[2] = (uint8_t)(cmd_pec >> 8);
 703              		.loc 1 99 2 is_stmt 1 view .LVU201
  99:Src/ltc.c     **** 	cmd[2] = (uint8_t)(cmd_pec >> 8);
 704              		.loc 1 99 12 is_stmt 0 view .LVU202
 705 0018 09A9     		add	r1, sp, #36
 706 001a FFF7FEFF 		bl	_pec15
 707              	.LVL48:
 100:Src/ltc.c     **** 	cmd[3] = (uint8_t)(cmd_pec);
 708              		.loc 1 100 2 is_stmt 1 view .LVU203
 100:Src/ltc.c     **** 	cmd[3] = (uint8_t)(cmd_pec);
 709              		.loc 1 100 11 is_stmt 0 view .LVU204
 710 001e C0F30723 		ubfx	r3, r0, #8, #8
 100:Src/ltc.c     **** 	cmd[3] = (uint8_t)(cmd_pec);
 711              		.loc 1 100 9 view .LVU205
 712 0022 8DF82630 		strb	r3, [sp, #38]
 101:Src/ltc.c     **** 	ltc6810_wakeup_idle(_ltc);
 713              		.loc 1 101 2 is_stmt 1 view .LVU206
 101:Src/ltc.c     **** 	ltc6810_wakeup_idle(_ltc);
 714              		.loc 1 101 9 is_stmt 0 view .LVU207
 715 0026 8DF82700 		strb	r0, [sp, #39]
 102:Src/ltc.c     **** 	spi_enable_cs(_ltc);
 716              		.loc 1 102 2 is_stmt 1 view .LVU208
 717 002a 2046     		mov	r0, r4
 718              	.LVL49:
 102:Src/ltc.c     **** 	spi_enable_cs(_ltc);
 719              		.loc 1 102 2 is_stmt 0 view .LVU209
 720 002c FFF7FEFF 		bl	ltc6810_wakeup_idle
 721              	.LVL50:
 103:Src/ltc.c     **** 	if (HAL_SPI_Transmit(_ltc->spi, cmd, 4, 100) == HAL_OK)
 722              		.loc 1 103 2 is_stmt 1 view .LVU210
 723 0030 2046     		mov	r0, r4
 724 0032 FFF7FEFF 		bl	spi_enable_cs
 725              	.LVL51:
 104:Src/ltc.c     **** 	{
 726              		.loc 1 104 2 view .LVU211
 104:Src/ltc.c     **** 	{
 727              		.loc 1 104 6 is_stmt 0 view .LVU212
 728 0036 6423     		movs	r3, #100
 729 0038 0422     		movs	r2, #4
 730 003a 09A9     		add	r1, sp, #36
 731 003c 2068     		ldr	r0, [r4]
 732 003e FFF7FEFF 		bl	HAL_SPI_Transmit
 733              	.LVL52:
 104:Src/ltc.c     **** 	{
 734              		.loc 1 104 5 view .LVU213
 735 0042 0028     		cmp	r0, #0
 736 0044 4CD1     		bne	.L34
 106:Src/ltc.c     **** 		{
 737              		.loc 1 106 3 is_stmt 1 view .LVU214
 106:Src/ltc.c     **** 		{
 738              		.loc 1 106 17 is_stmt 0 view .LVU215
 739 0046 474B     		ldr	r3, .L44
 740 0048 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 106:Src/ltc.c     **** 		{
 741              		.loc 1 106 6 view .LVU216
ARM GAS  /tmp/cc8d5Ni9.s 			page 26


 742 004a 53B9     		cbnz	r3, .L40
 743              	.L35:
 111:Src/ltc.c     **** 		if (DEBUG_LTC == true)
 744              		.loc 1 111 3 is_stmt 1 view .LVU217
 745 004c 6423     		movs	r3, #100
 746 004e 0822     		movs	r2, #8
 747 0050 07A9     		add	r1, sp, #28
 748 0052 2068     		ldr	r0, [r4]
 749 0054 FFF7FEFF 		bl	HAL_SPI_Receive
 750              	.LVL53:
 112:Src/ltc.c     **** 		{
 751              		.loc 1 112 3 view .LVU218
 112:Src/ltc.c     **** 		{
 752              		.loc 1 112 17 is_stmt 0 view .LVU219
 753 0058 424B     		ldr	r3, .L44
 754 005a 1D78     		ldrb	r5, [r3]	@ zero_extendqisi2
 112:Src/ltc.c     **** 		{
 755              		.loc 1 112 6 view .LVU220
 756 005c D5B9     		cbnz	r5, .L41
  87:Src/ltc.c     **** 	bool pec;
 757              		.loc 1 87 7 view .LVU221
 758 005e 0125     		movs	r5, #1
 759 0060 41E0     		b	.L36
 760              	.L40:
 108:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 100);
 761              		.loc 1 108 4 is_stmt 1 view .LVU222
 108:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 100);
 762              		.loc 1 108 75 is_stmt 0 view .LVU223
 763 0062 9DF82630 		ldrb	r3, [sp, #38]	@ zero_extendqisi2
 108:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 100);
 764              		.loc 1 108 83 view .LVU224
 765 0066 9DF82720 		ldrb	r2, [sp, #39]	@ zero_extendqisi2
 108:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 100);
 766              		.loc 1 108 4 view .LVU225
 767 006a 3F4D     		ldr	r5, .L44+4
 768 006c 0192     		str	r2, [sp, #4]
 769 006e 0093     		str	r3, [sp]
 770 0070 9DF82530 		ldrb	r3, [sp, #37]	@ zero_extendqisi2
 771 0074 9DF82420 		ldrb	r2, [sp, #36]	@ zero_extendqisi2
 772 0078 3C49     		ldr	r1, .L44+8
 773 007a 2846     		mov	r0, r5
 774 007c FFF7FEFF 		bl	sprintf
 775              	.LVL54:
 109:Src/ltc.c     **** 		}
 776              		.loc 1 109 4 is_stmt 1 view .LVU226
 109:Src/ltc.c     **** 		}
 777              		.loc 1 109 47 is_stmt 0 view .LVU227
 778 0080 2846     		mov	r0, r5
 779 0082 FFF7FEFF 		bl	strlen
 780              	.LVL55:
 109:Src/ltc.c     **** 		}
 781              		.loc 1 109 4 view .LVU228
 782 0086 6423     		movs	r3, #100
 783 0088 82B2     		uxth	r2, r0
 784 008a 2946     		mov	r1, r5
 785 008c 3848     		ldr	r0, .L44+12
 786 008e FFF7FEFF 		bl	HAL_UART_Transmit
ARM GAS  /tmp/cc8d5Ni9.s 			page 27


 787              	.LVL56:
 788 0092 DBE7     		b	.L35
 789              	.L41:
 114:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 100);
 790              		.loc 1 114 4 is_stmt 1 view .LVU229
 114:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 100);
 791              		.loc 1 114 87 is_stmt 0 view .LVU230
 792 0094 9DF81E30 		ldrb	r3, [sp, #30]	@ zero_extendqisi2
 114:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 100);
 793              		.loc 1 114 96 view .LVU231
 794 0098 9DF81F20 		ldrb	r2, [sp, #31]	@ zero_extendqisi2
 114:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 100);
 795              		.loc 1 114 105 view .LVU232
 796 009c 9DF82010 		ldrb	r1, [sp, #32]	@ zero_extendqisi2
 114:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 100);
 797              		.loc 1 114 114 view .LVU233
 798 00a0 9DF82100 		ldrb	r0, [sp, #33]	@ zero_extendqisi2
 114:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 100);
 799              		.loc 1 114 123 view .LVU234
 800 00a4 9DF82270 		ldrb	r7, [sp, #34]	@ zero_extendqisi2
 114:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 100);
 801              		.loc 1 114 132 view .LVU235
 802 00a8 9DF823C0 		ldrb	ip, [sp, #35]	@ zero_extendqisi2
 114:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 100);
 803              		.loc 1 114 4 view .LVU236
 804 00ac 2E4E     		ldr	r6, .L44+4
 805 00ae CDF814C0 		str	ip, [sp, #20]
 806 00b2 0497     		str	r7, [sp, #16]
 807 00b4 0390     		str	r0, [sp, #12]
 808 00b6 0291     		str	r1, [sp, #8]
 809 00b8 0192     		str	r2, [sp, #4]
 810 00ba 0093     		str	r3, [sp]
 811 00bc 9DF81D30 		ldrb	r3, [sp, #29]	@ zero_extendqisi2
 812 00c0 9DF81C20 		ldrb	r2, [sp, #28]	@ zero_extendqisi2
 813 00c4 2B49     		ldr	r1, .L44+16
 814 00c6 3046     		mov	r0, r6
 815 00c8 FFF7FEFF 		bl	sprintf
 816              	.LVL57:
 115:Src/ltc.c     **** 		}
 817              		.loc 1 115 4 is_stmt 1 view .LVU237
 115:Src/ltc.c     **** 		}
 818              		.loc 1 115 47 is_stmt 0 view .LVU238
 819 00cc 3046     		mov	r0, r6
 820 00ce FFF7FEFF 		bl	strlen
 821              	.LVL58:
 115:Src/ltc.c     **** 		}
 822              		.loc 1 115 4 view .LVU239
 823 00d2 6423     		movs	r3, #100
 824 00d4 82B2     		uxth	r2, r0
 825 00d6 3146     		mov	r1, r6
 826 00d8 2548     		ldr	r0, .L44+12
 827 00da FFF7FEFF 		bl	HAL_UART_Transmit
 828              	.LVL59:
 829 00de 02E0     		b	.L36
 830              	.L34:
 120:Src/ltc.c     **** 		{
 831              		.loc 1 120 3 is_stmt 1 view .LVU240
ARM GAS  /tmp/cc8d5Ni9.s 			page 28


 120:Src/ltc.c     **** 		{
 832              		.loc 1 120 17 is_stmt 0 view .LVU241
 833 00e0 204B     		ldr	r3, .L44
 834 00e2 1D78     		ldrb	r5, [r3]	@ zero_extendqisi2
 120:Src/ltc.c     **** 		{
 835              		.loc 1 120 6 view .LVU242
 836 00e4 ADB9     		cbnz	r5, .L42
 837              	.L36:
 838              	.LVL60:
 127:Src/ltc.c     **** 
 839              		.loc 1 127 2 is_stmt 1 view .LVU243
 840 00e6 2046     		mov	r0, r4
 841 00e8 FFF7FEFF 		bl	spi_disable_cs
 842              	.LVL61:
 129:Src/ltc.c     **** 
 843              		.loc 1 129 2 view .LVU244
 129:Src/ltc.c     **** 
 844              		.loc 1 129 9 is_stmt 0 view .LVU245
 845 00ec 07A9     		add	r1, sp, #28
 846 00ee 0620     		movs	r0, #6
 847 00f0 FFF7FEFF 		bl	_pec15
 848              	.LVL62:
 129:Src/ltc.c     **** 
 849              		.loc 1 129 43 view .LVU246
 850 00f4 9DF82220 		ldrb	r2, [sp, #34]	@ zero_extendqisi2
 129:Src/ltc.c     **** 
 851              		.loc 1 129 59 view .LVU247
 852 00f8 9DF82330 		ldrb	r3, [sp, #35]	@ zero_extendqisi2
 129:Src/ltc.c     **** 
 853              		.loc 1 129 28 view .LVU248
 854 00fc 03EB0223 		add	r3, r3, r2, lsl #8
 855 0100 9BB2     		uxth	r3, r3
 856              	.LVL63:
 131:Src/ltc.c     **** 	{
 857              		.loc 1 131 2 is_stmt 1 view .LVU249
 131:Src/ltc.c     **** 	{
 858              		.loc 1 131 5 is_stmt 0 view .LVU250
 859 0102 9842     		cmp	r0, r3
 860 0104 02D0     		beq	.L37
 136:Src/ltc.c     **** 		{
 861              		.loc 1 136 3 is_stmt 1 view .LVU251
 136:Src/ltc.c     **** 		{
 862              		.loc 1 136 17 is_stmt 0 view .LVU252
 863 0106 174B     		ldr	r3, .L44
 864              	.LVL64:
 136:Src/ltc.c     **** 		{
 865              		.loc 1 136 17 view .LVU253
 866 0108 1D78     		ldrb	r5, [r3]	@ zero_extendqisi2
 867              	.LVL65:
 136:Src/ltc.c     **** 		{
 868              		.loc 1 136 6 view .LVU254
 869 010a C5B9     		cbnz	r5, .L43
 870              	.LVL66:
 871              	.L37:
 143:Src/ltc.c     **** }
 872              		.loc 1 143 2 is_stmt 1 view .LVU255
 144:Src/ltc.c     **** bool ltc_read_ID(ltc_struct *_ltc)
ARM GAS  /tmp/cc8d5Ni9.s 			page 29


 873              		.loc 1 144 1 is_stmt 0 view .LVU256
 874 010c 2846     		mov	r0, r5
 875 010e 0BB0     		add	sp, sp, #44
 876              	.LCFI12:
 877              		.cfi_remember_state
 878              		.cfi_def_cfa_offset 20
 879              		@ sp needed
 880 0110 F0BD     		pop	{r4, r5, r6, r7, pc}
 881              	.LVL67:
 882              	.L42:
 883              	.LCFI13:
 884              		.cfi_restore_state
 122:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 885              		.loc 1 122 4 is_stmt 1 view .LVU257
 886 0112 154E     		ldr	r6, .L44+4
 887 0114 184D     		ldr	r5, .L44+20
 888 0116 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
 889 0118 3060     		str	r0, [r6]	@ unaligned
 890 011a 7160     		str	r1, [r6, #4]	@ unaligned
 891 011c B260     		str	r2, [r6, #8]	@ unaligned
 892 011e F360     		str	r3, [r6, #12]	@ unaligned
 893 0120 07CD     		ldmia	r5!, {r0, r1, r2}
 894 0122 3061     		str	r0, [r6, #16]	@ unaligned
 895 0124 7161     		str	r1, [r6, #20]	@ unaligned
 896 0126 B261     		str	r2, [r6, #24]	@ unaligned
 123:Src/ltc.c     **** 		}
 897              		.loc 1 123 4 view .LVU258
 123:Src/ltc.c     **** 		}
 898              		.loc 1 123 47 is_stmt 0 view .LVU259
 899 0128 3046     		mov	r0, r6
 900 012a FFF7FEFF 		bl	strlen
 901              	.LVL68:
 123:Src/ltc.c     **** 		}
 902              		.loc 1 123 4 view .LVU260
 903 012e 0A23     		movs	r3, #10
 904 0130 82B2     		uxth	r2, r0
 905 0132 3146     		mov	r1, r6
 906 0134 0E48     		ldr	r0, .L44+12
 907 0136 FFF7FEFF 		bl	HAL_UART_Transmit
 908              	.LVL69:
 125:Src/ltc.c     **** 	}
 909              		.loc 1 125 7 view .LVU261
 910 013a 0025     		movs	r5, #0
 911 013c D3E7     		b	.L36
 912              	.LVL70:
 913              	.L43:
 138:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 914              		.loc 1 138 4 is_stmt 1 view .LVU262
 915 013e 0A4C     		ldr	r4, .L44+4
 916              	.LVL71:
 138:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 917              		.loc 1 138 4 is_stmt 0 view .LVU263
 918 0140 0E4D     		ldr	r5, .L44+24
 919 0142 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
 920              	.LVL72:
 138:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 921              		.loc 1 138 4 view .LVU264
ARM GAS  /tmp/cc8d5Ni9.s 			page 30


 922 0144 2060     		str	r0, [r4]	@ unaligned
 923 0146 6160     		str	r1, [r4, #4]	@ unaligned
 924 0148 A260     		str	r2, [r4, #8]	@ unaligned
 925 014a E360     		str	r3, [r4, #12]	@ unaligned
 139:Src/ltc.c     **** 		}
 926              		.loc 1 139 4 is_stmt 1 view .LVU265
 139:Src/ltc.c     **** 		}
 927              		.loc 1 139 47 is_stmt 0 view .LVU266
 928 014c 2046     		mov	r0, r4
 929 014e FFF7FEFF 		bl	strlen
 930              	.LVL73:
 139:Src/ltc.c     **** 		}
 931              		.loc 1 139 4 view .LVU267
 932 0152 0A23     		movs	r3, #10
 933 0154 82B2     		uxth	r2, r0
 934 0156 2146     		mov	r1, r4
 935 0158 0548     		ldr	r0, .L44+12
 936 015a FFF7FEFF 		bl	HAL_UART_Transmit
 937              	.LVL74:
 141:Src/ltc.c     **** 	}
 938              		.loc 1 141 7 view .LVU268
 939 015e 0025     		movs	r5, #0
 940 0160 D4E7     		b	.L37
 941              	.L45:
 942 0162 00BF     		.align	2
 943              	.L44:
 944 0164 00000000 		.word	DEBUG_LTC
 945 0168 00000000 		.word	txt
 946 016c 00000000 		.word	.LC2
 947 0170 00000000 		.word	huart4
 948 0174 24000000 		.word	.LC3
 949 0178 50000000 		.word	.LC4
 950 017c 6C000000 		.word	.LC5
 951              		.cfi_endproc
 952              	.LFE147:
 954              		.section	.rodata.ltc_read_ID.str1.4,"aMS",%progbits,1
 955              		.align	2
 956              	.LC6:
 957 0000 54726173 		.ascii	"Trasmesso RDSID: %d, %d, %d, %d\015\012\000"
 957      6D657373 
 957      6F205244 
 957      5349443A 
 957      2025642C 
 958              		.section	.text.ltc_read_ID,"ax",%progbits
 959              		.align	1
 960              		.global	ltc_read_ID
 961              		.syntax unified
 962              		.thumb
 963              		.thumb_func
 964              		.fpu fpv5-d16
 966              	ltc_read_ID:
 967              	.LVL75:
 968              	.LFB148:
 146:Src/ltc.c     **** 	bool ret = true;
 969              		.loc 1 146 1 is_stmt 1 view -0
 970              		.cfi_startproc
 971              		@ args = 0, pretend = 0, frame = 16
ARM GAS  /tmp/cc8d5Ni9.s 			page 31


 972              		@ frame_needed = 0, uses_anonymous_args = 0
 146:Src/ltc.c     **** 	bool ret = true;
 973              		.loc 1 146 1 is_stmt 0 view .LVU270
 974 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 975              	.LCFI14:
 976              		.cfi_def_cfa_offset 20
 977              		.cfi_offset 4, -20
 978              		.cfi_offset 5, -16
 979              		.cfi_offset 6, -12
 980              		.cfi_offset 7, -8
 981              		.cfi_offset 14, -4
 982 0002 8BB0     		sub	sp, sp, #44
 983              	.LCFI15:
 984              		.cfi_def_cfa_offset 64
 985 0004 0446     		mov	r4, r0
 147:Src/ltc.c     **** 	bool pec;
 986              		.loc 1 147 2 is_stmt 1 view .LVU271
 987              	.LVL76:
 148:Src/ltc.c     **** 	uint8_t cmd[4];
 988              		.loc 1 148 2 view .LVU272
 149:Src/ltc.c     **** 	uint16_t CC;
 989              		.loc 1 149 2 view .LVU273
 150:Src/ltc.c     **** 	uint16_t cmd_pec;
 990              		.loc 1 150 2 view .LVU274
 151:Src/ltc.c     **** 	uint8_t data[8];
 991              		.loc 1 151 2 view .LVU275
 152:Src/ltc.c     **** 
 992              		.loc 1 152 2 view .LVU276
 154:Src/ltc.c     **** 	cmd[0] = (uint8_t)0x80 |		// Address Command mode
 993              		.loc 1 154 2 view .LVU277
 155:Src/ltc.c     **** 			 (_ltc->address << 3) | // LTC address
 994              		.loc 1 155 2 view .LVU278
 156:Src/ltc.c     **** 			 (CC >> 8);				// Send 3 most significant bit of CC
 995              		.loc 1 156 10 is_stmt 0 view .LVU279
 996 0006 0379     		ldrb	r3, [r0, #4]	@ zero_extendqisi2
 156:Src/ltc.c     **** 			 (CC >> 8);				// Send 3 most significant bit of CC
 997              		.loc 1 156 20 view .LVU280
 998 0008 DB00     		lsls	r3, r3, #3
 155:Src/ltc.c     **** 			 (_ltc->address << 3) | // LTC address
 999              		.loc 1 155 25 view .LVU281
 1000 000a 63F07F03 		orn	r3, r3, #127
 155:Src/ltc.c     **** 			 (_ltc->address << 3) | // LTC address
 1001              		.loc 1 155 9 view .LVU282
 1002 000e 8DF82430 		strb	r3, [sp, #36]
 158:Src/ltc.c     **** 	cmd_pec = _pec15(2, cmd); // Calculate the PEC
 1003              		.loc 1 158 2 is_stmt 1 view .LVU283
 158:Src/ltc.c     **** 	cmd_pec = _pec15(2, cmd); // Calculate the PEC
 1004              		.loc 1 158 9 is_stmt 0 view .LVU284
 1005 0012 2C23     		movs	r3, #44
 1006 0014 8DF82530 		strb	r3, [sp, #37]
 159:Src/ltc.c     **** 	cmd[2] = (uint8_t)(cmd_pec >> 8);
 1007              		.loc 1 159 2 is_stmt 1 view .LVU285
 159:Src/ltc.c     **** 	cmd[2] = (uint8_t)(cmd_pec >> 8);
 1008              		.loc 1 159 12 is_stmt 0 view .LVU286
 1009 0018 09A9     		add	r1, sp, #36
 1010 001a 0220     		movs	r0, #2
 1011              	.LVL77:
ARM GAS  /tmp/cc8d5Ni9.s 			page 32


 159:Src/ltc.c     **** 	cmd[2] = (uint8_t)(cmd_pec >> 8);
 1012              		.loc 1 159 12 view .LVU287
 1013 001c FFF7FEFF 		bl	_pec15
 1014              	.LVL78:
 160:Src/ltc.c     **** 	cmd[3] = (uint8_t)(cmd_pec);
 1015              		.loc 1 160 2 is_stmt 1 view .LVU288
 160:Src/ltc.c     **** 	cmd[3] = (uint8_t)(cmd_pec);
 1016              		.loc 1 160 11 is_stmt 0 view .LVU289
 1017 0020 C0F30723 		ubfx	r3, r0, #8, #8
 160:Src/ltc.c     **** 	cmd[3] = (uint8_t)(cmd_pec);
 1018              		.loc 1 160 9 view .LVU290
 1019 0024 8DF82630 		strb	r3, [sp, #38]
 161:Src/ltc.c     **** 	ltc6810_wakeup_idle(_ltc);
 1020              		.loc 1 161 2 is_stmt 1 view .LVU291
 161:Src/ltc.c     **** 	ltc6810_wakeup_idle(_ltc);
 1021              		.loc 1 161 9 is_stmt 0 view .LVU292
 1022 0028 8DF82700 		strb	r0, [sp, #39]
 162:Src/ltc.c     **** 	spi_enable_cs(_ltc);
 1023              		.loc 1 162 2 is_stmt 1 view .LVU293
 1024 002c 2046     		mov	r0, r4
 1025              	.LVL79:
 162:Src/ltc.c     **** 	spi_enable_cs(_ltc);
 1026              		.loc 1 162 2 is_stmt 0 view .LVU294
 1027 002e FFF7FEFF 		bl	ltc6810_wakeup_idle
 1028              	.LVL80:
 163:Src/ltc.c     **** 	if (HAL_SPI_Transmit(_ltc->spi, cmd, 4, 100) == HAL_OK)
 1029              		.loc 1 163 2 is_stmt 1 view .LVU295
 1030 0032 2046     		mov	r0, r4
 1031 0034 FFF7FEFF 		bl	spi_enable_cs
 1032              	.LVL81:
 164:Src/ltc.c     **** 	{
 1033              		.loc 1 164 2 view .LVU296
 164:Src/ltc.c     **** 	{
 1034              		.loc 1 164 6 is_stmt 0 view .LVU297
 1035 0038 6423     		movs	r3, #100
 1036 003a 0422     		movs	r2, #4
 1037 003c 09A9     		add	r1, sp, #36
 1038 003e 2068     		ldr	r0, [r4]
 1039 0040 FFF7FEFF 		bl	HAL_SPI_Transmit
 1040              	.LVL82:
 164:Src/ltc.c     **** 	{
 1041              		.loc 1 164 5 view .LVU298
 1042 0044 0028     		cmp	r0, #0
 1043 0046 4CD1     		bne	.L47
 166:Src/ltc.c     **** 		{
 1044              		.loc 1 166 3 is_stmt 1 view .LVU299
 166:Src/ltc.c     **** 		{
 1045              		.loc 1 166 17 is_stmt 0 view .LVU300
 1046 0048 524B     		ldr	r3, .L59
 1047 004a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 166:Src/ltc.c     **** 		{
 1048              		.loc 1 166 6 view .LVU301
 1049 004c 53B9     		cbnz	r3, .L54
 1050              	.L48:
 171:Src/ltc.c     **** 		if (DEBUG_LTC == true)
 1051              		.loc 1 171 3 is_stmt 1 view .LVU302
 1052 004e 6423     		movs	r3, #100
ARM GAS  /tmp/cc8d5Ni9.s 			page 33


 1053 0050 0822     		movs	r2, #8
 1054 0052 07A9     		add	r1, sp, #28
 1055 0054 2068     		ldr	r0, [r4]
 1056 0056 FFF7FEFF 		bl	HAL_SPI_Receive
 1057              	.LVL83:
 172:Src/ltc.c     **** 		{
 1058              		.loc 1 172 3 view .LVU303
 172:Src/ltc.c     **** 		{
 1059              		.loc 1 172 17 is_stmt 0 view .LVU304
 1060 005a 4E4B     		ldr	r3, .L59
 1061 005c 1D78     		ldrb	r5, [r3]	@ zero_extendqisi2
 172:Src/ltc.c     **** 		{
 1062              		.loc 1 172 6 view .LVU305
 1063 005e D5B9     		cbnz	r5, .L55
 147:Src/ltc.c     **** 	bool pec;
 1064              		.loc 1 147 7 view .LVU306
 1065 0060 0125     		movs	r5, #1
 1066 0062 41E0     		b	.L49
 1067              	.L54:
 168:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 100);
 1068              		.loc 1 168 4 is_stmt 1 view .LVU307
 168:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 100);
 1069              		.loc 1 168 75 is_stmt 0 view .LVU308
 1070 0064 9DF82630 		ldrb	r3, [sp, #38]	@ zero_extendqisi2
 168:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 100);
 1071              		.loc 1 168 83 view .LVU309
 1072 0068 9DF82720 		ldrb	r2, [sp, #39]	@ zero_extendqisi2
 168:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 100);
 1073              		.loc 1 168 4 view .LVU310
 1074 006c 4A4D     		ldr	r5, .L59+4
 1075 006e 0192     		str	r2, [sp, #4]
 1076 0070 0093     		str	r3, [sp]
 1077 0072 9DF82530 		ldrb	r3, [sp, #37]	@ zero_extendqisi2
 1078 0076 9DF82420 		ldrb	r2, [sp, #36]	@ zero_extendqisi2
 1079 007a 4849     		ldr	r1, .L59+8
 1080 007c 2846     		mov	r0, r5
 1081 007e FFF7FEFF 		bl	sprintf
 1082              	.LVL84:
 169:Src/ltc.c     **** 		}
 1083              		.loc 1 169 4 is_stmt 1 view .LVU311
 169:Src/ltc.c     **** 		}
 1084              		.loc 1 169 47 is_stmt 0 view .LVU312
 1085 0082 2846     		mov	r0, r5
 1086 0084 FFF7FEFF 		bl	strlen
 1087              	.LVL85:
 169:Src/ltc.c     **** 		}
 1088              		.loc 1 169 4 view .LVU313
 1089 0088 6423     		movs	r3, #100
 1090 008a 82B2     		uxth	r2, r0
 1091 008c 2946     		mov	r1, r5
 1092 008e 4448     		ldr	r0, .L59+12
 1093 0090 FFF7FEFF 		bl	HAL_UART_Transmit
 1094              	.LVL86:
 1095 0094 DBE7     		b	.L48
 1096              	.L55:
 174:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 100);
 1097              		.loc 1 174 4 is_stmt 1 view .LVU314
ARM GAS  /tmp/cc8d5Ni9.s 			page 34


 174:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 100);
 1098              		.loc 1 174 87 is_stmt 0 view .LVU315
 1099 0096 9DF81E30 		ldrb	r3, [sp, #30]	@ zero_extendqisi2
 174:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 100);
 1100              		.loc 1 174 96 view .LVU316
 1101 009a 9DF81F20 		ldrb	r2, [sp, #31]	@ zero_extendqisi2
 174:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 100);
 1102              		.loc 1 174 105 view .LVU317
 1103 009e 9DF82010 		ldrb	r1, [sp, #32]	@ zero_extendqisi2
 174:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 100);
 1104              		.loc 1 174 114 view .LVU318
 1105 00a2 9DF82100 		ldrb	r0, [sp, #33]	@ zero_extendqisi2
 174:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 100);
 1106              		.loc 1 174 123 view .LVU319
 1107 00a6 9DF82270 		ldrb	r7, [sp, #34]	@ zero_extendqisi2
 174:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 100);
 1108              		.loc 1 174 132 view .LVU320
 1109 00aa 9DF823C0 		ldrb	ip, [sp, #35]	@ zero_extendqisi2
 174:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 100);
 1110              		.loc 1 174 4 view .LVU321
 1111 00ae 3A4E     		ldr	r6, .L59+4
 1112 00b0 CDF814C0 		str	ip, [sp, #20]
 1113 00b4 0497     		str	r7, [sp, #16]
 1114 00b6 0390     		str	r0, [sp, #12]
 1115 00b8 0291     		str	r1, [sp, #8]
 1116 00ba 0192     		str	r2, [sp, #4]
 1117 00bc 0093     		str	r3, [sp]
 1118 00be 9DF81D30 		ldrb	r3, [sp, #29]	@ zero_extendqisi2
 1119 00c2 9DF81C20 		ldrb	r2, [sp, #28]	@ zero_extendqisi2
 1120 00c6 3749     		ldr	r1, .L59+16
 1121 00c8 3046     		mov	r0, r6
 1122 00ca FFF7FEFF 		bl	sprintf
 1123              	.LVL87:
 175:Src/ltc.c     **** 		}
 1124              		.loc 1 175 4 is_stmt 1 view .LVU322
 175:Src/ltc.c     **** 		}
 1125              		.loc 1 175 47 is_stmt 0 view .LVU323
 1126 00ce 3046     		mov	r0, r6
 1127 00d0 FFF7FEFF 		bl	strlen
 1128              	.LVL88:
 175:Src/ltc.c     **** 		}
 1129              		.loc 1 175 4 view .LVU324
 1130 00d4 6423     		movs	r3, #100
 1131 00d6 82B2     		uxth	r2, r0
 1132 00d8 3146     		mov	r1, r6
 1133 00da 3148     		ldr	r0, .L59+12
 1134 00dc FFF7FEFF 		bl	HAL_UART_Transmit
 1135              	.LVL89:
 1136 00e0 02E0     		b	.L49
 1137              	.L47:
 180:Src/ltc.c     **** 		{
 1138              		.loc 1 180 3 is_stmt 1 view .LVU325
 180:Src/ltc.c     **** 		{
 1139              		.loc 1 180 17 is_stmt 0 view .LVU326
 1140 00e2 2C4B     		ldr	r3, .L59
 1141 00e4 1D78     		ldrb	r5, [r3]	@ zero_extendqisi2
 180:Src/ltc.c     **** 		{
ARM GAS  /tmp/cc8d5Ni9.s 			page 35


 1142              		.loc 1 180 6 view .LVU327
 1143 00e6 ADB9     		cbnz	r5, .L56
 1144              	.L49:
 1145              	.LVL90:
 187:Src/ltc.c     **** 
 1146              		.loc 1 187 2 is_stmt 1 view .LVU328
 1147 00e8 2046     		mov	r0, r4
 1148 00ea FFF7FEFF 		bl	spi_disable_cs
 1149              	.LVL91:
 189:Src/ltc.c     **** 
 1150              		.loc 1 189 2 view .LVU329
 189:Src/ltc.c     **** 
 1151              		.loc 1 189 9 is_stmt 0 view .LVU330
 1152 00ee 07A9     		add	r1, sp, #28
 1153 00f0 0620     		movs	r0, #6
 1154 00f2 FFF7FEFF 		bl	_pec15
 1155              	.LVL92:
 189:Src/ltc.c     **** 
 1156              		.loc 1 189 43 view .LVU331
 1157 00f6 9DF82220 		ldrb	r2, [sp, #34]	@ zero_extendqisi2
 189:Src/ltc.c     **** 
 1158              		.loc 1 189 59 view .LVU332
 1159 00fa 9DF82330 		ldrb	r3, [sp, #35]	@ zero_extendqisi2
 189:Src/ltc.c     **** 
 1160              		.loc 1 189 28 view .LVU333
 1161 00fe 03EB0223 		add	r3, r3, r2, lsl #8
 1162 0102 9BB2     		uxth	r3, r3
 1163              	.LVL93:
 191:Src/ltc.c     **** 	{
 1164              		.loc 1 191 2 is_stmt 1 view .LVU334
 191:Src/ltc.c     **** 	{
 1165              		.loc 1 191 5 is_stmt 0 view .LVU335
 1166 0104 9842     		cmp	r0, r3
 1167 0106 1BD0     		beq	.L57
 198:Src/ltc.c     **** 		{
 1168              		.loc 1 198 3 is_stmt 1 view .LVU336
 198:Src/ltc.c     **** 		{
 1169              		.loc 1 198 17 is_stmt 0 view .LVU337
 1170 0108 224B     		ldr	r3, .L59
 1171              	.LVL94:
 198:Src/ltc.c     **** 		{
 1172              		.loc 1 198 17 view .LVU338
 1173 010a 1D78     		ldrb	r5, [r3]	@ zero_extendqisi2
 1174              	.LVL95:
 198:Src/ltc.c     **** 		{
 1175              		.loc 1 198 6 view .LVU339
 1176 010c 7DBB     		cbnz	r5, .L58
 1177              	.LVL96:
 1178              	.L51:
 205:Src/ltc.c     **** }
 1179              		.loc 1 205 2 is_stmt 1 view .LVU340
 206:Src/ltc.c     **** bool ltc_read_STATUS(ltc_struct *_ltc)
 1180              		.loc 1 206 1 is_stmt 0 view .LVU341
 1181 010e 2846     		mov	r0, r5
 1182 0110 0BB0     		add	sp, sp, #44
 1183              	.LCFI16:
 1184              		.cfi_remember_state
ARM GAS  /tmp/cc8d5Ni9.s 			page 36


 1185              		.cfi_def_cfa_offset 20
 1186              		@ sp needed
 1187 0112 F0BD     		pop	{r4, r5, r6, r7, pc}
 1188              	.LVL97:
 1189              	.L56:
 1190              	.LCFI17:
 1191              		.cfi_restore_state
 182:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 1192              		.loc 1 182 4 is_stmt 1 view .LVU342
 1193 0114 204E     		ldr	r6, .L59+4
 1194 0116 244D     		ldr	r5, .L59+20
 1195 0118 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
 1196 011a 3060     		str	r0, [r6]	@ unaligned
 1197 011c 7160     		str	r1, [r6, #4]	@ unaligned
 1198 011e B260     		str	r2, [r6, #8]	@ unaligned
 1199 0120 F360     		str	r3, [r6, #12]	@ unaligned
 1200 0122 07CD     		ldmia	r5!, {r0, r1, r2}
 1201 0124 3061     		str	r0, [r6, #16]	@ unaligned
 1202 0126 7161     		str	r1, [r6, #20]	@ unaligned
 1203 0128 B261     		str	r2, [r6, #24]	@ unaligned
 183:Src/ltc.c     **** 		}
 1204              		.loc 1 183 4 view .LVU343
 183:Src/ltc.c     **** 		}
 1205              		.loc 1 183 47 is_stmt 0 view .LVU344
 1206 012a 3046     		mov	r0, r6
 1207 012c FFF7FEFF 		bl	strlen
 1208              	.LVL98:
 183:Src/ltc.c     **** 		}
 1209              		.loc 1 183 4 view .LVU345
 1210 0130 0A23     		movs	r3, #10
 1211 0132 82B2     		uxth	r2, r0
 1212 0134 3146     		mov	r1, r6
 1213 0136 1A48     		ldr	r0, .L59+12
 1214 0138 FFF7FEFF 		bl	HAL_UART_Transmit
 1215              	.LVL99:
 185:Src/ltc.c     **** 	}
 1216              		.loc 1 185 7 view .LVU346
 1217 013c 0025     		movs	r5, #0
 1218 013e D3E7     		b	.L49
 1219              	.LVL100:
 1220              	.L57:
 193:Src/ltc.c     **** 		_ltc->SERIAL_ID_H = data[4] + (data[5] << 8);
 1221              		.loc 1 193 3 is_stmt 1 view .LVU347
 193:Src/ltc.c     **** 		_ltc->SERIAL_ID_H = data[4] + (data[5] << 8);
 1222              		.loc 1 193 27 is_stmt 0 view .LVU348
 1223 0140 9DF81C30 		ldrb	r3, [sp, #28]	@ zero_extendqisi2
 1224              	.LVL101:
 193:Src/ltc.c     **** 		_ltc->SERIAL_ID_H = data[4] + (data[5] << 8);
 1225              		.loc 1 193 38 view .LVU349
 1226 0144 9DF81D20 		ldrb	r2, [sp, #29]	@ zero_extendqisi2
 1227              	.LVL102:
 193:Src/ltc.c     **** 		_ltc->SERIAL_ID_H = data[4] + (data[5] << 8);
 1228              		.loc 1 193 31 view .LVU350
 1229 0148 03EB0223 		add	r3, r3, r2, lsl #8
 193:Src/ltc.c     **** 		_ltc->SERIAL_ID_H = data[4] + (data[5] << 8);
 1230              		.loc 1 193 55 view .LVU351
 1231 014c 9DF81E20 		ldrb	r2, [sp, #30]	@ zero_extendqisi2
ARM GAS  /tmp/cc8d5Ni9.s 			page 37


 193:Src/ltc.c     **** 		_ltc->SERIAL_ID_H = data[4] + (data[5] << 8);
 1232              		.loc 1 193 48 view .LVU352
 1233 0150 03EB0243 		add	r3, r3, r2, lsl #16
 193:Src/ltc.c     **** 		_ltc->SERIAL_ID_H = data[4] + (data[5] << 8);
 1234              		.loc 1 193 73 view .LVU353
 1235 0154 9DF81F20 		ldrb	r2, [sp, #31]	@ zero_extendqisi2
 193:Src/ltc.c     **** 		_ltc->SERIAL_ID_H = data[4] + (data[5] << 8);
 1236              		.loc 1 193 66 view .LVU354
 1237 0158 03EB0263 		add	r3, r3, r2, lsl #24
 193:Src/ltc.c     **** 		_ltc->SERIAL_ID_H = data[4] + (data[5] << 8);
 1238              		.loc 1 193 21 view .LVU355
 1239 015c 2362     		str	r3, [r4, #32]
 194:Src/ltc.c     **** 	}
 1240              		.loc 1 194 3 is_stmt 1 view .LVU356
 194:Src/ltc.c     **** 	}
 1241              		.loc 1 194 27 is_stmt 0 view .LVU357
 1242 015e 9DF82030 		ldrb	r3, [sp, #32]	@ zero_extendqisi2
 194:Src/ltc.c     **** 	}
 1243              		.loc 1 194 38 view .LVU358
 1244 0162 9DF82120 		ldrb	r2, [sp, #33]	@ zero_extendqisi2
 194:Src/ltc.c     **** 	}
 1245              		.loc 1 194 31 view .LVU359
 1246 0166 03EB0223 		add	r3, r3, r2, lsl #8
 194:Src/ltc.c     **** 	}
 1247              		.loc 1 194 21 view .LVU360
 1248 016a E361     		str	r3, [r4, #28]
 1249 016c CFE7     		b	.L51
 1250              	.LVL103:
 1251              	.L58:
 200:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 1252              		.loc 1 200 4 is_stmt 1 view .LVU361
 1253 016e 0A4C     		ldr	r4, .L59+4
 1254              	.LVL104:
 200:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 1255              		.loc 1 200 4 is_stmt 0 view .LVU362
 1256 0170 0E4D     		ldr	r5, .L59+24
 1257 0172 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
 1258              	.LVL105:
 200:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 1259              		.loc 1 200 4 view .LVU363
 1260 0174 2060     		str	r0, [r4]	@ unaligned
 1261 0176 6160     		str	r1, [r4, #4]	@ unaligned
 1262 0178 A260     		str	r2, [r4, #8]	@ unaligned
 1263 017a E360     		str	r3, [r4, #12]	@ unaligned
 201:Src/ltc.c     **** 		}
 1264              		.loc 1 201 4 is_stmt 1 view .LVU364
 201:Src/ltc.c     **** 		}
 1265              		.loc 1 201 47 is_stmt 0 view .LVU365
 1266 017c 2046     		mov	r0, r4
 1267 017e FFF7FEFF 		bl	strlen
 1268              	.LVL106:
 201:Src/ltc.c     **** 		}
 1269              		.loc 1 201 4 view .LVU366
 1270 0182 0A23     		movs	r3, #10
 1271 0184 82B2     		uxth	r2, r0
 1272 0186 2146     		mov	r1, r4
 1273 0188 0548     		ldr	r0, .L59+12
ARM GAS  /tmp/cc8d5Ni9.s 			page 38


 1274 018a FFF7FEFF 		bl	HAL_UART_Transmit
 1275              	.LVL107:
 203:Src/ltc.c     **** 	}
 1276              		.loc 1 203 7 view .LVU367
 1277 018e 0025     		movs	r5, #0
 1278 0190 BDE7     		b	.L51
 1279              	.L60:
 1280 0192 00BF     		.align	2
 1281              	.L59:
 1282 0194 00000000 		.word	DEBUG_LTC
 1283 0198 00000000 		.word	txt
 1284 019c 00000000 		.word	.LC6
 1285 01a0 00000000 		.word	huart4
 1286 01a4 24000000 		.word	.LC3
 1287 01a8 50000000 		.word	.LC4
 1288 01ac 6C000000 		.word	.LC5
 1289              		.cfi_endproc
 1290              	.LFE148:
 1292              		.section	.rodata.ltc_read_STATUS.str1.4,"aMS",%progbits,1
 1293              		.align	2
 1294              	.LC7:
 1295 0000 54726173 		.ascii	"Trasmesso ADSTAT_TMP: %d, %d, %d, %d\015\012\000"
 1295      6D657373 
 1295      6F204144 
 1295      53544154 
 1295      5F544D50 
 1296 0027 00       		.align	2
 1297              	.LC8:
 1298 0028 54726173 		.ascii	"Trasmesso RDSTATA: %d, %d, %d, %d\015\012\000"
 1298      6D657373 
 1298      6F205244 
 1298      53544154 
 1298      413A2025 
 1299              		.section	.text.ltc_read_STATUS,"ax",%progbits
 1300              		.align	1
 1301              		.global	ltc_read_STATUS
 1302              		.syntax unified
 1303              		.thumb
 1304              		.thumb_func
 1305              		.fpu fpv5-d16
 1307              	ltc_read_STATUS:
 1308              	.LVL108:
 1309              	.LFB149:
 208:Src/ltc.c     **** 	bool ret = true;
 1310              		.loc 1 208 1 is_stmt 1 view -0
 1311              		.cfi_startproc
 1312              		@ args = 0, pretend = 0, frame = 16
 1313              		@ frame_needed = 0, uses_anonymous_args = 0
 208:Src/ltc.c     **** 	bool ret = true;
 1314              		.loc 1 208 1 is_stmt 0 view .LVU369
 1315 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1316              	.LCFI18:
 1317              		.cfi_def_cfa_offset 20
 1318              		.cfi_offset 4, -20
 1319              		.cfi_offset 5, -16
 1320              		.cfi_offset 6, -12
 1321              		.cfi_offset 7, -8
ARM GAS  /tmp/cc8d5Ni9.s 			page 39


 1322              		.cfi_offset 14, -4
 1323 0002 8BB0     		sub	sp, sp, #44
 1324              	.LCFI19:
 1325              		.cfi_def_cfa_offset 64
 1326 0004 0446     		mov	r4, r0
 209:Src/ltc.c     **** 	bool pec;
 1327              		.loc 1 209 2 is_stmt 1 view .LVU370
 1328              	.LVL109:
 210:Src/ltc.c     **** 	uint8_t cmd[4];
 1329              		.loc 1 210 2 view .LVU371
 211:Src/ltc.c     **** 	uint16_t CC;
 1330              		.loc 1 211 2 view .LVU372
 212:Src/ltc.c     **** 	uint16_t cmd_pec;
 1331              		.loc 1 212 2 view .LVU373
 213:Src/ltc.c     **** 	uint8_t data[8];
 1332              		.loc 1 213 2 view .LVU374
 214:Src/ltc.c     **** 
 1333              		.loc 1 214 2 view .LVU375
 216:Src/ltc.c     **** 	cmd[0] = (uint8_t)0x80 |		// Address Command mode
 1334              		.loc 1 216 2 view .LVU376
 217:Src/ltc.c     **** 			 (_ltc->address << 3) | // LTC address
 1335              		.loc 1 217 2 view .LVU377
 218:Src/ltc.c     **** 			 (CC >> 8);				// Send 3 most significant bit of CC
 1336              		.loc 1 218 10 is_stmt 0 view .LVU378
 1337 0006 0379     		ldrb	r3, [r0, #4]	@ zero_extendqisi2
 218:Src/ltc.c     **** 			 (CC >> 8);				// Send 3 most significant bit of CC
 1338              		.loc 1 218 20 view .LVU379
 1339 0008 DB00     		lsls	r3, r3, #3
 217:Src/ltc.c     **** 			 (_ltc->address << 3) | // LTC address
 1340              		.loc 1 217 25 view .LVU380
 1341 000a 5BB2     		sxtb	r3, r3
 218:Src/ltc.c     **** 			 (CC >> 8);				// Send 3 most significant bit of CC
 1342              		.loc 1 218 26 view .LVU381
 1343 000c 63F07B03 		orn	r3, r3, #123
 217:Src/ltc.c     **** 			 (_ltc->address << 3) | // LTC address
 1344              		.loc 1 217 9 view .LVU382
 1345 0010 8DF82430 		strb	r3, [sp, #36]
 220:Src/ltc.c     **** 	cmd_pec = _pec15(2, cmd); // Calculate the PEC
 1346              		.loc 1 220 2 is_stmt 1 view .LVU383
 220:Src/ltc.c     **** 	cmd_pec = _pec15(2, cmd); // Calculate the PEC
 1347              		.loc 1 220 9 is_stmt 0 view .LVU384
 1348 0014 EA23     		movs	r3, #234
 1349 0016 8DF82530 		strb	r3, [sp, #37]
 221:Src/ltc.c     **** 	cmd[2] = (uint8_t)(cmd_pec >> 8);
 1350              		.loc 1 221 2 is_stmt 1 view .LVU385
 221:Src/ltc.c     **** 	cmd[2] = (uint8_t)(cmd_pec >> 8);
 1351              		.loc 1 221 12 is_stmt 0 view .LVU386
 1352 001a 09A9     		add	r1, sp, #36
 1353 001c 0220     		movs	r0, #2
 1354              	.LVL110:
 221:Src/ltc.c     **** 	cmd[2] = (uint8_t)(cmd_pec >> 8);
 1355              		.loc 1 221 12 view .LVU387
 1356 001e FFF7FEFF 		bl	_pec15
 1357              	.LVL111:
 222:Src/ltc.c     **** 	cmd[3] = (uint8_t)(cmd_pec);
 1358              		.loc 1 222 2 is_stmt 1 view .LVU388
 222:Src/ltc.c     **** 	cmd[3] = (uint8_t)(cmd_pec);
ARM GAS  /tmp/cc8d5Ni9.s 			page 40


 1359              		.loc 1 222 11 is_stmt 0 view .LVU389
 1360 0022 C0F30723 		ubfx	r3, r0, #8, #8
 222:Src/ltc.c     **** 	cmd[3] = (uint8_t)(cmd_pec);
 1361              		.loc 1 222 9 view .LVU390
 1362 0026 8DF82630 		strb	r3, [sp, #38]
 223:Src/ltc.c     **** 
 1363              		.loc 1 223 2 is_stmt 1 view .LVU391
 223:Src/ltc.c     **** 
 1364              		.loc 1 223 9 is_stmt 0 view .LVU392
 1365 002a 8DF82700 		strb	r0, [sp, #39]
 225:Src/ltc.c     **** 	spi_enable_cs(_ltc);
 1366              		.loc 1 225 2 is_stmt 1 view .LVU393
 1367 002e 2046     		mov	r0, r4
 1368              	.LVL112:
 225:Src/ltc.c     **** 	spi_enable_cs(_ltc);
 1369              		.loc 1 225 2 is_stmt 0 view .LVU394
 1370 0030 FFF7FEFF 		bl	ltc6810_wakeup_idle
 1371              	.LVL113:
 226:Src/ltc.c     **** 	if (HAL_SPI_Transmit(_ltc->spi, cmd, 4, 100) == HAL_OK)
 1372              		.loc 1 226 2 is_stmt 1 view .LVU395
 1373 0034 2046     		mov	r0, r4
 1374 0036 FFF7FEFF 		bl	spi_enable_cs
 1375              	.LVL114:
 227:Src/ltc.c     **** 	{
 1376              		.loc 1 227 2 view .LVU396
 227:Src/ltc.c     **** 	{
 1377              		.loc 1 227 6 is_stmt 0 view .LVU397
 1378 003a 6423     		movs	r3, #100
 1379 003c 0422     		movs	r2, #4
 1380 003e 09A9     		add	r1, sp, #36
 1381 0040 2068     		ldr	r0, [r4]
 1382 0042 FFF7FEFF 		bl	HAL_SPI_Transmit
 1383              	.LVL115:
 227:Src/ltc.c     **** 	{
 1384              		.loc 1 227 5 view .LVU398
 1385 0046 E8B9     		cbnz	r0, .L62
 229:Src/ltc.c     **** 		{
 1386              		.loc 1 229 3 is_stmt 1 view .LVU399
 229:Src/ltc.c     **** 		{
 1387              		.loc 1 229 17 is_stmt 0 view .LVU400
 1388 0048 844B     		ldr	r3, .L77
 1389 004a 1D78     		ldrb	r5, [r3]	@ zero_extendqisi2
 229:Src/ltc.c     **** 		{
 1390              		.loc 1 229 6 view .LVU401
 1391 004c 0DB9     		cbnz	r5, .L71
 209:Src/ltc.c     **** 	bool pec;
 1392              		.loc 1 209 7 view .LVU402
 1393 004e 0125     		movs	r5, #1
 1394 0050 1CE0     		b	.L63
 1395              	.L71:
 231:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 1396              		.loc 1 231 4 is_stmt 1 view .LVU403
 231:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 1397              		.loc 1 231 80 is_stmt 0 view .LVU404
 1398 0052 9DF82630 		ldrb	r3, [sp, #38]	@ zero_extendqisi2
 231:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 1399              		.loc 1 231 88 view .LVU405
ARM GAS  /tmp/cc8d5Ni9.s 			page 41


 1400 0056 9DF82720 		ldrb	r2, [sp, #39]	@ zero_extendqisi2
 231:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 1401              		.loc 1 231 4 view .LVU406
 1402 005a 814E     		ldr	r6, .L77+4
 1403 005c 0192     		str	r2, [sp, #4]
 1404 005e 0093     		str	r3, [sp]
 1405 0060 9DF82530 		ldrb	r3, [sp, #37]	@ zero_extendqisi2
 1406 0064 9DF82420 		ldrb	r2, [sp, #36]	@ zero_extendqisi2
 1407 0068 7E49     		ldr	r1, .L77+8
 1408 006a 3046     		mov	r0, r6
 1409 006c FFF7FEFF 		bl	sprintf
 1410              	.LVL116:
 232:Src/ltc.c     **** 		}
 1411              		.loc 1 232 4 is_stmt 1 view .LVU407
 232:Src/ltc.c     **** 		}
 1412              		.loc 1 232 47 is_stmt 0 view .LVU408
 1413 0070 3046     		mov	r0, r6
 1414 0072 FFF7FEFF 		bl	strlen
 1415              	.LVL117:
 232:Src/ltc.c     **** 		}
 1416              		.loc 1 232 4 view .LVU409
 1417 0076 0A23     		movs	r3, #10
 1418 0078 82B2     		uxth	r2, r0
 1419 007a 3146     		mov	r1, r6
 1420 007c 7A48     		ldr	r0, .L77+12
 1421 007e FFF7FEFF 		bl	HAL_UART_Transmit
 1422              	.LVL118:
 1423 0082 03E0     		b	.L63
 1424              	.L62:
 237:Src/ltc.c     **** 		{
 1425              		.loc 1 237 3 is_stmt 1 view .LVU410
 237:Src/ltc.c     **** 		{
 1426              		.loc 1 237 17 is_stmt 0 view .LVU411
 1427 0084 754B     		ldr	r3, .L77
 1428 0086 1D78     		ldrb	r5, [r3]	@ zero_extendqisi2
 237:Src/ltc.c     **** 		{
 1429              		.loc 1 237 6 view .LVU412
 1430 0088 002D     		cmp	r5, #0
 1431 008a 4FD1     		bne	.L72
 1432              	.L63:
 1433              	.LVL119:
 244:Src/ltc.c     **** 
 1434              		.loc 1 244 2 is_stmt 1 view .LVU413
 1435 008c 2046     		mov	r0, r4
 1436 008e FFF7FEFF 		bl	spi_disable_cs
 1437              	.LVL120:
 246:Src/ltc.c     **** 
 1438              		.loc 1 246 2 view .LVU414
 1439 0092 6420     		movs	r0, #100
 1440 0094 FFF7FEFF 		bl	HAL_Delay
 1441              	.LVL121:
 248:Src/ltc.c     **** 	cmd[0] = (uint8_t)0x80 |		// Address Command mode
 1442              		.loc 1 248 2 view .LVU415
 249:Src/ltc.c     **** 			 (_ltc->address << 3) | // LTC address
 1443              		.loc 1 249 2 view .LVU416
 250:Src/ltc.c     **** 			 (CC >> 8);				// Send 3 most significant bit of CC
 1444              		.loc 1 250 10 is_stmt 0 view .LVU417
ARM GAS  /tmp/cc8d5Ni9.s 			page 42


 1445 0098 2379     		ldrb	r3, [r4, #4]	@ zero_extendqisi2
 250:Src/ltc.c     **** 			 (CC >> 8);				// Send 3 most significant bit of CC
 1446              		.loc 1 250 20 view .LVU418
 1447 009a DB00     		lsls	r3, r3, #3
 249:Src/ltc.c     **** 			 (_ltc->address << 3) | // LTC address
 1448              		.loc 1 249 25 view .LVU419
 1449 009c 63F07F03 		orn	r3, r3, #127
 249:Src/ltc.c     **** 			 (_ltc->address << 3) | // LTC address
 1450              		.loc 1 249 9 view .LVU420
 1451 00a0 8DF82430 		strb	r3, [sp, #36]
 252:Src/ltc.c     **** 
 1452              		.loc 1 252 2 is_stmt 1 view .LVU421
 252:Src/ltc.c     **** 
 1453              		.loc 1 252 9 is_stmt 0 view .LVU422
 1454 00a4 1023     		movs	r3, #16
 1455 00a6 8DF82530 		strb	r3, [sp, #37]
 254:Src/ltc.c     **** 	cmd[2] = (uint8_t)(cmd_pec >> 8);
 1456              		.loc 1 254 2 is_stmt 1 view .LVU423
 254:Src/ltc.c     **** 	cmd[2] = (uint8_t)(cmd_pec >> 8);
 1457              		.loc 1 254 12 is_stmt 0 view .LVU424
 1458 00aa 09A9     		add	r1, sp, #36
 1459 00ac 0220     		movs	r0, #2
 1460 00ae FFF7FEFF 		bl	_pec15
 1461              	.LVL122:
 255:Src/ltc.c     **** 	cmd[3] = (uint8_t)(cmd_pec);
 1462              		.loc 1 255 2 is_stmt 1 view .LVU425
 255:Src/ltc.c     **** 	cmd[3] = (uint8_t)(cmd_pec);
 1463              		.loc 1 255 11 is_stmt 0 view .LVU426
 1464 00b2 C0F30723 		ubfx	r3, r0, #8, #8
 255:Src/ltc.c     **** 	cmd[3] = (uint8_t)(cmd_pec);
 1465              		.loc 1 255 9 view .LVU427
 1466 00b6 8DF82630 		strb	r3, [sp, #38]
 256:Src/ltc.c     **** 
 1467              		.loc 1 256 2 is_stmt 1 view .LVU428
 256:Src/ltc.c     **** 
 1468              		.loc 1 256 9 is_stmt 0 view .LVU429
 1469 00ba 8DF82700 		strb	r0, [sp, #39]
 258:Src/ltc.c     **** 	spi_enable_cs(_ltc);
 1470              		.loc 1 258 2 is_stmt 1 view .LVU430
 1471 00be 2046     		mov	r0, r4
 1472              	.LVL123:
 258:Src/ltc.c     **** 	spi_enable_cs(_ltc);
 1473              		.loc 1 258 2 is_stmt 0 view .LVU431
 1474 00c0 FFF7FEFF 		bl	ltc6810_wakeup_idle
 1475              	.LVL124:
 259:Src/ltc.c     **** 	if (HAL_SPI_Transmit(_ltc->spi, cmd, 4, 100) == HAL_OK)
 1476              		.loc 1 259 2 is_stmt 1 view .LVU432
 1477 00c4 2046     		mov	r0, r4
 1478 00c6 FFF7FEFF 		bl	spi_enable_cs
 1479              	.LVL125:
 260:Src/ltc.c     **** 	{
 1480              		.loc 1 260 2 view .LVU433
 260:Src/ltc.c     **** 	{
 1481              		.loc 1 260 6 is_stmt 0 view .LVU434
 1482 00ca 6423     		movs	r3, #100
 1483 00cc 0422     		movs	r2, #4
 1484 00ce 09A9     		add	r1, sp, #36
ARM GAS  /tmp/cc8d5Ni9.s 			page 43


 1485 00d0 2068     		ldr	r0, [r4]
 1486 00d2 FFF7FEFF 		bl	HAL_SPI_Transmit
 1487              	.LVL126:
 260:Src/ltc.c     **** 	{
 1488              		.loc 1 260 5 view .LVU435
 1489 00d6 0028     		cmp	r0, #0
 1490 00d8 7DD1     		bne	.L64
 262:Src/ltc.c     **** 		{
 1491              		.loc 1 262 3 is_stmt 1 view .LVU436
 262:Src/ltc.c     **** 		{
 1492              		.loc 1 262 17 is_stmt 0 view .LVU437
 1493 00da 604B     		ldr	r3, .L77
 1494 00dc 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 262:Src/ltc.c     **** 		{
 1495              		.loc 1 262 6 view .LVU438
 1496 00de 002B     		cmp	r3, #0
 1497 00e0 3AD1     		bne	.L73
 1498              	.L65:
 267:Src/ltc.c     **** 		if (DEBUG_LTC == true)
 1499              		.loc 1 267 3 is_stmt 1 view .LVU439
 1500 00e2 6423     		movs	r3, #100
 1501 00e4 0822     		movs	r2, #8
 1502 00e6 07A9     		add	r1, sp, #28
 1503 00e8 2068     		ldr	r0, [r4]
 1504 00ea FFF7FEFF 		bl	HAL_SPI_Receive
 1505              	.LVL127:
 268:Src/ltc.c     **** 		{
 1506              		.loc 1 268 3 view .LVU440
 268:Src/ltc.c     **** 		{
 1507              		.loc 1 268 17 is_stmt 0 view .LVU441
 1508 00ee 5B4B     		ldr	r3, .L77
 1509 00f0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 268:Src/ltc.c     **** 		{
 1510              		.loc 1 268 6 view .LVU442
 1511 00f2 002B     		cmp	r3, #0
 1512 00f4 49D1     		bne	.L74
 1513              	.LVL128:
 1514              	.L66:
 283:Src/ltc.c     **** 	spi_disable_cs(_ltc);
 1515              		.loc 1 283 2 is_stmt 1 view .LVU443
 1516 00f6 0A20     		movs	r0, #10
 1517 00f8 FFF7FEFF 		bl	HAL_Delay
 1518              	.LVL129:
 284:Src/ltc.c     **** 
 1519              		.loc 1 284 2 view .LVU444
 1520 00fc 2046     		mov	r0, r4
 1521 00fe FFF7FEFF 		bl	spi_disable_cs
 1522              	.LVL130:
 286:Src/ltc.c     **** 
 1523              		.loc 1 286 2 view .LVU445
 286:Src/ltc.c     **** 
 1524              		.loc 1 286 9 is_stmt 0 view .LVU446
 1525 0102 07A9     		add	r1, sp, #28
 1526 0104 0620     		movs	r0, #6
 1527 0106 FFF7FEFF 		bl	_pec15
 1528              	.LVL131:
 286:Src/ltc.c     **** 
ARM GAS  /tmp/cc8d5Ni9.s 			page 44


 1529              		.loc 1 286 43 view .LVU447
 1530 010a 9DF82220 		ldrb	r2, [sp, #34]	@ zero_extendqisi2
 286:Src/ltc.c     **** 
 1531              		.loc 1 286 59 view .LVU448
 1532 010e 9DF82330 		ldrb	r3, [sp, #35]	@ zero_extendqisi2
 286:Src/ltc.c     **** 
 1533              		.loc 1 286 28 view .LVU449
 1534 0112 03EB0223 		add	r3, r3, r2, lsl #8
 1535 0116 9BB2     		uxth	r3, r3
 1536              	.LVL132:
 288:Src/ltc.c     **** 	{
 1537              		.loc 1 288 2 is_stmt 1 view .LVU450
 288:Src/ltc.c     **** 	{
 1538              		.loc 1 288 5 is_stmt 0 view .LVU451
 1539 0118 9842     		cmp	r0, r3
 1540 011a 76D0     		beq	.L75
 296:Src/ltc.c     **** 		{
 1541              		.loc 1 296 3 is_stmt 1 view .LVU452
 296:Src/ltc.c     **** 		{
 1542              		.loc 1 296 17 is_stmt 0 view .LVU453
 1543 011c 4F4B     		ldr	r3, .L77
 1544              	.LVL133:
 296:Src/ltc.c     **** 		{
 1545              		.loc 1 296 17 view .LVU454
 1546 011e 1D78     		ldrb	r5, [r3]	@ zero_extendqisi2
 1547              	.LVL134:
 296:Src/ltc.c     **** 		{
 1548              		.loc 1 296 6 view .LVU455
 1549 0120 002D     		cmp	r5, #0
 1550 0122 40F08880 		bne	.L76
 1551              	.LVL135:
 1552              	.L68:
 303:Src/ltc.c     **** }
 1553              		.loc 1 303 2 is_stmt 1 view .LVU456
 304:Src/ltc.c     **** 
 1554              		.loc 1 304 1 is_stmt 0 view .LVU457
 1555 0126 2846     		mov	r0, r5
 1556 0128 0BB0     		add	sp, sp, #44
 1557              	.LCFI20:
 1558              		.cfi_remember_state
 1559              		.cfi_def_cfa_offset 20
 1560              		@ sp needed
 1561 012a F0BD     		pop	{r4, r5, r6, r7, pc}
 1562              	.LVL136:
 1563              	.L72:
 1564              	.LCFI21:
 1565              		.cfi_restore_state
 239:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 1566              		.loc 1 239 4 is_stmt 1 view .LVU458
 1567 012c 4C4E     		ldr	r6, .L77+4
 1568 012e 4F4D     		ldr	r5, .L77+16
 1569 0130 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
 1570 0132 3060     		str	r0, [r6]	@ unaligned
 1571 0134 7160     		str	r1, [r6, #4]	@ unaligned
 1572 0136 B260     		str	r2, [r6, #8]	@ unaligned
 1573 0138 F360     		str	r3, [r6, #12]	@ unaligned
 1574 013a 07CD     		ldmia	r5!, {r0, r1, r2}
ARM GAS  /tmp/cc8d5Ni9.s 			page 45


 1575 013c 3061     		str	r0, [r6, #16]	@ unaligned
 1576 013e 7161     		str	r1, [r6, #20]	@ unaligned
 1577 0140 B261     		str	r2, [r6, #24]	@ unaligned
 240:Src/ltc.c     **** 		}
 1578              		.loc 1 240 4 view .LVU459
 240:Src/ltc.c     **** 		}
 1579              		.loc 1 240 47 is_stmt 0 view .LVU460
 1580 0142 3046     		mov	r0, r6
 1581 0144 FFF7FEFF 		bl	strlen
 1582              	.LVL137:
 240:Src/ltc.c     **** 		}
 1583              		.loc 1 240 4 view .LVU461
 1584 0148 0A23     		movs	r3, #10
 1585 014a 82B2     		uxth	r2, r0
 1586 014c 3146     		mov	r1, r6
 1587 014e 4648     		ldr	r0, .L77+12
 1588 0150 FFF7FEFF 		bl	HAL_UART_Transmit
 1589              	.LVL138:
 242:Src/ltc.c     **** 	}
 1590              		.loc 1 242 7 view .LVU462
 1591 0154 0025     		movs	r5, #0
 1592 0156 99E7     		b	.L63
 1593              	.LVL139:
 1594              	.L73:
 264:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 1595              		.loc 1 264 4 is_stmt 1 view .LVU463
 264:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 1596              		.loc 1 264 77 is_stmt 0 view .LVU464
 1597 0158 9DF82630 		ldrb	r3, [sp, #38]	@ zero_extendqisi2
 264:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 1598              		.loc 1 264 85 view .LVU465
 1599 015c 9DF82720 		ldrb	r2, [sp, #39]	@ zero_extendqisi2
 264:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 1600              		.loc 1 264 4 view .LVU466
 1601 0160 3F4E     		ldr	r6, .L77+4
 1602 0162 0192     		str	r2, [sp, #4]
 1603 0164 0093     		str	r3, [sp]
 1604 0166 9DF82530 		ldrb	r3, [sp, #37]	@ zero_extendqisi2
 1605 016a 9DF82420 		ldrb	r2, [sp, #36]	@ zero_extendqisi2
 1606 016e 4049     		ldr	r1, .L77+20
 1607 0170 3046     		mov	r0, r6
 1608 0172 FFF7FEFF 		bl	sprintf
 1609              	.LVL140:
 265:Src/ltc.c     **** 		}
 1610              		.loc 1 265 4 is_stmt 1 view .LVU467
 265:Src/ltc.c     **** 		}
 1611              		.loc 1 265 47 is_stmt 0 view .LVU468
 1612 0176 3046     		mov	r0, r6
 1613 0178 FFF7FEFF 		bl	strlen
 1614              	.LVL141:
 265:Src/ltc.c     **** 		}
 1615              		.loc 1 265 4 view .LVU469
 1616 017c 0A23     		movs	r3, #10
 1617 017e 82B2     		uxth	r2, r0
 1618 0180 3146     		mov	r1, r6
 1619 0182 3948     		ldr	r0, .L77+12
 1620 0184 FFF7FEFF 		bl	HAL_UART_Transmit
ARM GAS  /tmp/cc8d5Ni9.s 			page 46


 1621              	.LVL142:
 1622 0188 ABE7     		b	.L65
 1623              	.L74:
 270:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 1624              		.loc 1 270 4 is_stmt 1 view .LVU470
 270:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 1625              		.loc 1 270 87 is_stmt 0 view .LVU471
 1626 018a 9DF81E30 		ldrb	r3, [sp, #30]	@ zero_extendqisi2
 270:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 1627              		.loc 1 270 96 view .LVU472
 1628 018e 9DF81F20 		ldrb	r2, [sp, #31]	@ zero_extendqisi2
 270:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 1629              		.loc 1 270 105 view .LVU473
 1630 0192 9DF82010 		ldrb	r1, [sp, #32]	@ zero_extendqisi2
 270:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 1631              		.loc 1 270 114 view .LVU474
 1632 0196 9DF82100 		ldrb	r0, [sp, #33]	@ zero_extendqisi2
 270:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 1633              		.loc 1 270 123 view .LVU475
 1634 019a 9DF82270 		ldrb	r7, [sp, #34]	@ zero_extendqisi2
 270:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 1635              		.loc 1 270 132 view .LVU476
 1636 019e 9DF823C0 		ldrb	ip, [sp, #35]	@ zero_extendqisi2
 270:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 1637              		.loc 1 270 4 view .LVU477
 1638 01a2 2F4E     		ldr	r6, .L77+4
 1639 01a4 CDF814C0 		str	ip, [sp, #20]
 1640 01a8 0497     		str	r7, [sp, #16]
 1641 01aa 0390     		str	r0, [sp, #12]
 1642 01ac 0291     		str	r1, [sp, #8]
 1643 01ae 0192     		str	r2, [sp, #4]
 1644 01b0 0093     		str	r3, [sp]
 1645 01b2 9DF81D30 		ldrb	r3, [sp, #29]	@ zero_extendqisi2
 1646 01b6 9DF81C20 		ldrb	r2, [sp, #28]	@ zero_extendqisi2
 1647 01ba 2E49     		ldr	r1, .L77+24
 1648 01bc 3046     		mov	r0, r6
 1649 01be FFF7FEFF 		bl	sprintf
 1650              	.LVL143:
 271:Src/ltc.c     **** 		}
 1651              		.loc 1 271 4 is_stmt 1 view .LVU478
 271:Src/ltc.c     **** 		}
 1652              		.loc 1 271 47 is_stmt 0 view .LVU479
 1653 01c2 3046     		mov	r0, r6
 1654 01c4 FFF7FEFF 		bl	strlen
 1655              	.LVL144:
 271:Src/ltc.c     **** 		}
 1656              		.loc 1 271 4 view .LVU480
 1657 01c8 0A23     		movs	r3, #10
 1658 01ca 82B2     		uxth	r2, r0
 1659 01cc 3146     		mov	r1, r6
 1660 01ce 2648     		ldr	r0, .L77+12
 1661 01d0 FFF7FEFF 		bl	HAL_UART_Transmit
 1662              	.LVL145:
 1663 01d4 8FE7     		b	.L66
 1664              	.L64:
 276:Src/ltc.c     **** 		{
 1665              		.loc 1 276 3 is_stmt 1 view .LVU481
ARM GAS  /tmp/cc8d5Ni9.s 			page 47


 276:Src/ltc.c     **** 		{
 1666              		.loc 1 276 17 is_stmt 0 view .LVU482
 1667 01d6 214B     		ldr	r3, .L77
 1668 01d8 1D78     		ldrb	r5, [r3]	@ zero_extendqisi2
 1669              	.LVL146:
 276:Src/ltc.c     **** 		{
 1670              		.loc 1 276 6 view .LVU483
 1671 01da 002D     		cmp	r5, #0
 1672 01dc 8BD0     		beq	.L66
 278:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 1673              		.loc 1 278 4 is_stmt 1 view .LVU484
 1674 01de 204E     		ldr	r6, .L77+4
 1675 01e0 224D     		ldr	r5, .L77+16
 1676 01e2 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
 1677 01e4 3060     		str	r0, [r6]	@ unaligned
 1678 01e6 7160     		str	r1, [r6, #4]	@ unaligned
 1679 01e8 B260     		str	r2, [r6, #8]	@ unaligned
 1680 01ea F360     		str	r3, [r6, #12]	@ unaligned
 1681 01ec 07CD     		ldmia	r5!, {r0, r1, r2}
 1682 01ee 3061     		str	r0, [r6, #16]	@ unaligned
 1683 01f0 7161     		str	r1, [r6, #20]	@ unaligned
 1684 01f2 B261     		str	r2, [r6, #24]	@ unaligned
 279:Src/ltc.c     **** 		}
 1685              		.loc 1 279 4 view .LVU485
 279:Src/ltc.c     **** 		}
 1686              		.loc 1 279 47 is_stmt 0 view .LVU486
 1687 01f4 3046     		mov	r0, r6
 1688 01f6 FFF7FEFF 		bl	strlen
 1689              	.LVL147:
 279:Src/ltc.c     **** 		}
 1690              		.loc 1 279 4 view .LVU487
 1691 01fa 0A23     		movs	r3, #10
 1692 01fc 82B2     		uxth	r2, r0
 1693 01fe 3146     		mov	r1, r6
 1694 0200 1948     		ldr	r0, .L77+12
 1695 0202 FFF7FEFF 		bl	HAL_UART_Transmit
 1696              	.LVL148:
 281:Src/ltc.c     **** 	}
 1697              		.loc 1 281 7 view .LVU488
 1698 0206 0025     		movs	r5, #0
 1699 0208 75E7     		b	.L66
 1700              	.LVL149:
 1701              	.L75:
 290:Src/ltc.c     **** 		_ltc->STATUS_ITMP = data[2] * 256 + data[3];
 1702              		.loc 1 290 3 is_stmt 1 view .LVU489
 290:Src/ltc.c     **** 		_ltc->STATUS_ITMP = data[2] * 256 + data[3];
 1703              		.loc 1 290 25 is_stmt 0 view .LVU490
 1704 020a 9DF81C20 		ldrb	r2, [sp, #28]	@ zero_extendqisi2
 290:Src/ltc.c     **** 		_ltc->STATUS_ITMP = data[2] * 256 + data[3];
 1705              		.loc 1 290 41 view .LVU491
 1706 020e 9DF81D30 		ldrb	r3, [sp, #29]	@ zero_extendqisi2
 1707              	.LVL150:
 290:Src/ltc.c     **** 		_ltc->STATUS_ITMP = data[2] * 256 + data[3];
 1708              		.loc 1 290 35 view .LVU492
 1709 0212 03EB0223 		add	r3, r3, r2, lsl #8
 290:Src/ltc.c     **** 		_ltc->STATUS_ITMP = data[2] * 256 + data[3];
 1710              		.loc 1 290 19 view .LVU493
ARM GAS  /tmp/cc8d5Ni9.s 			page 48


 1711 0216 A384     		strh	r3, [r4, #36]	@ movhi
 291:Src/ltc.c     **** 		_ltc->STATUS_VA = data[4] * 256 + data[5];
 1712              		.loc 1 291 3 is_stmt 1 view .LVU494
 291:Src/ltc.c     **** 		_ltc->STATUS_VA = data[4] * 256 + data[5];
 1713              		.loc 1 291 27 is_stmt 0 view .LVU495
 1714 0218 9DF81E20 		ldrb	r2, [sp, #30]	@ zero_extendqisi2
 291:Src/ltc.c     **** 		_ltc->STATUS_VA = data[4] * 256 + data[5];
 1715              		.loc 1 291 43 view .LVU496
 1716 021c 9DF81F30 		ldrb	r3, [sp, #31]	@ zero_extendqisi2
 291:Src/ltc.c     **** 		_ltc->STATUS_VA = data[4] * 256 + data[5];
 1717              		.loc 1 291 37 view .LVU497
 1718 0220 03EB0223 		add	r3, r3, r2, lsl #8
 291:Src/ltc.c     **** 		_ltc->STATUS_VA = data[4] * 256 + data[5];
 1719              		.loc 1 291 21 view .LVU498
 1720 0224 E384     		strh	r3, [r4, #38]	@ movhi
 292:Src/ltc.c     **** 	}
 1721              		.loc 1 292 3 is_stmt 1 view .LVU499
 292:Src/ltc.c     **** 	}
 1722              		.loc 1 292 25 is_stmt 0 view .LVU500
 1723 0226 9DF82020 		ldrb	r2, [sp, #32]	@ zero_extendqisi2
 292:Src/ltc.c     **** 	}
 1724              		.loc 1 292 41 view .LVU501
 1725 022a 9DF82130 		ldrb	r3, [sp, #33]	@ zero_extendqisi2
 292:Src/ltc.c     **** 	}
 1726              		.loc 1 292 35 view .LVU502
 1727 022e 03EB0223 		add	r3, r3, r2, lsl #8
 292:Src/ltc.c     **** 	}
 1728              		.loc 1 292 19 view .LVU503
 1729 0232 2385     		strh	r3, [r4, #40]	@ movhi
 1730 0234 77E7     		b	.L68
 1731              	.LVL151:
 1732              	.L76:
 298:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 1733              		.loc 1 298 4 is_stmt 1 view .LVU504
 1734 0236 0A4C     		ldr	r4, .L77+4
 1735              	.LVL152:
 298:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 1736              		.loc 1 298 4 is_stmt 0 view .LVU505
 1737 0238 0F4D     		ldr	r5, .L77+28
 1738 023a 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
 1739              	.LVL153:
 298:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 1740              		.loc 1 298 4 view .LVU506
 1741 023c 2060     		str	r0, [r4]	@ unaligned
 1742 023e 6160     		str	r1, [r4, #4]	@ unaligned
 1743 0240 A260     		str	r2, [r4, #8]	@ unaligned
 1744 0242 E360     		str	r3, [r4, #12]	@ unaligned
 299:Src/ltc.c     **** 		}
 1745              		.loc 1 299 4 is_stmt 1 view .LVU507
 299:Src/ltc.c     **** 		}
 1746              		.loc 1 299 47 is_stmt 0 view .LVU508
 1747 0244 2046     		mov	r0, r4
 1748 0246 FFF7FEFF 		bl	strlen
 1749              	.LVL154:
 299:Src/ltc.c     **** 		}
 1750              		.loc 1 299 4 view .LVU509
 1751 024a 0A23     		movs	r3, #10
ARM GAS  /tmp/cc8d5Ni9.s 			page 49


 1752 024c 82B2     		uxth	r2, r0
 1753 024e 2146     		mov	r1, r4
 1754 0250 0548     		ldr	r0, .L77+12
 1755 0252 FFF7FEFF 		bl	HAL_UART_Transmit
 1756              	.LVL155:
 301:Src/ltc.c     **** 	}
 1757              		.loc 1 301 7 view .LVU510
 1758 0256 0025     		movs	r5, #0
 1759 0258 65E7     		b	.L68
 1760              	.L78:
 1761 025a 00BF     		.align	2
 1762              	.L77:
 1763 025c 00000000 		.word	DEBUG_LTC
 1764 0260 00000000 		.word	txt
 1765 0264 00000000 		.word	.LC7
 1766 0268 00000000 		.word	huart4
 1767 026c 50000000 		.word	.LC4
 1768 0270 28000000 		.word	.LC8
 1769 0274 24000000 		.word	.LC3
 1770 0278 6C000000 		.word	.LC5
 1771              		.cfi_endproc
 1772              	.LFE149:
 1774              		.section	.rodata.read_voltages.str1.4,"aMS",%progbits,1
 1775              		.align	2
 1776              	.LC9:
 1777 0000 54726173 		.ascii	"Trasmesso: %d, %d, %d, %d\015\012\000"
 1777      6D657373 
 1777      6F3A2025 
 1777      642C2025 
 1777      642C2025 
 1778              		.section	.text.read_voltages,"ax",%progbits
 1779              		.align	1
 1780              		.global	read_voltages
 1781              		.syntax unified
 1782              		.thumb
 1783              		.thumb_func
 1784              		.fpu fpv5-d16
 1786              	read_voltages:
 1787              	.LVL156:
 1788              	.LFB150:
 313:Src/ltc.c     **** 	bool ret = true;
 1789              		.loc 1 313 1 is_stmt 1 view -0
 1790              		.cfi_startproc
 1791              		@ args = 0, pretend = 0, frame = 16
 1792              		@ frame_needed = 0, uses_anonymous_args = 0
 313:Src/ltc.c     **** 	bool ret = true;
 1793              		.loc 1 313 1 is_stmt 0 view .LVU512
 1794 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1795              	.LCFI22:
 1796              		.cfi_def_cfa_offset 20
 1797              		.cfi_offset 4, -20
 1798              		.cfi_offset 5, -16
 1799              		.cfi_offset 6, -12
 1800              		.cfi_offset 7, -8
 1801              		.cfi_offset 14, -4
 1802 0002 8BB0     		sub	sp, sp, #44
 1803              	.LCFI23:
ARM GAS  /tmp/cc8d5Ni9.s 			page 50


 1804              		.cfi_def_cfa_offset 64
 1805 0004 0446     		mov	r4, r0
 314:Src/ltc.c     **** 	bool pec;
 1806              		.loc 1 314 2 is_stmt 1 view .LVU513
 1807              	.LVL157:
 315:Src/ltc.c     **** 	uint8_t cmd[4];
 1808              		.loc 1 315 2 view .LVU514
 316:Src/ltc.c     **** 	uint16_t CC;
 1809              		.loc 1 316 2 view .LVU515
 317:Src/ltc.c     **** 	uint16_t cmd_pec;
 1810              		.loc 1 317 2 view .LVU516
 318:Src/ltc.c     **** 	uint8_t data[8];
 1811              		.loc 1 318 2 view .LVU517
 319:Src/ltc.c     **** 
 1812              		.loc 1 319 2 view .LVU518
 322:Src/ltc.c     **** 	cmd[0] = (uint8_t)(0x80 |				  // Address Command mode
 1813              		.loc 1 322 2 view .LVU519
 322:Src/ltc.c     **** 	cmd[0] = (uint8_t)(0x80 |				  // Address Command mode
 1814              		.loc 1 322 7 is_stmt 0 view .LVU520
 1815 0006 0020     		movs	r0, #0
 1816              	.LVL158:
 322:Src/ltc.c     **** 	cmd[0] = (uint8_t)(0x80 |				  // Address Command mode
 1817              		.loc 1 322 7 view .LVU521
 1818 0008 FFF7FEFF 		bl	get_ADCV_CC
 1819              	.LVL159:
 323:Src/ltc.c     **** 					   (_ltc->address << 3) | // LTC address
 1820              		.loc 1 323 2 is_stmt 1 view .LVU522
 324:Src/ltc.c     **** 					   (CC >> 8));			  // Send 3 most significant bit of CC
 1821              		.loc 1 324 14 is_stmt 0 view .LVU523
 1822 000c 2379     		ldrb	r3, [r4, #4]	@ zero_extendqisi2
 324:Src/ltc.c     **** 					   (CC >> 8));			  // Send 3 most significant bit of CC
 1823              		.loc 1 324 24 view .LVU524
 1824 000e DB00     		lsls	r3, r3, #3
 323:Src/ltc.c     **** 					   (_ltc->address << 3) | // LTC address
 1825              		.loc 1 323 26 view .LVU525
 1826 0010 63F07F03 		orn	r3, r3, #127
 324:Src/ltc.c     **** 					   (CC >> 8));			  // Send 3 most significant bit of CC
 1827              		.loc 1 324 30 view .LVU526
 1828 0014 43EA1023 		orr	r3, r3, r0, lsr #8
 323:Src/ltc.c     **** 					   (_ltc->address << 3) | // LTC address
 1829              		.loc 1 323 9 view .LVU527
 1830 0018 8DF82430 		strb	r3, [sp, #36]
 326:Src/ltc.c     **** 
 1831              		.loc 1 326 2 is_stmt 1 view .LVU528
 326:Src/ltc.c     **** 
 1832              		.loc 1 326 9 is_stmt 0 view .LVU529
 1833 001c 8DF82500 		strb	r0, [sp, #37]
 328:Src/ltc.c     **** 	cmd[2] = (uint8_t)(cmd_pec >> 8);
 1834              		.loc 1 328 2 is_stmt 1 view .LVU530
 328:Src/ltc.c     **** 	cmd[2] = (uint8_t)(cmd_pec >> 8);
 1835              		.loc 1 328 12 is_stmt 0 view .LVU531
 1836 0020 09A9     		add	r1, sp, #36
 1837 0022 0220     		movs	r0, #2
 1838              	.LVL160:
 328:Src/ltc.c     **** 	cmd[2] = (uint8_t)(cmd_pec >> 8);
 1839              		.loc 1 328 12 view .LVU532
 1840 0024 FFF7FEFF 		bl	_pec15
ARM GAS  /tmp/cc8d5Ni9.s 			page 51


 1841              	.LVL161:
 329:Src/ltc.c     **** 	cmd[3] = (uint8_t)(cmd_pec);
 1842              		.loc 1 329 2 is_stmt 1 view .LVU533
 329:Src/ltc.c     **** 	cmd[3] = (uint8_t)(cmd_pec);
 1843              		.loc 1 329 11 is_stmt 0 view .LVU534
 1844 0028 C0F30723 		ubfx	r3, r0, #8, #8
 329:Src/ltc.c     **** 	cmd[3] = (uint8_t)(cmd_pec);
 1845              		.loc 1 329 9 view .LVU535
 1846 002c 8DF82630 		strb	r3, [sp, #38]
 330:Src/ltc.c     **** 
 1847              		.loc 1 330 2 is_stmt 1 view .LVU536
 330:Src/ltc.c     **** 
 1848              		.loc 1 330 9 is_stmt 0 view .LVU537
 1849 0030 8DF82700 		strb	r0, [sp, #39]
 332:Src/ltc.c     **** 	spi_enable_cs(_ltc);
 1850              		.loc 1 332 2 is_stmt 1 view .LVU538
 1851 0034 2046     		mov	r0, r4
 1852              	.LVL162:
 332:Src/ltc.c     **** 	spi_enable_cs(_ltc);
 1853              		.loc 1 332 2 is_stmt 0 view .LVU539
 1854 0036 FFF7FEFF 		bl	ltc6810_wakeup_idle
 1855              	.LVL163:
 333:Src/ltc.c     **** 	if (HAL_SPI_Transmit(_ltc->spi, cmd, 4, 100) != HAL_OK)
 1856              		.loc 1 333 2 is_stmt 1 view .LVU540
 1857 003a 2046     		mov	r0, r4
 1858 003c FFF7FEFF 		bl	spi_enable_cs
 1859              	.LVL164:
 334:Src/ltc.c     **** 	{
 1860              		.loc 1 334 2 view .LVU541
 334:Src/ltc.c     **** 	{
 1861              		.loc 1 334 6 is_stmt 0 view .LVU542
 1862 0040 6423     		movs	r3, #100
 1863 0042 0422     		movs	r2, #4
 1864 0044 09A9     		add	r1, sp, #36
 1865 0046 2068     		ldr	r0, [r4]
 1866 0048 FFF7FEFF 		bl	HAL_SPI_Transmit
 1867              	.LVL165:
 334:Src/ltc.c     **** 	{
 1868              		.loc 1 334 5 view .LVU543
 1869 004c C0B1     		cbz	r0, .L96
 336:Src/ltc.c     **** 		if (DEBUG_LTC == true)
 1870              		.loc 1 336 3 is_stmt 1 view .LVU544
 1871              	.LVL166:
 337:Src/ltc.c     **** 		{
 1872              		.loc 1 337 3 view .LVU545
 337:Src/ltc.c     **** 		{
 1873              		.loc 1 337 17 is_stmt 0 view .LVU546
 1874 004e BB4B     		ldr	r3, .L113
 1875 0050 1D78     		ldrb	r5, [r3]	@ zero_extendqisi2
 337:Src/ltc.c     **** 		{
 1876              		.loc 1 337 6 view .LVU547
 1877 0052 B5B1     		cbz	r5, .L80
 339:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 1878              		.loc 1 339 4 is_stmt 1 view .LVU548
 1879 0054 BA4E     		ldr	r6, .L113+4
 1880 0056 BB4D     		ldr	r5, .L113+8
 1881 0058 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
ARM GAS  /tmp/cc8d5Ni9.s 			page 52


 1882 005a 3060     		str	r0, [r6]	@ unaligned
 1883 005c 7160     		str	r1, [r6, #4]	@ unaligned
 1884 005e B260     		str	r2, [r6, #8]	@ unaligned
 1885 0060 F360     		str	r3, [r6, #12]	@ unaligned
 1886 0062 07CD     		ldmia	r5!, {r0, r1, r2}
 1887 0064 3061     		str	r0, [r6, #16]	@ unaligned
 1888 0066 7161     		str	r1, [r6, #20]	@ unaligned
 1889 0068 B261     		str	r2, [r6, #24]	@ unaligned
 340:Src/ltc.c     **** 		}
 1890              		.loc 1 340 4 view .LVU549
 340:Src/ltc.c     **** 		}
 1891              		.loc 1 340 47 is_stmt 0 view .LVU550
 1892 006a 3046     		mov	r0, r6
 1893 006c FFF7FEFF 		bl	strlen
 1894              	.LVL167:
 340:Src/ltc.c     **** 		}
 1895              		.loc 1 340 4 view .LVU551
 1896 0070 0A23     		movs	r3, #10
 1897 0072 82B2     		uxth	r2, r0
 1898 0074 3146     		mov	r1, r6
 1899 0076 B448     		ldr	r0, .L113+12
 1900 0078 FFF7FEFF 		bl	HAL_UART_Transmit
 1901              	.LVL168:
 336:Src/ltc.c     **** 		if (DEBUG_LTC == true)
 1902              		.loc 1 336 7 view .LVU552
 1903 007c 0025     		movs	r5, #0
 1904 007e 00E0     		b	.L80
 1905              	.LVL169:
 1906              	.L96:
 314:Src/ltc.c     **** 	bool pec;
 1907              		.loc 1 314 7 view .LVU553
 1908 0080 0125     		movs	r5, #1
 1909              	.LVL170:
 1910              	.L80:
 343:Src/ltc.c     **** 	spi_disable_cs(_ltc);
 1911              		.loc 1 343 2 is_stmt 1 view .LVU554
 1912 0082 0520     		movs	r0, #5
 1913 0084 FFF7FEFF 		bl	HAL_Delay
 1914              	.LVL171:
 344:Src/ltc.c     **** 	HAL_Delay(10); //TODO: change waiting mode in interrupt -> it's only to test (ADC takes 1.2ms)
 1915              		.loc 1 344 2 view .LVU555
 1916 0088 2046     		mov	r0, r4
 1917 008a FFF7FEFF 		bl	spi_disable_cs
 1918              	.LVL172:
 345:Src/ltc.c     **** 	//--- END --//
 1919              		.loc 1 345 2 view .LVU556
 1920 008e 0A20     		movs	r0, #10
 1921 0090 FFF7FEFF 		bl	HAL_Delay
 1922              	.LVL173:
 347:Src/ltc.c     **** 	{
 1923              		.loc 1 347 2 view .LVU557
 347:Src/ltc.c     **** 	{
 1924              		.loc 1 347 16 is_stmt 0 view .LVU558
 1925 0094 A94B     		ldr	r3, .L113
 1926 0096 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 347:Src/ltc.c     **** 	{
 1927              		.loc 1 347 5 view .LVU559
ARM GAS  /tmp/cc8d5Ni9.s 			page 53


 1928 0098 002B     		cmp	r3, #0
 1929 009a 7BD1     		bne	.L102
 1930              	.L81:
 354:Src/ltc.c     **** 	cmd[0] = (uint8_t)(0x80 |				  // Address Command mode
 1931              		.loc 1 354 2 is_stmt 1 view .LVU560
 1932              	.LVL174:
 355:Src/ltc.c     **** 					   (_ltc->address << 3) | // LTC address
 1933              		.loc 1 355 2 view .LVU561
 356:Src/ltc.c     **** 					   (CC >> 8));			  // Send 3 most significant bit of CC
 1934              		.loc 1 356 14 is_stmt 0 view .LVU562
 1935 009c 2379     		ldrb	r3, [r4, #4]	@ zero_extendqisi2
 356:Src/ltc.c     **** 					   (CC >> 8));			  // Send 3 most significant bit of CC
 1936              		.loc 1 356 24 view .LVU563
 1937 009e DB00     		lsls	r3, r3, #3
 355:Src/ltc.c     **** 					   (_ltc->address << 3) | // LTC address
 1938              		.loc 1 355 26 view .LVU564
 1939 00a0 63F07F03 		orn	r3, r3, #127
 355:Src/ltc.c     **** 					   (_ltc->address << 3) | // LTC address
 1940              		.loc 1 355 9 view .LVU565
 1941 00a4 8DF82430 		strb	r3, [sp, #36]
 358:Src/ltc.c     **** 
 1942              		.loc 1 358 2 is_stmt 1 view .LVU566
 358:Src/ltc.c     **** 
 1943              		.loc 1 358 9 is_stmt 0 view .LVU567
 1944 00a8 0426     		movs	r6, #4
 1945 00aa 8DF82560 		strb	r6, [sp, #37]
 360:Src/ltc.c     **** 	cmd[2] = (uint8_t)(cmd_pec >> 8);
 1946              		.loc 1 360 2 is_stmt 1 view .LVU568
 360:Src/ltc.c     **** 	cmd[2] = (uint8_t)(cmd_pec >> 8);
 1947              		.loc 1 360 12 is_stmt 0 view .LVU569
 1948 00ae 09A9     		add	r1, sp, #36
 1949 00b0 0220     		movs	r0, #2
 1950 00b2 FFF7FEFF 		bl	_pec15
 1951              	.LVL175:
 361:Src/ltc.c     **** 	cmd[3] = (uint8_t)(cmd_pec);
 1952              		.loc 1 361 2 is_stmt 1 view .LVU570
 361:Src/ltc.c     **** 	cmd[3] = (uint8_t)(cmd_pec);
 1953              		.loc 1 361 11 is_stmt 0 view .LVU571
 1954 00b6 C0F30723 		ubfx	r3, r0, #8, #8
 361:Src/ltc.c     **** 	cmd[3] = (uint8_t)(cmd_pec);
 1955              		.loc 1 361 9 view .LVU572
 1956 00ba 8DF82630 		strb	r3, [sp, #38]
 362:Src/ltc.c     **** 
 1957              		.loc 1 362 2 is_stmt 1 view .LVU573
 362:Src/ltc.c     **** 
 1958              		.loc 1 362 9 is_stmt 0 view .LVU574
 1959 00be 8DF82700 		strb	r0, [sp, #39]
 364:Src/ltc.c     **** 	spi_enable_cs(_ltc);
 1960              		.loc 1 364 2 is_stmt 1 view .LVU575
 1961 00c2 2046     		mov	r0, r4
 1962              	.LVL176:
 364:Src/ltc.c     **** 	spi_enable_cs(_ltc);
 1963              		.loc 1 364 2 is_stmt 0 view .LVU576
 1964 00c4 FFF7FEFF 		bl	ltc6810_wakeup_idle
 1965              	.LVL177:
 365:Src/ltc.c     **** 	if (HAL_SPI_Transmit(_ltc->spi, cmd, 4, 100) == HAL_OK)
 1966              		.loc 1 365 2 is_stmt 1 view .LVU577
ARM GAS  /tmp/cc8d5Ni9.s 			page 54


 1967 00c8 2046     		mov	r0, r4
 1968 00ca FFF7FEFF 		bl	spi_enable_cs
 1969              	.LVL178:
 366:Src/ltc.c     **** 	{
 1970              		.loc 1 366 2 view .LVU578
 366:Src/ltc.c     **** 	{
 1971              		.loc 1 366 6 is_stmt 0 view .LVU579
 1972 00ce 6423     		movs	r3, #100
 1973 00d0 3246     		mov	r2, r6
 1974 00d2 09A9     		add	r1, sp, #36
 1975 00d4 2068     		ldr	r0, [r4]
 1976 00d6 FFF7FEFF 		bl	HAL_SPI_Transmit
 1977              	.LVL179:
 366:Src/ltc.c     **** 	{
 1978              		.loc 1 366 5 view .LVU580
 1979 00da 0028     		cmp	r0, #0
 1980 00dc 73D0     		beq	.L103
 382:Src/ltc.c     **** 		if (DEBUG_LTC == true)
 1981              		.loc 1 382 3 is_stmt 1 view .LVU581
 1982              	.LVL180:
 383:Src/ltc.c     **** 		{
 1983              		.loc 1 383 3 view .LVU582
 383:Src/ltc.c     **** 		{
 1984              		.loc 1 383 17 is_stmt 0 view .LVU583
 1985 00de 974B     		ldr	r3, .L113
 1986 00e0 1D78     		ldrb	r5, [r3]	@ zero_extendqisi2
 383:Src/ltc.c     **** 		{
 1987              		.loc 1 383 6 view .LVU584
 1988 00e2 002D     		cmp	r5, #0
 1989 00e4 40F0BB80 		bne	.L104
 1990              	.LVL181:
 1991              	.L84:
 389:Src/ltc.c     **** 
 1992              		.loc 1 389 2 is_stmt 1 view .LVU585
 1993 00e8 2046     		mov	r0, r4
 1994 00ea FFF7FEFF 		bl	spi_disable_cs
 1995              	.LVL182:
 391:Src/ltc.c     **** 
 1996              		.loc 1 391 2 view .LVU586
 391:Src/ltc.c     **** 
 1997              		.loc 1 391 9 is_stmt 0 view .LVU587
 1998 00ee 07A9     		add	r1, sp, #28
 1999 00f0 0620     		movs	r0, #6
 2000 00f2 FFF7FEFF 		bl	_pec15
 2001              	.LVL183:
 391:Src/ltc.c     **** 
 2002              		.loc 1 391 43 view .LVU588
 2003 00f6 9DF82220 		ldrb	r2, [sp, #34]	@ zero_extendqisi2
 391:Src/ltc.c     **** 
 2004              		.loc 1 391 59 view .LVU589
 2005 00fa 9DF82330 		ldrb	r3, [sp, #35]	@ zero_extendqisi2
 391:Src/ltc.c     **** 
 2006              		.loc 1 391 28 view .LVU590
 2007 00fe 03EB0223 		add	r3, r3, r2, lsl #8
 2008 0102 9BB2     		uxth	r3, r3
 2009              	.LVL184:
 393:Src/ltc.c     **** 	{
ARM GAS  /tmp/cc8d5Ni9.s 			page 55


 2010              		.loc 1 393 2 is_stmt 1 view .LVU591
 393:Src/ltc.c     **** 	{
 2011              		.loc 1 393 5 is_stmt 0 view .LVU592
 2012 0104 9842     		cmp	r0, r3
 2013 0106 00F0CD80 		beq	.L105
 403:Src/ltc.c     **** 		if (DEBUG_LTC == true)
 2014              		.loc 1 403 3 is_stmt 1 view .LVU593
 2015              	.LVL185:
 404:Src/ltc.c     **** 		{
 2016              		.loc 1 404 3 view .LVU594
 404:Src/ltc.c     **** 		{
 2017              		.loc 1 404 17 is_stmt 0 view .LVU595
 2018 010a 8C4B     		ldr	r3, .L113
 2019              	.LVL186:
 404:Src/ltc.c     **** 		{
 2020              		.loc 1 404 17 view .LVU596
 2021 010c 1D78     		ldrb	r5, [r3]	@ zero_extendqisi2
 404:Src/ltc.c     **** 		{
 2022              		.loc 1 404 6 view .LVU597
 2023 010e 002D     		cmp	r5, #0
 2024 0110 40F0CA80 		bne	.L106
 2025              	.LVL187:
 2026              	.L88:
 413:Src/ltc.c     **** 	cmd[0] = (uint8_t)0x80 |		// Address Command mode
 2027              		.loc 1 413 2 is_stmt 1 view .LVU598
 414:Src/ltc.c     **** 			 (_ltc->address << 3) | // LTC address
 2028              		.loc 1 414 2 view .LVU599
 415:Src/ltc.c     **** 			 (CC >> 8);				// Send 3 most significant bit of CC
 2029              		.loc 1 415 10 is_stmt 0 view .LVU600
 2030 0114 2379     		ldrb	r3, [r4, #4]	@ zero_extendqisi2
 415:Src/ltc.c     **** 			 (CC >> 8);				// Send 3 most significant bit of CC
 2031              		.loc 1 415 20 view .LVU601
 2032 0116 DB00     		lsls	r3, r3, #3
 414:Src/ltc.c     **** 			 (_ltc->address << 3) | // LTC address
 2033              		.loc 1 414 25 view .LVU602
 2034 0118 63F07F03 		orn	r3, r3, #127
 414:Src/ltc.c     **** 			 (_ltc->address << 3) | // LTC address
 2035              		.loc 1 414 9 view .LVU603
 2036 011c 8DF82430 		strb	r3, [sp, #36]
 417:Src/ltc.c     **** 
 2037              		.loc 1 417 2 is_stmt 1 view .LVU604
 417:Src/ltc.c     **** 
 2038              		.loc 1 417 9 is_stmt 0 view .LVU605
 2039 0120 0623     		movs	r3, #6
 2040 0122 8DF82530 		strb	r3, [sp, #37]
 419:Src/ltc.c     **** 	cmd[2] = (uint8_t)(cmd_pec >> 8);
 2041              		.loc 1 419 2 is_stmt 1 view .LVU606
 419:Src/ltc.c     **** 	cmd[2] = (uint8_t)(cmd_pec >> 8);
 2042              		.loc 1 419 12 is_stmt 0 view .LVU607
 2043 0126 09A9     		add	r1, sp, #36
 2044 0128 0220     		movs	r0, #2
 2045 012a FFF7FEFF 		bl	_pec15
 2046              	.LVL188:
 420:Src/ltc.c     **** 	cmd[3] = (uint8_t)(cmd_pec);
 2047              		.loc 1 420 2 is_stmt 1 view .LVU608
 420:Src/ltc.c     **** 	cmd[3] = (uint8_t)(cmd_pec);
 2048              		.loc 1 420 11 is_stmt 0 view .LVU609
ARM GAS  /tmp/cc8d5Ni9.s 			page 56


 2049 012e C0F30723 		ubfx	r3, r0, #8, #8
 420:Src/ltc.c     **** 	cmd[3] = (uint8_t)(cmd_pec);
 2050              		.loc 1 420 9 view .LVU610
 2051 0132 8DF82630 		strb	r3, [sp, #38]
 421:Src/ltc.c     **** 
 2052              		.loc 1 421 2 is_stmt 1 view .LVU611
 421:Src/ltc.c     **** 
 2053              		.loc 1 421 9 is_stmt 0 view .LVU612
 2054 0136 8DF82700 		strb	r0, [sp, #39]
 423:Src/ltc.c     **** 	spi_enable_cs(_ltc);
 2055              		.loc 1 423 2 is_stmt 1 view .LVU613
 2056 013a 2046     		mov	r0, r4
 2057              	.LVL189:
 423:Src/ltc.c     **** 	spi_enable_cs(_ltc);
 2058              		.loc 1 423 2 is_stmt 0 view .LVU614
 2059 013c FFF7FEFF 		bl	ltc6810_wakeup_idle
 2060              	.LVL190:
 424:Src/ltc.c     **** 	if (HAL_SPI_Transmit(_ltc->spi, cmd, 4, 100) == HAL_OK)
 2061              		.loc 1 424 2 is_stmt 1 view .LVU615
 2062 0140 2046     		mov	r0, r4
 2063 0142 FFF7FEFF 		bl	spi_enable_cs
 2064              	.LVL191:
 425:Src/ltc.c     **** 	{
 2065              		.loc 1 425 2 view .LVU616
 425:Src/ltc.c     **** 	{
 2066              		.loc 1 425 6 is_stmt 0 view .LVU617
 2067 0146 6423     		movs	r3, #100
 2068 0148 0422     		movs	r2, #4
 2069 014a 09A9     		add	r1, sp, #36
 2070 014c 2068     		ldr	r0, [r4]
 2071 014e FFF7FEFF 		bl	HAL_SPI_Transmit
 2072              	.LVL192:
 425:Src/ltc.c     **** 	{
 2073              		.loc 1 425 5 view .LVU618
 2074 0152 0028     		cmp	r0, #0
 2075 0154 00F0BA80 		beq	.L107
 442:Src/ltc.c     **** 		if (DEBUG_LTC == true)
 2076              		.loc 1 442 3 is_stmt 1 view .LVU619
 2077              	.LVL193:
 443:Src/ltc.c     **** 		{
 2078              		.loc 1 443 3 view .LVU620
 443:Src/ltc.c     **** 		{
 2079              		.loc 1 443 17 is_stmt 0 view .LVU621
 2080 0158 784B     		ldr	r3, .L113
 2081 015a 1D78     		ldrb	r5, [r3]	@ zero_extendqisi2
 443:Src/ltc.c     **** 		{
 2082              		.loc 1 443 6 view .LVU622
 2083 015c 002D     		cmp	r5, #0
 2084 015e 40F01481 		bne	.L108
 2085              	.LVL194:
 2086              	.L91:
 449:Src/ltc.c     **** 
 2087              		.loc 1 449 2 is_stmt 1 view .LVU623
 2088 0162 2046     		mov	r0, r4
 2089 0164 FFF7FEFF 		bl	spi_disable_cs
 2090              	.LVL195:
 451:Src/ltc.c     **** 
ARM GAS  /tmp/cc8d5Ni9.s 			page 57


 2091              		.loc 1 451 2 view .LVU624
 451:Src/ltc.c     **** 
 2092              		.loc 1 451 9 is_stmt 0 view .LVU625
 2093 0168 07A9     		add	r1, sp, #28
 2094 016a 0620     		movs	r0, #6
 2095 016c FFF7FEFF 		bl	_pec15
 2096              	.LVL196:
 451:Src/ltc.c     **** 
 2097              		.loc 1 451 43 view .LVU626
 2098 0170 9DF82220 		ldrb	r2, [sp, #34]	@ zero_extendqisi2
 451:Src/ltc.c     **** 
 2099              		.loc 1 451 59 view .LVU627
 2100 0174 9DF82330 		ldrb	r3, [sp, #35]	@ zero_extendqisi2
 451:Src/ltc.c     **** 
 2101              		.loc 1 451 28 view .LVU628
 2102 0178 03EB0223 		add	r3, r3, r2, lsl #8
 2103 017c 9BB2     		uxth	r3, r3
 2104              	.LVL197:
 453:Src/ltc.c     **** 	{
 2105              		.loc 1 453 2 is_stmt 1 view .LVU629
 453:Src/ltc.c     **** 	{
 2106              		.loc 1 453 5 is_stmt 0 view .LVU630
 2107 017e 9842     		cmp	r0, r3
 2108 0180 00F02781 		beq	.L109
 463:Src/ltc.c     **** 		if (DEBUG_LTC == true)
 2109              		.loc 1 463 3 is_stmt 1 view .LVU631
 2110              	.LVL198:
 464:Src/ltc.c     **** 		{
 2111              		.loc 1 464 3 view .LVU632
 464:Src/ltc.c     **** 		{
 2112              		.loc 1 464 17 is_stmt 0 view .LVU633
 2113 0184 6D4B     		ldr	r3, .L113
 2114              	.LVL199:
 464:Src/ltc.c     **** 		{
 2115              		.loc 1 464 17 view .LVU634
 2116 0186 1D78     		ldrb	r5, [r3]	@ zero_extendqisi2
 464:Src/ltc.c     **** 		{
 2117              		.loc 1 464 6 view .LVU635
 2118 0188 002D     		cmp	r5, #0
 2119 018a 40F02481 		bne	.L110
 2120              	.LVL200:
 2121              	.L95:
 471:Src/ltc.c     **** }
 2122              		.loc 1 471 2 is_stmt 1 view .LVU636
 472:Src/ltc.c     **** 
 2123              		.loc 1 472 1 is_stmt 0 view .LVU637
 2124 018e 2846     		mov	r0, r5
 2125 0190 0BB0     		add	sp, sp, #44
 2126              	.LCFI24:
 2127              		.cfi_remember_state
 2128              		.cfi_def_cfa_offset 20
 2129              		@ sp needed
 2130 0192 F0BD     		pop	{r4, r5, r6, r7, pc}
 2131              	.LVL201:
 2132              	.L102:
 2133              	.LCFI25:
 2134              		.cfi_restore_state
ARM GAS  /tmp/cc8d5Ni9.s 			page 58


 349:Src/ltc.c     **** 		HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 2135              		.loc 1 349 3 is_stmt 1 view .LVU638
 349:Src/ltc.c     **** 		HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 2136              		.loc 1 349 68 is_stmt 0 view .LVU639
 2137 0194 9DF82630 		ldrb	r3, [sp, #38]	@ zero_extendqisi2
 349:Src/ltc.c     **** 		HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 2138              		.loc 1 349 76 view .LVU640
 2139 0198 9DF82720 		ldrb	r2, [sp, #39]	@ zero_extendqisi2
 349:Src/ltc.c     **** 		HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 2140              		.loc 1 349 3 view .LVU641
 2141 019c 684E     		ldr	r6, .L113+4
 2142 019e 0192     		str	r2, [sp, #4]
 2143 01a0 0093     		str	r3, [sp]
 2144 01a2 9DF82530 		ldrb	r3, [sp, #37]	@ zero_extendqisi2
 2145 01a6 9DF82420 		ldrb	r2, [sp, #36]	@ zero_extendqisi2
 2146 01aa 6849     		ldr	r1, .L113+16
 2147 01ac 3046     		mov	r0, r6
 2148 01ae FFF7FEFF 		bl	sprintf
 2149              	.LVL202:
 350:Src/ltc.c     **** 	}
 2150              		.loc 1 350 3 is_stmt 1 view .LVU642
 350:Src/ltc.c     **** 	}
 2151              		.loc 1 350 46 is_stmt 0 view .LVU643
 2152 01b2 3046     		mov	r0, r6
 2153 01b4 FFF7FEFF 		bl	strlen
 2154              	.LVL203:
 350:Src/ltc.c     **** 	}
 2155              		.loc 1 350 3 view .LVU644
 2156 01b8 0A23     		movs	r3, #10
 2157 01ba 82B2     		uxth	r2, r0
 2158 01bc 3146     		mov	r1, r6
 2159 01be 6248     		ldr	r0, .L113+12
 2160 01c0 FFF7FEFF 		bl	HAL_UART_Transmit
 2161              	.LVL204:
 2162 01c4 6AE7     		b	.L81
 2163              	.LVL205:
 2164              	.L103:
 368:Src/ltc.c     **** 		if (DEBUG_LTC == true)
 2165              		.loc 1 368 3 is_stmt 1 view .LVU645
 2166 01c6 6423     		movs	r3, #100
 2167 01c8 0822     		movs	r2, #8
 2168 01ca 07A9     		add	r1, sp, #28
 2169 01cc 2068     		ldr	r0, [r4]
 2170 01ce FFF7FEFF 		bl	HAL_SPI_Receive
 2171              	.LVL206:
 369:Src/ltc.c     **** 		{
 2172              		.loc 1 369 3 view .LVU646
 369:Src/ltc.c     **** 		{
 2173              		.loc 1 369 17 is_stmt 0 view .LVU647
 2174 01d2 5A4B     		ldr	r3, .L113
 2175 01d4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 369:Src/ltc.c     **** 		{
 2176              		.loc 1 369 6 view .LVU648
 2177 01d6 4BBB     		cbnz	r3, .L111
 2178              	.L83:
 374:Src/ltc.c     **** 		{
 2179              		.loc 1 374 3 is_stmt 1 view .LVU649
ARM GAS  /tmp/cc8d5Ni9.s 			page 59


 374:Src/ltc.c     **** 		{
 2180              		.loc 1 374 17 is_stmt 0 view .LVU650
 2181 01d8 584B     		ldr	r3, .L113
 2182 01da 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 374:Src/ltc.c     **** 		{
 2183              		.loc 1 374 6 view .LVU651
 2184 01dc 002B     		cmp	r3, #0
 2185 01de 83D0     		beq	.L84
 376:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 2186              		.loc 1 376 4 is_stmt 1 view .LVU652
 376:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 2187              		.loc 1 376 87 is_stmt 0 view .LVU653
 2188 01e0 9DF81E30 		ldrb	r3, [sp, #30]	@ zero_extendqisi2
 376:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 2189              		.loc 1 376 96 view .LVU654
 2190 01e4 9DF81F20 		ldrb	r2, [sp, #31]	@ zero_extendqisi2
 376:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 2191              		.loc 1 376 105 view .LVU655
 2192 01e8 9DF82010 		ldrb	r1, [sp, #32]	@ zero_extendqisi2
 376:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 2193              		.loc 1 376 114 view .LVU656
 2194 01ec 9DF82100 		ldrb	r0, [sp, #33]	@ zero_extendqisi2
 376:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 2195              		.loc 1 376 123 view .LVU657
 2196 01f0 9DF82270 		ldrb	r7, [sp, #34]	@ zero_extendqisi2
 376:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 2197              		.loc 1 376 132 view .LVU658
 2198 01f4 9DF823C0 		ldrb	ip, [sp, #35]	@ zero_extendqisi2
 376:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 2199              		.loc 1 376 4 view .LVU659
 2200 01f8 514E     		ldr	r6, .L113+4
 2201 01fa CDF814C0 		str	ip, [sp, #20]
 2202 01fe 0497     		str	r7, [sp, #16]
 2203 0200 0390     		str	r0, [sp, #12]
 2204 0202 0291     		str	r1, [sp, #8]
 2205 0204 0192     		str	r2, [sp, #4]
 2206 0206 0093     		str	r3, [sp]
 2207 0208 9DF81D30 		ldrb	r3, [sp, #29]	@ zero_extendqisi2
 2208 020c 9DF81C20 		ldrb	r2, [sp, #28]	@ zero_extendqisi2
 2209 0210 4F49     		ldr	r1, .L113+20
 2210 0212 3046     		mov	r0, r6
 2211 0214 FFF7FEFF 		bl	sprintf
 2212              	.LVL207:
 377:Src/ltc.c     **** 		}
 2213              		.loc 1 377 4 is_stmt 1 view .LVU660
 377:Src/ltc.c     **** 		}
 2214              		.loc 1 377 47 is_stmt 0 view .LVU661
 2215 0218 3046     		mov	r0, r6
 2216 021a FFF7FEFF 		bl	strlen
 2217              	.LVL208:
 377:Src/ltc.c     **** 		}
 2218              		.loc 1 377 4 view .LVU662
 2219 021e 0A23     		movs	r3, #10
 2220 0220 82B2     		uxth	r2, r0
 2221 0222 3146     		mov	r1, r6
 2222 0224 4848     		ldr	r0, .L113+12
 2223 0226 FFF7FEFF 		bl	HAL_UART_Transmit
ARM GAS  /tmp/cc8d5Ni9.s 			page 60


 2224              	.LVL209:
 2225 022a 5DE7     		b	.L84
 2226              	.L111:
 371:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 2227              		.loc 1 371 4 is_stmt 1 view .LVU663
 371:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 2228              		.loc 1 371 69 is_stmt 0 view .LVU664
 2229 022c 9DF82630 		ldrb	r3, [sp, #38]	@ zero_extendqisi2
 371:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 2230              		.loc 1 371 77 view .LVU665
 2231 0230 9DF82720 		ldrb	r2, [sp, #39]	@ zero_extendqisi2
 371:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 2232              		.loc 1 371 4 view .LVU666
 2233 0234 424E     		ldr	r6, .L113+4
 2234 0236 0192     		str	r2, [sp, #4]
 2235 0238 0093     		str	r3, [sp]
 2236 023a 9DF82530 		ldrb	r3, [sp, #37]	@ zero_extendqisi2
 2237 023e 9DF82420 		ldrb	r2, [sp, #36]	@ zero_extendqisi2
 2238 0242 4249     		ldr	r1, .L113+16
 2239 0244 3046     		mov	r0, r6
 2240 0246 FFF7FEFF 		bl	sprintf
 2241              	.LVL210:
 372:Src/ltc.c     **** 		}
 2242              		.loc 1 372 4 is_stmt 1 view .LVU667
 372:Src/ltc.c     **** 		}
 2243              		.loc 1 372 47 is_stmt 0 view .LVU668
 2244 024a 3046     		mov	r0, r6
 2245 024c FFF7FEFF 		bl	strlen
 2246              	.LVL211:
 372:Src/ltc.c     **** 		}
 2247              		.loc 1 372 4 view .LVU669
 2248 0250 0A23     		movs	r3, #10
 2249 0252 82B2     		uxth	r2, r0
 2250 0254 3146     		mov	r1, r6
 2251 0256 3C48     		ldr	r0, .L113+12
 2252 0258 FFF7FEFF 		bl	HAL_UART_Transmit
 2253              	.LVL212:
 2254 025c BCE7     		b	.L83
 2255              	.LVL213:
 2256              	.L104:
 385:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 2257              		.loc 1 385 4 is_stmt 1 view .LVU670
 2258 025e 384E     		ldr	r6, .L113+4
 2259 0260 384D     		ldr	r5, .L113+8
 2260 0262 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
 2261 0264 3060     		str	r0, [r6]	@ unaligned
 2262 0266 7160     		str	r1, [r6, #4]	@ unaligned
 2263 0268 B260     		str	r2, [r6, #8]	@ unaligned
 2264 026a F360     		str	r3, [r6, #12]	@ unaligned
 2265 026c 07CD     		ldmia	r5!, {r0, r1, r2}
 2266 026e 3061     		str	r0, [r6, #16]	@ unaligned
 2267 0270 7161     		str	r1, [r6, #20]	@ unaligned
 2268 0272 B261     		str	r2, [r6, #24]	@ unaligned
 386:Src/ltc.c     **** 		}
 2269              		.loc 1 386 4 view .LVU671
 386:Src/ltc.c     **** 		}
 2270              		.loc 1 386 47 is_stmt 0 view .LVU672
ARM GAS  /tmp/cc8d5Ni9.s 			page 61


 2271 0274 3046     		mov	r0, r6
 2272 0276 FFF7FEFF 		bl	strlen
 2273              	.LVL214:
 386:Src/ltc.c     **** 		}
 2274              		.loc 1 386 4 view .LVU673
 2275 027a 0A23     		movs	r3, #10
 2276 027c 82B2     		uxth	r2, r0
 2277 027e 3146     		mov	r1, r6
 2278 0280 3148     		ldr	r0, .L113+12
 2279 0282 FFF7FEFF 		bl	HAL_UART_Transmit
 2280              	.LVL215:
 382:Src/ltc.c     **** 		if (DEBUG_LTC == true)
 2281              		.loc 1 382 7 view .LVU674
 2282 0286 0025     		movs	r5, #0
 2283 0288 2EE7     		b	.L84
 2284              	.LVL216:
 2285              	.L87:
 2286              	.LBB4:
 398:Src/ltc.c     **** 		}
 2287              		.loc 1 398 4 is_stmt 1 discriminator 3 view .LVU675
 398:Src/ltc.c     **** 		}
 2288              		.loc 1 398 51 is_stmt 0 discriminator 3 view .LVU676
 2289 028a 7700     		lsls	r7, r6, #1
 398:Src/ltc.c     **** 		}
 2290              		.loc 1 398 26 discriminator 3 view .LVU677
 2291 028c 07AB     		add	r3, sp, #28
 2292 028e 03EB4600 		add	r0, r3, r6, lsl #1
 2293 0292 FFF7FEFF 		bl	_convert_voltage
 2294              	.LVL217:
 398:Src/ltc.c     **** 		}
 2295              		.loc 1 398 24 discriminator 3 view .LVU678
 2296 0296 2744     		add	r7, r7, r4
 2297 0298 F880     		strh	r0, [r7, #6]	@ movhi
 396:Src/ltc.c     **** 		{
 2298              		.loc 1 396 28 is_stmt 1 discriminator 3 view .LVU679
 396:Src/ltc.c     **** 		{
 2299              		.loc 1 396 32 is_stmt 0 discriminator 3 view .LVU680
 2300 029a 0136     		adds	r6, r6, #1
 2301              	.LVL218:
 396:Src/ltc.c     **** 		{
 2302              		.loc 1 396 32 discriminator 3 view .LVU681
 2303 029c F6B2     		uxtb	r6, r6
 2304              	.LVL219:
 2305              	.L85:
 396:Src/ltc.c     **** 		{
 2306              		.loc 1 396 18 is_stmt 1 discriminator 1 view .LVU682
 396:Src/ltc.c     **** 		{
 2307              		.loc 1 396 3 is_stmt 0 discriminator 1 view .LVU683
 2308 029e 022E     		cmp	r6, #2
 2309 02a0 F3D9     		bls	.L87
 2310 02a2 37E7     		b	.L88
 2311              	.LVL220:
 2312              	.L105:
 396:Src/ltc.c     **** 		{
 2313              		.loc 1 396 13 view .LVU684
 2314 02a4 0026     		movs	r6, #0
 2315 02a6 FAE7     		b	.L85
ARM GAS  /tmp/cc8d5Ni9.s 			page 62


 2316              	.LVL221:
 2317              	.L106:
 396:Src/ltc.c     **** 		{
 2318              		.loc 1 396 13 view .LVU685
 2319              	.LBE4:
 406:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 2320              		.loc 1 406 4 is_stmt 1 view .LVU686
 2321 02a8 254D     		ldr	r5, .L113+4
 2322 02aa 2A4E     		ldr	r6, .L113+24
 2323 02ac 0FCE     		ldmia	r6!, {r0, r1, r2, r3}
 2324              	.LVL222:
 406:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 2325              		.loc 1 406 4 is_stmt 0 view .LVU687
 2326 02ae 2860     		str	r0, [r5]	@ unaligned
 2327 02b0 6960     		str	r1, [r5, #4]	@ unaligned
 2328 02b2 AA60     		str	r2, [r5, #8]	@ unaligned
 2329 02b4 EB60     		str	r3, [r5, #12]	@ unaligned
 407:Src/ltc.c     **** 		}
 2330              		.loc 1 407 4 is_stmt 1 view .LVU688
 407:Src/ltc.c     **** 		}
 2331              		.loc 1 407 47 is_stmt 0 view .LVU689
 2332 02b6 2846     		mov	r0, r5
 2333 02b8 FFF7FEFF 		bl	strlen
 2334              	.LVL223:
 407:Src/ltc.c     **** 		}
 2335              		.loc 1 407 4 view .LVU690
 2336 02bc 0A23     		movs	r3, #10
 2337 02be 82B2     		uxth	r2, r0
 2338 02c0 2946     		mov	r1, r5
 2339 02c2 2148     		ldr	r0, .L113+12
 2340 02c4 FFF7FEFF 		bl	HAL_UART_Transmit
 2341              	.LVL224:
 403:Src/ltc.c     **** 		if (DEBUG_LTC == true)
 2342              		.loc 1 403 7 view .LVU691
 2343 02c8 0025     		movs	r5, #0
 2344 02ca 23E7     		b	.L88
 2345              	.LVL225:
 2346              	.L107:
 427:Src/ltc.c     **** 		spi_disable_cs(_ltc);
 2347              		.loc 1 427 3 is_stmt 1 view .LVU692
 2348 02cc 6423     		movs	r3, #100
 2349 02ce 0822     		movs	r2, #8
 2350 02d0 07A9     		add	r1, sp, #28
 2351 02d2 2068     		ldr	r0, [r4]
 2352 02d4 FFF7FEFF 		bl	HAL_SPI_Receive
 2353              	.LVL226:
 428:Src/ltc.c     **** 		if (DEBUG_LTC == true)
 2354              		.loc 1 428 3 view .LVU693
 2355 02d8 2046     		mov	r0, r4
 2356 02da FFF7FEFF 		bl	spi_disable_cs
 2357              	.LVL227:
 429:Src/ltc.c     **** 		{
 2358              		.loc 1 429 3 view .LVU694
 429:Src/ltc.c     **** 		{
 2359              		.loc 1 429 17 is_stmt 0 view .LVU695
 2360 02de 174B     		ldr	r3, .L113
 2361 02e0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
ARM GAS  /tmp/cc8d5Ni9.s 			page 63


 429:Src/ltc.c     **** 		{
 2362              		.loc 1 429 6 view .LVU696
 2363 02e2 002B     		cmp	r3, #0
 2364 02e4 38D1     		bne	.L112
 2365              	.L90:
 434:Src/ltc.c     **** 		{
 2366              		.loc 1 434 3 is_stmt 1 view .LVU697
 434:Src/ltc.c     **** 		{
 2367              		.loc 1 434 17 is_stmt 0 view .LVU698
 2368 02e6 154B     		ldr	r3, .L113
 2369 02e8 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 434:Src/ltc.c     **** 		{
 2370              		.loc 1 434 6 view .LVU699
 2371 02ea 002B     		cmp	r3, #0
 2372 02ec 3FF439AF 		beq	.L91
 436:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 2373              		.loc 1 436 4 is_stmt 1 view .LVU700
 436:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 2374              		.loc 1 436 87 is_stmt 0 view .LVU701
 2375 02f0 9DF81E30 		ldrb	r3, [sp, #30]	@ zero_extendqisi2
 436:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 2376              		.loc 1 436 96 view .LVU702
 2377 02f4 9DF81F20 		ldrb	r2, [sp, #31]	@ zero_extendqisi2
 436:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 2378              		.loc 1 436 105 view .LVU703
 2379 02f8 9DF82010 		ldrb	r1, [sp, #32]	@ zero_extendqisi2
 436:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 2380              		.loc 1 436 114 view .LVU704
 2381 02fc 9DF82100 		ldrb	r0, [sp, #33]	@ zero_extendqisi2
 436:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 2382              		.loc 1 436 123 view .LVU705
 2383 0300 9DF82270 		ldrb	r7, [sp, #34]	@ zero_extendqisi2
 436:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 2384              		.loc 1 436 132 view .LVU706
 2385 0304 9DF823C0 		ldrb	ip, [sp, #35]	@ zero_extendqisi2
 436:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 2386              		.loc 1 436 4 view .LVU707
 2387 0308 0D4E     		ldr	r6, .L113+4
 2388 030a CDF814C0 		str	ip, [sp, #20]
 2389 030e 0497     		str	r7, [sp, #16]
 2390 0310 0390     		str	r0, [sp, #12]
 2391 0312 0291     		str	r1, [sp, #8]
 2392 0314 0192     		str	r2, [sp, #4]
 2393 0316 0093     		str	r3, [sp]
 2394 0318 9DF81D30 		ldrb	r3, [sp, #29]	@ zero_extendqisi2
 2395 031c 9DF81C20 		ldrb	r2, [sp, #28]	@ zero_extendqisi2
 2396 0320 0B49     		ldr	r1, .L113+20
 2397 0322 3046     		mov	r0, r6
 2398 0324 FFF7FEFF 		bl	sprintf
 2399              	.LVL228:
 437:Src/ltc.c     **** 		}
 2400              		.loc 1 437 4 is_stmt 1 view .LVU708
 437:Src/ltc.c     **** 		}
 2401              		.loc 1 437 47 is_stmt 0 view .LVU709
 2402 0328 3046     		mov	r0, r6
 2403 032a FFF7FEFF 		bl	strlen
 2404              	.LVL229:
ARM GAS  /tmp/cc8d5Ni9.s 			page 64


 437:Src/ltc.c     **** 		}
 2405              		.loc 1 437 4 view .LVU710
 2406 032e 0A23     		movs	r3, #10
 2407 0330 82B2     		uxth	r2, r0
 2408 0332 3146     		mov	r1, r6
 2409 0334 0448     		ldr	r0, .L113+12
 2410 0336 FFF7FEFF 		bl	HAL_UART_Transmit
 2411              	.LVL230:
 2412 033a 12E7     		b	.L91
 2413              	.L114:
 2414              		.align	2
 2415              	.L113:
 2416 033c 00000000 		.word	DEBUG_LTC
 2417 0340 00000000 		.word	txt
 2418 0344 50000000 		.word	.LC4
 2419 0348 00000000 		.word	huart4
 2420 034c 00000000 		.word	.LC9
 2421 0350 24000000 		.word	.LC3
 2422 0354 6C000000 		.word	.LC5
 2423              	.L112:
 431:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 2424              		.loc 1 431 4 is_stmt 1 view .LVU711
 431:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 2425              		.loc 1 431 69 is_stmt 0 view .LVU712
 2426 0358 9DF82630 		ldrb	r3, [sp, #38]	@ zero_extendqisi2
 431:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 2427              		.loc 1 431 77 view .LVU713
 2428 035c 9DF82720 		ldrb	r2, [sp, #39]	@ zero_extendqisi2
 431:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 2429              		.loc 1 431 4 view .LVU714
 2430 0360 264E     		ldr	r6, .L115
 2431 0362 0192     		str	r2, [sp, #4]
 2432 0364 0093     		str	r3, [sp]
 2433 0366 9DF82530 		ldrb	r3, [sp, #37]	@ zero_extendqisi2
 2434 036a 9DF82420 		ldrb	r2, [sp, #36]	@ zero_extendqisi2
 2435 036e 2449     		ldr	r1, .L115+4
 2436 0370 3046     		mov	r0, r6
 2437 0372 FFF7FEFF 		bl	sprintf
 2438              	.LVL231:
 432:Src/ltc.c     **** 		}
 2439              		.loc 1 432 4 is_stmt 1 view .LVU715
 432:Src/ltc.c     **** 		}
 2440              		.loc 1 432 47 is_stmt 0 view .LVU716
 2441 0376 3046     		mov	r0, r6
 2442 0378 FFF7FEFF 		bl	strlen
 2443              	.LVL232:
 432:Src/ltc.c     **** 		}
 2444              		.loc 1 432 4 view .LVU717
 2445 037c 0A23     		movs	r3, #10
 2446 037e 82B2     		uxth	r2, r0
 2447 0380 3146     		mov	r1, r6
 2448 0382 2048     		ldr	r0, .L115+8
 2449 0384 FFF7FEFF 		bl	HAL_UART_Transmit
 2450              	.LVL233:
 2451 0388 ADE7     		b	.L90
 2452              	.LVL234:
 2453              	.L108:
ARM GAS  /tmp/cc8d5Ni9.s 			page 65


 445:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 2454              		.loc 1 445 4 is_stmt 1 view .LVU718
 2455 038a 1C4E     		ldr	r6, .L115
 2456 038c 1E4D     		ldr	r5, .L115+12
 2457 038e 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
 2458 0390 3060     		str	r0, [r6]	@ unaligned
 2459 0392 7160     		str	r1, [r6, #4]	@ unaligned
 2460 0394 B260     		str	r2, [r6, #8]	@ unaligned
 2461 0396 F360     		str	r3, [r6, #12]	@ unaligned
 2462 0398 07CD     		ldmia	r5!, {r0, r1, r2}
 2463 039a 3061     		str	r0, [r6, #16]	@ unaligned
 2464 039c 7161     		str	r1, [r6, #20]	@ unaligned
 2465 039e B261     		str	r2, [r6, #24]	@ unaligned
 446:Src/ltc.c     **** 		}
 2466              		.loc 1 446 4 view .LVU719
 446:Src/ltc.c     **** 		}
 2467              		.loc 1 446 47 is_stmt 0 view .LVU720
 2468 03a0 3046     		mov	r0, r6
 2469 03a2 FFF7FEFF 		bl	strlen
 2470              	.LVL235:
 446:Src/ltc.c     **** 		}
 2471              		.loc 1 446 4 view .LVU721
 2472 03a6 0A23     		movs	r3, #10
 2473 03a8 82B2     		uxth	r2, r0
 2474 03aa 3146     		mov	r1, r6
 2475 03ac 1548     		ldr	r0, .L115+8
 2476 03ae FFF7FEFF 		bl	HAL_UART_Transmit
 2477              	.LVL236:
 442:Src/ltc.c     **** 		if (DEBUG_LTC == true)
 2478              		.loc 1 442 7 view .LVU722
 2479 03b2 0025     		movs	r5, #0
 2480 03b4 D5E6     		b	.L91
 2481              	.LVL237:
 2482              	.L94:
 2483              	.LBB5:
 458:Src/ltc.c     **** 		}
 2484              		.loc 1 458 4 is_stmt 1 discriminator 3 view .LVU723
 458:Src/ltc.c     **** 		}
 2485              		.loc 1 458 23 is_stmt 0 discriminator 3 view .LVU724
 2486 03b6 F71C     		adds	r7, r6, #3
 458:Src/ltc.c     **** 		}
 2487              		.loc 1 458 30 discriminator 3 view .LVU725
 2488 03b8 07AB     		add	r3, sp, #28
 2489 03ba 03EB4600 		add	r0, r3, r6, lsl #1
 2490 03be FFF7FEFF 		bl	_convert_voltage
 2491              	.LVL238:
 458:Src/ltc.c     **** 		}
 2492              		.loc 1 458 28 discriminator 3 view .LVU726
 2493 03c2 04EB4707 		add	r7, r4, r7, lsl #1
 2494 03c6 F880     		strh	r0, [r7, #6]	@ movhi
 456:Src/ltc.c     **** 		{
 2495              		.loc 1 456 28 is_stmt 1 discriminator 3 view .LVU727
 456:Src/ltc.c     **** 		{
 2496              		.loc 1 456 32 is_stmt 0 discriminator 3 view .LVU728
 2497 03c8 0136     		adds	r6, r6, #1
 2498              	.LVL239:
 456:Src/ltc.c     **** 		{
ARM GAS  /tmp/cc8d5Ni9.s 			page 66


 2499              		.loc 1 456 32 discriminator 3 view .LVU729
 2500 03ca F6B2     		uxtb	r6, r6
 2501              	.LVL240:
 2502              	.L92:
 456:Src/ltc.c     **** 		{
 2503              		.loc 1 456 18 is_stmt 1 discriminator 1 view .LVU730
 456:Src/ltc.c     **** 		{
 2504              		.loc 1 456 3 is_stmt 0 discriminator 1 view .LVU731
 2505 03cc 022E     		cmp	r6, #2
 2506 03ce F2D9     		bls	.L94
 2507 03d0 DDE6     		b	.L95
 2508              	.LVL241:
 2509              	.L109:
 456:Src/ltc.c     **** 		{
 2510              		.loc 1 456 13 view .LVU732
 2511 03d2 0026     		movs	r6, #0
 2512 03d4 FAE7     		b	.L92
 2513              	.LVL242:
 2514              	.L110:
 456:Src/ltc.c     **** 		{
 2515              		.loc 1 456 13 view .LVU733
 2516              	.LBE5:
 466:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 2517              		.loc 1 466 4 is_stmt 1 view .LVU734
 2518 03d6 094C     		ldr	r4, .L115
 2519              	.LVL243:
 466:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 2520              		.loc 1 466 4 is_stmt 0 view .LVU735
 2521 03d8 0C4D     		ldr	r5, .L115+16
 2522 03da 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
 2523              	.LVL244:
 466:Src/ltc.c     **** 			HAL_UART_Transmit(&huart4, (uint8_t *)txt, strlen(txt), 10);
 2524              		.loc 1 466 4 view .LVU736
 2525 03dc 2060     		str	r0, [r4]	@ unaligned
 2526 03de 6160     		str	r1, [r4, #4]	@ unaligned
 2527 03e0 A260     		str	r2, [r4, #8]	@ unaligned
 2528 03e2 E360     		str	r3, [r4, #12]	@ unaligned
 467:Src/ltc.c     **** 		}
 2529              		.loc 1 467 4 is_stmt 1 view .LVU737
 467:Src/ltc.c     **** 		}
 2530              		.loc 1 467 47 is_stmt 0 view .LVU738
 2531 03e4 2046     		mov	r0, r4
 2532 03e6 FFF7FEFF 		bl	strlen
 2533              	.LVL245:
 467:Src/ltc.c     **** 		}
 2534              		.loc 1 467 4 view .LVU739
 2535 03ea 0A23     		movs	r3, #10
 2536 03ec 82B2     		uxth	r2, r0
 2537 03ee 2146     		mov	r1, r4
 2538 03f0 0448     		ldr	r0, .L115+8
 2539 03f2 FFF7FEFF 		bl	HAL_UART_Transmit
 2540              	.LVL246:
 463:Src/ltc.c     **** 		if (DEBUG_LTC == true)
 2541              		.loc 1 463 7 view .LVU740
 2542 03f6 0025     		movs	r5, #0
 2543 03f8 C9E6     		b	.L95
 2544              	.L116:
ARM GAS  /tmp/cc8d5Ni9.s 			page 67


 2545 03fa 00BF     		.align	2
 2546              	.L115:
 2547 03fc 00000000 		.word	txt
 2548 0400 00000000 		.word	.LC9
 2549 0404 00000000 		.word	huart4
 2550 0408 50000000 		.word	.LC4
 2551 040c 6C000000 		.word	.LC5
 2552              		.cfi_endproc
 2553              	.LFE150:
 2555              		.section	.text.get_min_voltage,"ax",%progbits
 2556              		.align	1
 2557              		.global	get_min_voltage
 2558              		.syntax unified
 2559              		.thumb
 2560              		.thumb_func
 2561              		.fpu fpv5-d16
 2563              	get_min_voltage:
 2564              	.LVL247:
 2565              	.LFB156:
 523:Src/ltc.c     **** 
 524:Src/ltc.c     **** uint16_t get_min_voltage(ltc_struct *_ltc)
 525:Src/ltc.c     **** {
 2566              		.loc 1 525 1 is_stmt 1 view -0
 2567              		.cfi_startproc
 2568              		@ args = 0, pretend = 0, frame = 0
 2569              		@ frame_needed = 0, uses_anonymous_args = 0
 2570              		@ link register save eliminated.
 526:Src/ltc.c     **** 	uint16_t min = 65536;
 2571              		.loc 1 526 2 view .LVU742
 527:Src/ltc.c     **** 	for (int i = 0; i < LTC6810_N_CELL; i++)
 2572              		.loc 1 527 2 view .LVU743
 2573              	.LBB6:
 2574              		.loc 1 527 7 view .LVU744
 2575              		.loc 1 527 11 is_stmt 0 view .LVU745
 2576 0000 0023     		movs	r3, #0
 2577              	.LVL248:
 2578              	.L118:
 2579              		.loc 1 527 18 is_stmt 1 discriminator 1 view .LVU746
 2580              		.loc 1 527 2 is_stmt 0 discriminator 1 view .LVU747
 2581 0002 052B     		cmp	r3, #5
 2582 0004 01DC     		bgt	.L120
 528:Src/ltc.c     **** 	{
 529:Src/ltc.c     **** 		if (_ltc->voltage[i] < min)
 2583              		.loc 1 529 3 is_stmt 1 view .LVU748
 527:Src/ltc.c     **** 	for (int i = 0; i < LTC6810_N_CELL; i++)
 2584              		.loc 1 527 38 view .LVU749
 527:Src/ltc.c     **** 	for (int i = 0; i < LTC6810_N_CELL; i++)
 2585              		.loc 1 527 39 is_stmt 0 view .LVU750
 2586 0006 0133     		adds	r3, r3, #1
 2587              	.LVL249:
 527:Src/ltc.c     **** 	for (int i = 0; i < LTC6810_N_CELL; i++)
 2588              		.loc 1 527 39 view .LVU751
 2589 0008 FBE7     		b	.L118
 2590              	.L120:
 527:Src/ltc.c     **** 	for (int i = 0; i < LTC6810_N_CELL; i++)
 2591              		.loc 1 527 39 view .LVU752
 2592              	.LBE6:
ARM GAS  /tmp/cc8d5Ni9.s 			page 68


 530:Src/ltc.c     **** 			min = _ltc->voltage[i];
 531:Src/ltc.c     **** 	}
 532:Src/ltc.c     **** 	return 15;
 2593              		.loc 1 532 2 is_stmt 1 view .LVU753
 533:Src/ltc.c     **** }
 2594              		.loc 1 533 1 is_stmt 0 view .LVU754
 2595 000a 0F20     		movs	r0, #15
 2596              	.LVL250:
 2597              		.loc 1 533 1 view .LVU755
 2598 000c 7047     		bx	lr
 2599              		.cfi_endproc
 2600              	.LFE156:
 2602              		.global	__aeabi_uldivmod
 2603              		.section	.text.get_mean_voltage,"ax",%progbits
 2604              		.align	1
 2605              		.global	get_mean_voltage
 2606              		.syntax unified
 2607              		.thumb
 2608              		.thumb_func
 2609              		.fpu fpv5-d16
 2611              	get_mean_voltage:
 2612              	.LVL251:
 2613              	.LFB157:
 534:Src/ltc.c     **** 
 535:Src/ltc.c     **** uint16_t get_mean_voltage(ltc_struct *_ltc)
 536:Src/ltc.c     **** {
 2614              		.loc 1 536 1 is_stmt 1 view -0
 2615              		.cfi_startproc
 2616              		@ args = 0, pretend = 0, frame = 0
 2617              		@ frame_needed = 0, uses_anonymous_args = 0
 2618              		.loc 1 536 1 is_stmt 0 view .LVU757
 2619 0000 70B5     		push	{r4, r5, r6, lr}
 2620              	.LCFI26:
 2621              		.cfi_def_cfa_offset 16
 2622              		.cfi_offset 4, -16
 2623              		.cfi_offset 5, -12
 2624              		.cfi_offset 6, -8
 2625              		.cfi_offset 14, -4
 2626 0002 0646     		mov	r6, r0
 537:Src/ltc.c     **** 	uint64_t mean = 0;
 2627              		.loc 1 537 2 is_stmt 1 view .LVU758
 2628              	.LVL252:
 538:Src/ltc.c     **** 
 539:Src/ltc.c     **** 	for (int i = 0; i < LTC6810_N_CELL; i++)
 2629              		.loc 1 539 2 view .LVU759
 2630              	.LBB7:
 2631              		.loc 1 539 7 view .LVU760
 2632              		.loc 1 539 11 is_stmt 0 view .LVU761
 2633 0004 0023     		movs	r3, #0
 2634              	.LBE7:
 537:Src/ltc.c     **** 	uint64_t mean = 0;
 2635              		.loc 1 537 11 view .LVU762
 2636 0006 1846     		mov	r0, r3
 2637              	.LVL253:
 537:Src/ltc.c     **** 	uint64_t mean = 0;
 2638              		.loc 1 537 11 view .LVU763
 2639 0008 1946     		mov	r1, r3
ARM GAS  /tmp/cc8d5Ni9.s 			page 69


 2640              	.LVL254:
 2641              	.L122:
 2642              	.LBB8:
 2643              		.loc 1 539 18 is_stmt 1 discriminator 1 view .LVU764
 2644              		.loc 1 539 2 is_stmt 0 discriminator 1 view .LVU765
 2645 000a 052B     		cmp	r3, #5
 2646 000c 08DC     		bgt	.L125
 540:Src/ltc.c     **** 	{
 541:Src/ltc.c     **** 		mean += _ltc->voltage[i];
 2647              		.loc 1 541 3 is_stmt 1 discriminator 3 view .LVU766
 2648              		.loc 1 541 24 is_stmt 0 discriminator 3 view .LVU767
 2649 000e 06EB4302 		add	r2, r6, r3, lsl #1
 2650 0012 D488     		ldrh	r4, [r2, #6]
 2651 0014 0025     		movs	r5, #0
 2652              		.loc 1 541 8 discriminator 3 view .LVU768
 2653 0016 0019     		adds	r0, r0, r4
 2654              	.LVL255:
 2655              		.loc 1 541 8 discriminator 3 view .LVU769
 2656 0018 45EB0101 		adc	r1, r5, r1
 2657              	.LVL256:
 539:Src/ltc.c     **** 	{
 2658              		.loc 1 539 38 is_stmt 1 discriminator 3 view .LVU770
 539:Src/ltc.c     **** 	{
 2659              		.loc 1 539 39 is_stmt 0 discriminator 3 view .LVU771
 2660 001c 0133     		adds	r3, r3, #1
 2661              	.LVL257:
 539:Src/ltc.c     **** 	{
 2662              		.loc 1 539 39 discriminator 3 view .LVU772
 2663 001e F4E7     		b	.L122
 2664              	.L125:
 539:Src/ltc.c     **** 	{
 2665              		.loc 1 539 39 discriminator 3 view .LVU773
 2666              	.LBE8:
 542:Src/ltc.c     **** 	}
 543:Src/ltc.c     **** 	return (mean / LTC6810_N_CELL);
 2667              		.loc 1 543 2 is_stmt 1 view .LVU774
 2668              		.loc 1 543 15 is_stmt 0 view .LVU775
 2669 0020 0622     		movs	r2, #6
 2670 0022 0023     		movs	r3, #0
 2671              	.LVL258:
 2672              		.loc 1 543 15 view .LVU776
 2673 0024 FFF7FEFF 		bl	__aeabi_uldivmod
 2674              	.LVL259:
 544:Src/ltc.c     **** }...
 2675              		.loc 1 544 1 view .LVU777
 2676 0028 80B2     		uxth	r0, r0
 2677 002a 70BD     		pop	{r4, r5, r6, pc}
 2678              		.loc 1 544 1 view .LVU778
 2679              		.cfi_endproc
 2680              	.LFE157:
 2682              		.section	.rodata.crcTable,"a"
 2683              		.align	2
 2684              		.set	.LANCHOR0,. + 0
 2687              	crcTable:
 2688 0000 0000     		.short	0
 2689 0002 99C5     		.short	-14951
 2690 0004 ABCE     		.short	-12629
ARM GAS  /tmp/cc8d5Ni9.s 			page 70


 2691 0006 320B     		.short	2866
 2692 0008 CFD8     		.short	-10033
 2693 000a 561D     		.short	7510
 2694 000c 6416     		.short	5732
 2695 000e FDD3     		.short	-11267
 2696 0010 07F4     		.short	-3065
 2697 0012 9E31     		.short	12702
 2698 0014 AC3A     		.short	15020
 2699 0016 35FF     		.short	-203
 2700 0018 C82C     		.short	11464
 2701 001a 51E9     		.short	-5807
 2702 001c 63E2     		.short	-7581
 2703 001e FA27     		.short	10234
 2704 0020 97AD     		.short	-21097
 2705 0022 0E68     		.short	26638
 2706 0024 3C63     		.short	25404
 2707 0026 A5A6     		.short	-22875
 2708 0028 5875     		.short	30040
 2709 002a C1B0     		.short	-20287
 2710 002c F3BB     		.short	-17421
 2711 002e 6A7E     		.short	32362
 2712 0030 9059     		.short	22928
 2713 0032 099C     		.short	-25591
 2714 0034 3B97     		.short	-26821
 2715 0036 A252     		.short	21154
 2716 0038 5F81     		.short	-32417
 2717 003a C644     		.short	17606
 2718 003c F44F     		.short	20468
 2719 003e 6D8A     		.short	-30099
 2720 0040 2E5B     		.short	23342
 2721 0042 B79E     		.short	-24905
 2722 0044 8595     		.short	-27259
 2723 0046 1C50     		.short	20508
 2724 0048 E183     		.short	-31775
 2725 004a 7846     		.short	18040
 2726 004c 4A4D     		.short	19786
 2727 004e D388     		.short	-30509
 2728 0050 29AF     		.short	-20695
 2729 0052 B06A     		.short	27312
 2730 0054 8261     		.short	24962
 2731 0056 1BA4     		.short	-23525
 2732 0058 E677     		.short	30694
 2733 005a 7FB2     		.short	-19841
 2734 005c 4DB9     		.short	-18099
 2735 005e D47C     		.short	31956
 2736 0060 B9F6     		.short	-2375
 2737 0062 2033     		.short	13088
 2738 0064 1238     		.short	14354
 2739 0066 8BFD     		.short	-629
 2740 0068 762E     		.short	11894
 2741 006a EFEB     		.short	-5137
 2742 006c DDE0     		.short	-7971
 2743 006e 4425     		.short	9540
 2744 0070 BE02     		.short	702
 2745 0072 27C7     		.short	-14553
 2746 0074 15CC     		.short	-13291
 2747 0076 8C09     		.short	2444
ARM GAS  /tmp/cc8d5Ni9.s 			page 71


 2748 0078 71DA     		.short	-9615
 2749 007a E81F     		.short	8168
 2750 007c DA14     		.short	5338
 2751 007e 43D1     		.short	-11965
 2752 0080 C5F3     		.short	-3131
 2753 0082 5C36     		.short	13916
 2754 0084 6E3D     		.short	15726
 2755 0086 F7F8     		.short	-1801
 2756 0088 0A2B     		.short	11018
 2757 008a 93EE     		.short	-4461
 2758 008c A1E5     		.short	-6751
 2759 008e 3820     		.short	8248
 2760 0090 C207     		.short	1986
 2761 0092 5BC2     		.short	-15781
 2762 0094 69C9     		.short	-13975
 2763 0096 F00C     		.short	3312
 2764 0098 0DDF     		.short	-8435
 2765 009a 941A     		.short	6804
 2766 009c A611     		.short	4518
 2767 009e 3FD4     		.short	-11201
 2768 00a0 525E     		.short	24146
 2769 00a2 CB9B     		.short	-25653
 2770 00a4 F990     		.short	-28423
 2771 00a6 6055     		.short	21856
 2772 00a8 9D86     		.short	-31075
 2773 00aa 0443     		.short	17156
 2774 00ac 3648     		.short	18486
 2775 00ae AF8D     		.short	-29265
 2776 00b0 55AA     		.short	-21931
 2777 00b2 CC6F     		.short	28620
 2778 00b4 FE64     		.short	25854
 2779 00b6 67A1     		.short	-24217
 2780 00b8 9A72     		.short	29338
 2781 00ba 03B7     		.short	-18685
 2782 00bc 31BC     		.short	-17359
 2783 00be A879     		.short	31144
 2784 00c0 EBA8     		.short	-22293
 2785 00c2 726D     		.short	28018
 2786 00c4 4066     		.short	26176
 2787 00c6 D9A3     		.short	-23591
 2788 00c8 2470     		.short	28708
 2789 00ca BDB5     		.short	-19011
 2790 00cc 8FBE     		.short	-16753
 2791 00ce 167B     		.short	31510
 2792 00d0 EC5C     		.short	23788
 2793 00d2 7599     		.short	-26251
 2794 00d4 4792     		.short	-28089
 2795 00d6 DE57     		.short	22494
 2796 00d8 2384     		.short	-31709
 2797 00da BA41     		.short	16826
 2798 00dc 884A     		.short	19080
 2799 00de 118F     		.short	-28911
 2800 00e0 7C05     		.short	1404
 2801 00e2 E5C0     		.short	-16155
 2802 00e4 D7CB     		.short	-13353
 2803 00e6 4E0E     		.short	3662
 2804 00e8 B3DD     		.short	-8781
ARM GAS  /tmp/cc8d5Ni9.s 			page 72


 2805 00ea 2A18     		.short	6186
 2806 00ec 1813     		.short	4888
 2807 00ee 81D6     		.short	-10623
 2808 00f0 7BF1     		.short	-3717
 2809 00f2 E234     		.short	13538
 2810 00f4 D03F     		.short	16336
 2811 00f6 49FA     		.short	-1463
 2812 00f8 B429     		.short	10676
 2813 00fa 2DEC     		.short	-5075
 2814 00fc 1FE7     		.short	-6369
 2815 00fe 8622     		.short	8838
 2816 0100 13A2     		.short	-24045
 2817 0102 8A67     		.short	26506
 2818 0104 B86C     		.short	27832
 2819 0106 21A9     		.short	-22239
 2820 0108 DC7A     		.short	31452
 2821 010a 45BF     		.short	-16571
 2822 010c 77B4     		.short	-19337
 2823 010e EE71     		.short	29166
 2824 0110 1456     		.short	22036
 2825 0112 8D93     		.short	-27763
 2826 0114 BF98     		.short	-26433
 2827 0116 265D     		.short	23846
 2828 0118 DB8E     		.short	-28965
 2829 011a 424B     		.short	19266
 2830 011c 7040     		.short	16496
 2831 011e E985     		.short	-31255
 2832 0120 840F     		.short	3972
 2833 0122 1DCA     		.short	-13795
 2834 0124 2FC1     		.short	-16081
 2835 0126 B604     		.short	1206
 2836 0128 4BD7     		.short	-10421
 2837 012a D212     		.short	4818
 2838 012c E019     		.short	6624
 2839 012e 79DC     		.short	-9095
 2840 0130 83FB     		.short	-1149
 2841 0132 1A3E     		.short	15898
 2842 0134 2835     		.short	13608
 2843 0136 B1F0     		.short	-3919
 2844 0138 4C23     		.short	9036
 2845 013a D5E6     		.short	-6443
 2846 013c E7ED     		.short	-4633
 2847 013e 7E28     		.short	10366
 2848 0140 3DF9     		.short	-1731
 2849 0142 A43C     		.short	15524
 2850 0144 9637     		.short	14230
 2851 0146 0FF2     		.short	-3569
 2852 0148 F221     		.short	8690
 2853 014a 6BE4     		.short	-7061
 2854 014c 59EF     		.short	-4263
 2855 014e C02A     		.short	10944
 2856 0150 3A0D     		.short	3386
 2857 0152 A3C8     		.short	-14173
 2858 0154 91C3     		.short	-15471
 2859 0156 0806     		.short	1544
 2860 0158 F5D5     		.short	-10763
 2861 015a 6C10     		.short	4204
ARM GAS  /tmp/cc8d5Ni9.s 			page 73


 2862 015c 5E1B     		.short	7006
 2863 015e C7DE     		.short	-8505
 2864 0160 AA54     		.short	21674
 2865 0162 3391     		.short	-28365
 2866 0164 019A     		.short	-26111
 2867 0166 985F     		.short	24472
 2868 0168 658C     		.short	-29595
 2869 016a FC49     		.short	18940
 2870 016c CE42     		.short	17102
 2871 016e 5787     		.short	-30889
 2872 0170 ADA0     		.short	-24403
 2873 0172 3465     		.short	25908
 2874 0174 066E     		.short	28166
 2875 0176 9FAB     		.short	-21601
 2876 0178 6278     		.short	30818
 2877 017a FBBD     		.short	-16901
 2878 017c C9B6     		.short	-18743
 2879 017e 5073     		.short	29520
 2880 0180 D651     		.short	20950
 2881 0182 4F94     		.short	-27569
 2882 0184 7D9F     		.short	-24707
 2883 0186 E45A     		.short	23268
 2884 0188 1989     		.short	-30439
 2885 018a 804C     		.short	19584
 2886 018c B247     		.short	18354
 2887 018e 2B82     		.short	-32213
 2888 0190 D1A5     		.short	-23087
 2889 0192 4860     		.short	24648
 2890 0194 7A6B     		.short	27514
 2891 0196 E3AE     		.short	-20765
 2892 0198 1E7D     		.short	32030
 2893 019a 87B8     		.short	-18297
 2894 019c B5B3     		.short	-19531
 2895 019e 2C76     		.short	30252
 2896 01a0 41FC     		.short	-959
 2897 01a2 D839     		.short	14808
 2898 01a4 EA32     		.short	13034
 2899 01a6 73F7     		.short	-2189
 2900 01a8 8E24     		.short	9358
 2901 01aa 17E1     		.short	-7913
 2902 01ac 25EA     		.short	-5595
 2903 01ae BC2F     		.short	12220
 2904 01b0 4608     		.short	2118
 2905 01b2 DFCD     		.short	-12833
 2906 01b4 EDC6     		.short	-14611
 2907 01b6 7403     		.short	884
 2908 01b8 89D0     		.short	-12151
 2909 01ba 1015     		.short	5392
 2910 01bc 221E     		.short	7714
 2911 01be BBDB     		.short	-9285
 2912 01c0 F80A     		.short	2808
 2913 01c2 61CF     		.short	-12447
 2914 01c4 53C4     		.short	-15277
 2915 01c6 CA01     		.short	458
 2916 01c8 37D2     		.short	-11721
 2917 01ca AE17     		.short	6062
 2918 01cc 9C1C     		.short	7324
ARM GAS  /tmp/cc8d5Ni9.s 			page 74


 2919 01ce 05D9     		.short	-9979
 2920 01d0 FFFE     		.short	-257
 2921 01d2 663B     		.short	15206
 2922 01d4 5430     		.short	12372
 2923 01d6 CDF5     		.short	-2611
 2924 01d8 3026     		.short	9776
 2925 01da A9E3     		.short	-7255
 2926 01dc 9BE8     		.short	-5989
 2927 01de 022D     		.short	11522
 2928 01e0 6FA7     		.short	-22673
 2929 01e2 F662     		.short	25334
 2930 01e4 C469     		.short	27076
 2931 01e6 5DAC     		.short	-21411
 2932 01e8 A07F     		.short	32672
 2933 01ea 39BA     		.short	-17863
 2934 01ec 0BB1     		.short	-20213
 2935 01ee 9274     		.short	29842
 2936 01f0 6853     		.short	21352
 2937 01f2 F196     		.short	-26895
 2938 01f4 C39D     		.short	-25149
 2939 01f6 5A58     		.short	22618
 2940 01f8 A78B     		.short	-29785
 2941 01fa 3E4E     		.short	20030
 2942 01fc 0C45     		.short	17676
 2943 01fe 9580     		.short	-32619
 2944              		.text
 2945              	.Letext0:
 2946              		.file 2 "/home/alex/Mass Storage/ARM-GCC/arm-none-eabi/include/machine/_default_types.h"
 2947              		.file 3 "/home/alex/Mass Storage/ARM-GCC/arm-none-eabi/include/sys/_stdint.h"
 2948              		.file 4 "Drivers/CMSIS/Include/core_cm7.h"
 2949              		.file 5 "Drivers/CMSIS/Device/ST/STM32F7xx/Include/system_stm32f7xx.h"
 2950              		.file 6 "Drivers/CMSIS/Device/ST/STM32F7xx/Include/stm32f765xx.h"
 2951              		.file 7 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_def.h"
 2952              		.file 8 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_gpio.h"
 2953              		.file 9 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_dma.h"
 2954              		.file 10 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_spi.h"
 2955              		.file 11 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal_uart.h"
 2956              		.file 12 "Drivers/STM32F7xx_HAL_Driver/Inc/stm32f7xx_hal.h"
 2957              		.file 13 "Inc/ltc.h"
 2958              		.file 14 "/home/alex/Mass Storage/ARM-GCC/lib/gcc/arm-none-eabi/9.3.1/include/stddef.h"
 2959              		.file 15 "/home/alex/Mass Storage/ARM-GCC/arm-none-eabi/include/sys/_types.h"
 2960              		.file 16 "/home/alex/Mass Storage/ARM-GCC/arm-none-eabi/include/sys/reent.h"
 2961              		.file 17 "/home/alex/Mass Storage/ARM-GCC/arm-none-eabi/include/sys/lock.h"
 2962              		.file 18 "/home/alex/Mass Storage/ARM-GCC/arm-none-eabi/include/string.h"
 2963              		.file 19 "/home/alex/Mass Storage/ARM-GCC/arm-none-eabi/include/stdio.h"
ARM GAS  /tmp/cc8d5Ni9.s 			page 75


DEFINED SYMBOLS
                            *ABS*:0000000000000000 ltc.c
     /tmp/cc8d5Ni9.s:17     .text.get_ADCV_CC:0000000000000000 $t
     /tmp/cc8d5Ni9.s:25     .text.get_ADCV_CC:0000000000000000 get_ADCV_CC
     /tmp/cc8d5Ni9.s:55     .text.LTC_init:0000000000000000 $t
     /tmp/cc8d5Ni9.s:62     .text.LTC_init:0000000000000000 LTC_init
     /tmp/cc8d5Ni9.s:91     .text._convert_voltage:0000000000000000 $t
     /tmp/cc8d5Ni9.s:98     .text._convert_voltage:0000000000000000 _convert_voltage
     /tmp/cc8d5Ni9.s:121    .text.spi_enable_cs:0000000000000000 $t
     /tmp/cc8d5Ni9.s:128    .text.spi_enable_cs:0000000000000000 spi_enable_cs
     /tmp/cc8d5Ni9.s:176    .text.spi_disable_cs:0000000000000000 $t
     /tmp/cc8d5Ni9.s:183    .text.spi_disable_cs:0000000000000000 spi_disable_cs
     /tmp/cc8d5Ni9.s:228    .rodata.ltc6810_wakeup_idle.str1.4:0000000000000000 $d
     /tmp/cc8d5Ni9.s:232    .text.ltc6810_wakeup_idle:0000000000000000 $t
     /tmp/cc8d5Ni9.s:239    .text.ltc6810_wakeup_idle:0000000000000000 ltc6810_wakeup_idle
     /tmp/cc8d5Ni9.s:290    .text.ltc6810_wakeup_idle:0000000000000030 $d
     /tmp/cc8d5Ni9.s:295    .text._pec15:0000000000000000 $t
     /tmp/cc8d5Ni9.s:302    .text._pec15:0000000000000000 _pec15
     /tmp/cc8d5Ni9.s:380    .text._pec15:000000000000002c $d
     /tmp/cc8d5Ni9.s:385    .rodata.ltc_set_REFON.str1.4:0000000000000000 $d
     /tmp/cc8d5Ni9.s:390    .text.ltc_set_REFON:0000000000000000 $t
     /tmp/cc8d5Ni9.s:397    .text.ltc_set_REFON:0000000000000000 ltc_set_REFON
     /tmp/cc8d5Ni9.s:632    .text.ltc_set_REFON:0000000000000130 $d
     /tmp/cc8d5Ni9.s:640    .rodata.ltc_read_conf_reg.str1.4:0000000000000000 $d
     /tmp/cc8d5Ni9.s:653    .text.ltc_read_conf_reg:0000000000000000 $t
     /tmp/cc8d5Ni9.s:660    .text.ltc_read_conf_reg:0000000000000000 ltc_read_conf_reg
     /tmp/cc8d5Ni9.s:944    .text.ltc_read_conf_reg:0000000000000164 $d
     /tmp/cc8d5Ni9.s:955    .rodata.ltc_read_ID.str1.4:0000000000000000 $d
     /tmp/cc8d5Ni9.s:959    .text.ltc_read_ID:0000000000000000 $t
     /tmp/cc8d5Ni9.s:966    .text.ltc_read_ID:0000000000000000 ltc_read_ID
     /tmp/cc8d5Ni9.s:1282   .text.ltc_read_ID:0000000000000194 $d
     /tmp/cc8d5Ni9.s:1293   .rodata.ltc_read_STATUS.str1.4:0000000000000000 $d
     /tmp/cc8d5Ni9.s:1300   .text.ltc_read_STATUS:0000000000000000 $t
     /tmp/cc8d5Ni9.s:1307   .text.ltc_read_STATUS:0000000000000000 ltc_read_STATUS
     /tmp/cc8d5Ni9.s:1763   .text.ltc_read_STATUS:000000000000025c $d
     /tmp/cc8d5Ni9.s:1775   .rodata.read_voltages.str1.4:0000000000000000 $d
     /tmp/cc8d5Ni9.s:1779   .text.read_voltages:0000000000000000 $t
     /tmp/cc8d5Ni9.s:1786   .text.read_voltages:0000000000000000 read_voltages
     /tmp/cc8d5Ni9.s:2416   .text.read_voltages:000000000000033c $d
     /tmp/cc8d5Ni9.s:2426   .text.read_voltages:0000000000000358 $t
     /tmp/cc8d5Ni9.s:2547   .text.read_voltages:00000000000003fc $d
     /tmp/cc8d5Ni9.s:2556   .text.get_min_voltage:0000000000000000 $t
     /tmp/cc8d5Ni9.s:2563   .text.get_min_voltage:0000000000000000 get_min_voltage
     /tmp/cc8d5Ni9.s:2604   .text.get_mean_voltage:0000000000000000 $t
     /tmp/cc8d5Ni9.s:2611   .text.get_mean_voltage:0000000000000000 get_mean_voltage
     /tmp/cc8d5Ni9.s:2683   .rodata.crcTable:0000000000000000 $d
     /tmp/cc8d5Ni9.s:2687   .rodata.crcTable:0000000000000000 crcTable

UNDEFINED SYMBOLS
HAL_GPIO_WritePin
HAL_SPI_Transmit
sprintf
strlen
HAL_UART_Transmit
DEBUG_LTC
txt
huart4
ARM GAS  /tmp/cc8d5Ni9.s 			page 76


HAL_SPI_Receive
HAL_Delay
__aeabi_uldivmod
