ARM GAS  /tmp/ccHH30LA.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 1
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"pid_controller.c"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text.PIDCompute,"ax",%progbits
  17              		.align	1
  18              		.global	PIDCompute
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv5-d16
  25              	PIDCompute:
  26              	.LVL0:
  27              	.LFB10:
  28              		.file 1 "Src/pid_controller.c"
   1:Src/pid_controller.c **** //*********************************************************************************
   2:Src/pid_controller.c **** // Eagle-TRT  27/04/18
   3:Src/pid_controller.c **** //
   4:Src/pid_controller.c **** // PID library for Pumps and fan control of cooling system developed for Chimera Evo
   5:Src/pid_controller.c **** // 
   6:Src/pid_controller.c **** //*********************************************************************************
   7:Src/pid_controller.c **** 
   8:Src/pid_controller.c **** //*********************************************************************************
   9:Src/pid_controller.c **** // Headers
  10:Src/pid_controller.c **** //*********************************************************************************
  11:Src/pid_controller.c **** #include "pid_controller.h"
  12:Src/pid_controller.c **** 
  13:Src/pid_controller.c **** //*********************************************************************************
  14:Src/pid_controller.c **** // Macros and Globals
  15:Src/pid_controller.c **** //*********************************************************************************
  16:Src/pid_controller.c **** #define CONSTRAIN(x,lower,upper)    ((x)<(lower)?(lower):((x)>(upper)?(upper):(x)))
  17:Src/pid_controller.c **** 
  18:Src/pid_controller.c **** //*********************************************************************************
  19:Src/pid_controller.c **** // Functions
  20:Src/pid_controller.c **** //*********************************************************************************
  21:Src/pid_controller.c **** void PIDInit(PIDControl *pid, float kp, float ki, float kd, 
  22:Src/pid_controller.c ****              float sampleTimeSeconds, float minOutput, float maxOutput, 
  23:Src/pid_controller.c ****              PIDMode mode, PIDDirection controllerDirection)     	
  24:Src/pid_controller.c **** {
  25:Src/pid_controller.c ****     pid->controllerDirection = controllerDirection;
  26:Src/pid_controller.c ****     pid->mode = mode;
  27:Src/pid_controller.c ****     pid->iTerm = 0.0f;
  28:Src/pid_controller.c ****     pid->input = 0.0f;
  29:Src/pid_controller.c ****     pid->lastInput = 0.0f;
  30:Src/pid_controller.c ****     pid->output = 0.0f;
ARM GAS  /tmp/ccHH30LA.s 			page 2


  31:Src/pid_controller.c ****     pid->setpoint = 0.0f;
  32:Src/pid_controller.c ****     
  33:Src/pid_controller.c ****     if(sampleTimeSeconds > 0.0f)
  34:Src/pid_controller.c ****     {
  35:Src/pid_controller.c ****         pid->sampleTime = sampleTimeSeconds;
  36:Src/pid_controller.c ****     }
  37:Src/pid_controller.c ****     else
  38:Src/pid_controller.c ****     {
  39:Src/pid_controller.c ****         // If the passed parameter was incorrect, set to 1 second
  40:Src/pid_controller.c ****         pid->sampleTime = 1.0f;
  41:Src/pid_controller.c ****     }
  42:Src/pid_controller.c ****     
  43:Src/pid_controller.c ****     PIDOutputLimitsSet(pid, minOutput, maxOutput);
  44:Src/pid_controller.c ****     PIDTuningsSet(pid, kp, ki, kd);
  45:Src/pid_controller.c **** }
  46:Src/pid_controller.c ****         
  47:Src/pid_controller.c **** bool
  48:Src/pid_controller.c **** PIDCompute(PIDControl *pid) 
  49:Src/pid_controller.c **** {
  29              		.loc 1 49 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
  50:Src/pid_controller.c ****     float error, dInput;
  34              		.loc 1 50 5 view .LVU1
  51:Src/pid_controller.c **** 
  52:Src/pid_controller.c ****     if(pid->mode == MANUAL)
  35              		.loc 1 52 5 view .LVU2
  36              		.loc 1 52 11 is_stmt 0 view .LVU3
  37 0000 90F83930 		ldrb	r3, [r0, #57]	@ zero_extendqisi2
  38              		.loc 1 52 7 view .LVU4
  39 0004 002B     		cmp	r3, #0
  40 0006 46D0     		beq	.L7
  53:Src/pid_controller.c ****     {
  54:Src/pid_controller.c ****         return false;
  55:Src/pid_controller.c ****     }
  56:Src/pid_controller.c ****     
  57:Src/pid_controller.c ****     // The classic PID error term
  58:Src/pid_controller.c ****     error = (pid->setpoint) - (pid->input);
  41              		.loc 1 58 5 is_stmt 1 view .LVU5
  42              		.loc 1 58 17 is_stmt 0 view .LVU6
  43 0008 90ED0D7A 		vldr.32	s14, [r0, #52]
  44              		.loc 1 58 35 view .LVU7
  45 000c D0ED005A 		vldr.32	s11, [r0]
  46              		.loc 1 58 11 view .LVU8
  47 0010 37EE656A 		vsub.f32	s12, s14, s11
  48              	.LVL1:
  59:Src/pid_controller.c ****     
  60:Src/pid_controller.c ****     // Compute the integral term separately ahead of time
  61:Src/pid_controller.c ****     pid->iTerm += (pid->alteredKi) * error;
  49              		.loc 1 61 5 is_stmt 1 view .LVU9
  50              		.loc 1 61 23 is_stmt 0 view .LVU10
  51 0014 D0ED077A 		vldr.32	s15, [r0, #28]
  52              		.loc 1 61 36 view .LVU11
  53 0018 67EE867A 		vmul.f32	s15, s15, s12
  54              		.loc 1 61 16 view .LVU12
ARM GAS  /tmp/ccHH30LA.s 			page 3


  55 001c 90ED097A 		vldr.32	s14, [r0, #36]
  56 0020 77EE877A 		vadd.f32	s15, s15, s14
  62:Src/pid_controller.c ****     
  63:Src/pid_controller.c ****     // Constrain the integrator to make sure it does not exceed output bounds
  64:Src/pid_controller.c ****     pid->iTerm = CONSTRAIN( (pid->iTerm), (pid->outMin), (pid->outMax) );
  57              		.loc 1 64 5 is_stmt 1 view .LVU13
  58              		.loc 1 64 18 is_stmt 0 view .LVU14
  59 0024 D0ED0B6A 		vldr.32	s13, [r0, #44]
  60 0028 F4EEE67A 		vcmpe.f32	s15, s13
  61 002c F1EE10FA 		vmrs	APSR_nzcv, FPSCR
  62 0030 09D4     		bmi	.L8
  63              		.loc 1 64 18 discriminator 2 view .LVU15
  64 0032 90ED0C7A 		vldr.32	s14, [r0, #48]
  65 0036 F4EEC77A 		vcmpe.f32	s15, s14
  66 003a F1EE10FA 		vmrs	APSR_nzcv, FPSCR
  67 003e 04DD     		ble	.L3
  68              		.loc 1 64 18 view .LVU16
  69 0040 F0EE477A 		vmov.f32	s15, s14
  70 0044 01E0     		b	.L3
  71              	.L8:
  72 0046 F0EE667A 		vmov.f32	s15, s13
  73              	.L3:
  74              		.loc 1 64 16 discriminator 8 view .LVU17
  75 004a C0ED097A 		vstr.32	s15, [r0, #36]
  65:Src/pid_controller.c ****     
  66:Src/pid_controller.c ****     // Take the "derivative on measurement" instead of "derivative on error"
  67:Src/pid_controller.c ****     dInput = (pid->input) - (pid->lastInput);
  76              		.loc 1 67 5 is_stmt 1 discriminator 8 view .LVU18
  77              		.loc 1 67 33 is_stmt 0 discriminator 8 view .LVU19
  78 004e 90ED017A 		vldr.32	s14, [r0, #4]
  79              		.loc 1 67 12 discriminator 8 view .LVU20
  80 0052 35EEC75A 		vsub.f32	s10, s11, s14
  81              	.LVL2:
  68:Src/pid_controller.c ****     
  69:Src/pid_controller.c ****     // Run all the terms together to get the overall output
  70:Src/pid_controller.c ****     pid->output = (pid->alteredKp) * error + (pid->iTerm) - (pid->alteredKd) * dInput;
  82              		.loc 1 70 5 is_stmt 1 discriminator 8 view .LVU21
  83              		.loc 1 70 23 is_stmt 0 discriminator 8 view .LVU22
  84 0056 90ED067A 		vldr.32	s14, [r0, #24]
  85              		.loc 1 70 36 discriminator 8 view .LVU23
  86 005a 27EE067A 		vmul.f32	s14, s14, s12
  87              		.loc 1 70 44 discriminator 8 view .LVU24
  88 005e 77EE277A 		vadd.f32	s15, s14, s15
  89              		.loc 1 70 65 discriminator 8 view .LVU25
  90 0062 90ED087A 		vldr.32	s14, [r0, #32]
  91              		.loc 1 70 78 discriminator 8 view .LVU26
  92 0066 27EE057A 		vmul.f32	s14, s14, s10
  93              		.loc 1 70 59 discriminator 8 view .LVU27
  94 006a 77EEC77A 		vsub.f32	s15, s15, s14
  71:Src/pid_controller.c ****     
  72:Src/pid_controller.c ****     // Bound the output
  73:Src/pid_controller.c ****     pid->output = CONSTRAIN( (pid->output), (pid->outMin), (pid->outMax) );
  95              		.loc 1 73 5 is_stmt 1 discriminator 8 view .LVU28
  96              		.loc 1 73 19 is_stmt 0 discriminator 8 view .LVU29
  97 006e F4EEE76A 		vcmpe.f32	s13, s15
  98 0072 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
  99 0076 08DC     		bgt	.L5
ARM GAS  /tmp/ccHH30LA.s 			page 4


 100              		.loc 1 73 19 discriminator 2 view .LVU30
 101 0078 D0ED0C6A 		vldr.32	s13, [r0, #48]
 102 007c F4EEE67A 		vcmpe.f32	s15, s13
 103 0080 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 104 0084 01DC     		bgt	.L5
 105 0086 F0EE676A 		vmov.f32	s13, s15
 106              	.L5:
 107              		.loc 1 73 17 discriminator 8 view .LVU31
 108 008a C0ED026A 		vstr.32	s13, [r0, #8]
  74:Src/pid_controller.c ****     
  75:Src/pid_controller.c ****     // Make the current input the former input
  76:Src/pid_controller.c ****     pid->lastInput = pid->input;
 109              		.loc 1 76 5 is_stmt 1 discriminator 8 view .LVU32
 110              		.loc 1 76 20 is_stmt 0 discriminator 8 view .LVU33
 111 008e C0ED015A 		vstr.32	s11, [r0, #4]
  77:Src/pid_controller.c ****     
  78:Src/pid_controller.c ****     return true;
 112              		.loc 1 78 5 is_stmt 1 discriminator 8 view .LVU34
 113              		.loc 1 78 12 is_stmt 0 discriminator 8 view .LVU35
 114 0092 0120     		movs	r0, #1
 115              	.LVL3:
 116              		.loc 1 78 12 discriminator 8 view .LVU36
 117 0094 7047     		bx	lr
 118              	.LVL4:
 119              	.L7:
  54:Src/pid_controller.c ****     }
 120              		.loc 1 54 16 view .LVU37
 121 0096 0020     		movs	r0, #0
 122              	.LVL5:
  79:Src/pid_controller.c **** }
 123              		.loc 1 79 1 view .LVU38
 124 0098 7047     		bx	lr
 125              		.cfi_endproc
 126              	.LFE10:
 128              		.section	.text.PIDModeSet,"ax",%progbits
 129              		.align	1
 130              		.global	PIDModeSet
 131              		.syntax unified
 132              		.thumb
 133              		.thumb_func
 134              		.fpu fpv5-d16
 136              	PIDModeSet:
 137              	.LVL6:
 138              	.LFB11:
  80:Src/pid_controller.c ****      
  81:Src/pid_controller.c **** void 
  82:Src/pid_controller.c **** PIDModeSet(PIDControl *pid, PIDMode mode)                                                          
  83:Src/pid_controller.c **** {
 139              		.loc 1 83 1 is_stmt 1 view -0
 140              		.cfi_startproc
 141              		@ args = 0, pretend = 0, frame = 0
 142              		@ frame_needed = 0, uses_anonymous_args = 0
 143              		@ link register save eliminated.
  84:Src/pid_controller.c ****     // If the mode changed from MANUAL to AUTOMATIC
  85:Src/pid_controller.c ****     if(pid->mode != mode && mode == AUTOMATIC)
 144              		.loc 1 85 5 view .LVU40
 145              		.loc 1 85 11 is_stmt 0 view .LVU41
ARM GAS  /tmp/ccHH30LA.s 			page 5


 146 0000 90F83930 		ldrb	r3, [r0, #57]	@ zero_extendqisi2
 147              		.loc 1 85 7 view .LVU42
 148 0004 8B42     		cmp	r3, r1
 149 0006 01D0     		beq	.L12
 150              		.loc 1 85 26 discriminator 1 view .LVU43
 151 0008 0129     		cmp	r1, #1
 152 000a 02D0     		beq	.L16
 153              	.L12:
  86:Src/pid_controller.c ****     {
  87:Src/pid_controller.c ****         // Initialize a few PID parameters to new values
  88:Src/pid_controller.c ****         pid->iTerm = pid->output;
  89:Src/pid_controller.c ****         pid->lastInput = pid->input;
  90:Src/pid_controller.c ****         
  91:Src/pid_controller.c ****         // Constrain the integrator to make sure it does not exceed output bounds
  92:Src/pid_controller.c ****         pid->iTerm = CONSTRAIN( (pid->iTerm), (pid->outMin), (pid->outMax) );
  93:Src/pid_controller.c ****     }
  94:Src/pid_controller.c ****     
  95:Src/pid_controller.c ****     pid->mode = mode;
 154              		.loc 1 95 5 is_stmt 1 view .LVU44
 155              		.loc 1 95 15 is_stmt 0 view .LVU45
 156 000c 80F83910 		strb	r1, [r0, #57]
  96:Src/pid_controller.c **** }
 157              		.loc 1 96 1 view .LVU46
 158 0010 7047     		bx	lr
 159              	.L16:
  88:Src/pid_controller.c ****         pid->lastInput = pid->input;
 160              		.loc 1 88 9 is_stmt 1 view .LVU47
  88:Src/pid_controller.c ****         pid->lastInput = pid->input;
 161              		.loc 1 88 25 is_stmt 0 view .LVU48
 162 0012 90ED027A 		vldr.32	s14, [r0, #8]
  89:Src/pid_controller.c ****         
 163              		.loc 1 89 9 is_stmt 1 view .LVU49
  89:Src/pid_controller.c ****         
 164              		.loc 1 89 29 is_stmt 0 view .LVU50
 165 0016 0368     		ldr	r3, [r0]	@ float
  89:Src/pid_controller.c ****         
 166              		.loc 1 89 24 view .LVU51
 167 0018 4360     		str	r3, [r0, #4]	@ float
  92:Src/pid_controller.c ****     }
 168              		.loc 1 92 9 is_stmt 1 view .LVU52
  92:Src/pid_controller.c ****     }
 169              		.loc 1 92 22 is_stmt 0 view .LVU53
 170 001a D0ED0B7A 		vldr.32	s15, [r0, #44]
 171 001e B4EEE77A 		vcmpe.f32	s14, s15
 172 0022 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 173 0026 08D4     		bmi	.L13
  92:Src/pid_controller.c ****     }
 174              		.loc 1 92 22 discriminator 2 view .LVU54
 175 0028 D0ED0C7A 		vldr.32	s15, [r0, #48]
 176 002c B4EEE77A 		vcmpe.f32	s14, s15
 177 0030 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 178 0034 01DC     		bgt	.L13
 179 0036 F0EE477A 		vmov.f32	s15, s14
 180              	.L13:
  92:Src/pid_controller.c ****     }
 181              		.loc 1 92 20 discriminator 8 view .LVU55
 182 003a C0ED097A 		vstr.32	s15, [r0, #36]
ARM GAS  /tmp/ccHH30LA.s 			page 6


 183 003e E5E7     		b	.L12
 184              		.cfi_endproc
 185              	.LFE11:
 187              		.section	.text.PIDOutputLimitsSet,"ax",%progbits
 188              		.align	1
 189              		.global	PIDOutputLimitsSet
 190              		.syntax unified
 191              		.thumb
 192              		.thumb_func
 193              		.fpu fpv5-d16
 195              	PIDOutputLimitsSet:
 196              	.LVL7:
 197              	.LFB12:
  97:Src/pid_controller.c **** 
  98:Src/pid_controller.c **** void 
  99:Src/pid_controller.c **** PIDOutputLimitsSet(PIDControl *pid, float min, float max) 							  							  
 100:Src/pid_controller.c **** {
 198              		.loc 1 100 1 is_stmt 1 view -0
 199              		.cfi_startproc
 200              		@ args = 0, pretend = 0, frame = 0
 201              		@ frame_needed = 0, uses_anonymous_args = 0
 202              		@ link register save eliminated.
 101:Src/pid_controller.c ****     // Check if the parameters are valid
 102:Src/pid_controller.c ****     if(min >= max)
 203              		.loc 1 102 5 view .LVU57
 204              		.loc 1 102 7 is_stmt 0 view .LVU58
 205 0000 B4EEE00A 		vcmpe.f32	s0, s1
 206 0004 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 207 0008 07DA     		bge	.L17
 103:Src/pid_controller.c ****     {
 104:Src/pid_controller.c ****         return;
 105:Src/pid_controller.c ****     }
 106:Src/pid_controller.c ****     
 107:Src/pid_controller.c ****     // Save the parameters
 108:Src/pid_controller.c ****     pid->outMin = min;
 208              		.loc 1 108 5 is_stmt 1 view .LVU59
 209              		.loc 1 108 17 is_stmt 0 view .LVU60
 210 000a 80ED0B0A 		vstr.32	s0, [r0, #44]
 109:Src/pid_controller.c ****     pid->outMax = max;
 211              		.loc 1 109 5 is_stmt 1 view .LVU61
 212              		.loc 1 109 17 is_stmt 0 view .LVU62
 213 000e C0ED0C0A 		vstr.32	s1, [r0, #48]
 110:Src/pid_controller.c ****     
 111:Src/pid_controller.c ****     // If in automatic, apply the new constraints
 112:Src/pid_controller.c ****     if(pid->mode == AUTOMATIC)
 214              		.loc 1 112 5 is_stmt 1 view .LVU63
 215              		.loc 1 112 11 is_stmt 0 view .LVU64
 216 0012 90F83930 		ldrb	r3, [r0, #57]	@ zero_extendqisi2
 217              		.loc 1 112 7 view .LVU65
 218 0016 012B     		cmp	r3, #1
 219 0018 00D0     		beq	.L28
 220              	.LVL8:
 221              	.L17:
 113:Src/pid_controller.c ****     {
 114:Src/pid_controller.c ****         pid->output = CONSTRAIN(pid->output, min, max);
 115:Src/pid_controller.c ****         pid->iTerm  = CONSTRAIN(pid->iTerm,  min, max);
 116:Src/pid_controller.c ****     }
ARM GAS  /tmp/ccHH30LA.s 			page 7


 117:Src/pid_controller.c **** }
 222              		.loc 1 117 1 view .LVU66
 223 001a 7047     		bx	lr
 224              	.LVL9:
 225              	.L28:
 114:Src/pid_controller.c ****         pid->iTerm  = CONSTRAIN(pid->iTerm,  min, max);
 226              		.loc 1 114 9 is_stmt 1 view .LVU67
 114:Src/pid_controller.c ****         pid->iTerm  = CONSTRAIN(pid->iTerm,  min, max);
 227              		.loc 1 114 23 is_stmt 0 view .LVU68
 228 001c D0ED027A 		vldr.32	s15, [r0, #8]
 229 0020 F4EEC07A 		vcmpe.f32	s15, s0
 230 0024 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 231 0028 07D4     		bmi	.L23
 114:Src/pid_controller.c ****         pid->iTerm  = CONSTRAIN(pid->iTerm,  min, max);
 232              		.loc 1 114 23 discriminator 2 view .LVU69
 233 002a F4EEE07A 		vcmpe.f32	s15, s1
 234 002e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 235 0032 04DD     		ble	.L19
 114:Src/pid_controller.c ****         pid->iTerm  = CONSTRAIN(pid->iTerm,  min, max);
 236              		.loc 1 114 23 view .LVU70
 237 0034 F0EE607A 		vmov.f32	s15, s1
 238 0038 01E0     		b	.L19
 239              	.L23:
 114:Src/pid_controller.c ****         pid->iTerm  = CONSTRAIN(pid->iTerm,  min, max);
 240              		.loc 1 114 23 view .LVU71
 241 003a F0EE407A 		vmov.f32	s15, s0
 242              	.L19:
 114:Src/pid_controller.c ****         pid->iTerm  = CONSTRAIN(pid->iTerm,  min, max);
 243              		.loc 1 114 21 discriminator 8 view .LVU72
 244 003e C0ED027A 		vstr.32	s15, [r0, #8]
 115:Src/pid_controller.c ****     }
 245              		.loc 1 115 9 is_stmt 1 discriminator 8 view .LVU73
 115:Src/pid_controller.c ****     }
 246              		.loc 1 115 23 is_stmt 0 discriminator 8 view .LVU74
 247 0042 D0ED097A 		vldr.32	s15, [r0, #36]
 248 0046 F4EEC07A 		vcmpe.f32	s15, s0
 249 004a F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 250 004e 06D4     		bmi	.L21
 115:Src/pid_controller.c ****     }
 251              		.loc 1 115 23 discriminator 2 view .LVU75
 252 0050 F4EEE07A 		vcmpe.f32	s15, s1
 253 0054 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 254 0058 04DD     		ble	.L27
 115:Src/pid_controller.c ****     }
 255              		.loc 1 115 23 view .LVU76
 256 005a B0EE600A 		vmov.f32	s0, s1
 257              	.LVL10:
 258              	.L21:
 115:Src/pid_controller.c ****     }
 259              		.loc 1 115 21 discriminator 8 view .LVU77
 260 005e 80ED090A 		vstr.32	s0, [r0, #36]
 261 0062 DAE7     		b	.L17
 262              	.LVL11:
 263              	.L27:
 115:Src/pid_controller.c ****     }
 264              		.loc 1 115 23 view .LVU78
 265 0064 B0EE670A 		vmov.f32	s0, s15
ARM GAS  /tmp/ccHH30LA.s 			page 8


 266              	.LVL12:
 115:Src/pid_controller.c ****     }
 267              		.loc 1 115 23 view .LVU79
 268 0068 F9E7     		b	.L21
 269              		.cfi_endproc
 270              	.LFE12:
 272              		.section	.text.PIDTuningsSet,"ax",%progbits
 273              		.align	1
 274              		.global	PIDTuningsSet
 275              		.syntax unified
 276              		.thumb
 277              		.thumb_func
 278              		.fpu fpv5-d16
 280              	PIDTuningsSet:
 281              	.LVL13:
 282              	.LFB13:
 118:Src/pid_controller.c **** 
 119:Src/pid_controller.c **** void 
 120:Src/pid_controller.c **** PIDTuningsSet(PIDControl *pid, float kp, float ki, float kd)         	                             
 121:Src/pid_controller.c **** {
 283              		.loc 1 121 1 is_stmt 1 view -0
 284              		.cfi_startproc
 285              		@ args = 0, pretend = 0, frame = 0
 286              		@ frame_needed = 0, uses_anonymous_args = 0
 287              		@ link register save eliminated.
 122:Src/pid_controller.c ****     // Check if the parameters are valid
 123:Src/pid_controller.c ****     if(kp < 0.0f || ki < 0.0f || kd < 0.0f)
 288              		.loc 1 123 5 view .LVU81
 289              		.loc 1 123 7 is_stmt 0 view .LVU82
 290 0000 B5EEC00A 		vcmpe.f32	s0, #0
 291 0004 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 292 0008 1FD4     		bmi	.L29
 293              		.loc 1 123 18 discriminator 1 view .LVU83
 294 000a F5EEC00A 		vcmpe.f32	s1, #0
 295 000e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 296 0012 1AD4     		bmi	.L29
 297              		.loc 1 123 31 discriminator 2 view .LVU84
 298 0014 B5EEC01A 		vcmpe.f32	s2, #0
 299 0018 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 300 001c 15D4     		bmi	.L29
 124:Src/pid_controller.c ****     {
 125:Src/pid_controller.c ****         return;
 126:Src/pid_controller.c ****     }
 127:Src/pid_controller.c ****     
 128:Src/pid_controller.c ****     // Save the parameters for displaying purposes
 129:Src/pid_controller.c ****     pid->dispKp = kp;
 301              		.loc 1 129 5 is_stmt 1 view .LVU85
 302              		.loc 1 129 17 is_stmt 0 view .LVU86
 303 001e 80ED030A 		vstr.32	s0, [r0, #12]
 130:Src/pid_controller.c ****     pid->dispKi = ki;
 304              		.loc 1 130 5 is_stmt 1 view .LVU87
 305              		.loc 1 130 17 is_stmt 0 view .LVU88
 306 0022 C0ED040A 		vstr.32	s1, [r0, #16]
 131:Src/pid_controller.c ****     pid->dispKd = kd;
 307              		.loc 1 131 5 is_stmt 1 view .LVU89
 308              		.loc 1 131 17 is_stmt 0 view .LVU90
 309 0026 80ED051A 		vstr.32	s2, [r0, #20]
ARM GAS  /tmp/ccHH30LA.s 			page 9


 132:Src/pid_controller.c ****     
 133:Src/pid_controller.c ****     // Alter the parameters for PID
 134:Src/pid_controller.c ****     pid->alteredKp = kp;
 310              		.loc 1 134 5 is_stmt 1 view .LVU91
 311              		.loc 1 134 20 is_stmt 0 view .LVU92
 312 002a 80ED060A 		vstr.32	s0, [r0, #24]
 135:Src/pid_controller.c ****     pid->alteredKi = ki * pid->sampleTime;
 313              		.loc 1 135 5 is_stmt 1 view .LVU93
 314              		.loc 1 135 30 is_stmt 0 view .LVU94
 315 002e 90ED0A7A 		vldr.32	s14, [r0, #40]
 316              		.loc 1 135 25 view .LVU95
 317 0032 67EE200A 		vmul.f32	s1, s14, s1
 318              	.LVL14:
 319              		.loc 1 135 20 view .LVU96
 320 0036 C0ED070A 		vstr.32	s1, [r0, #28]
 136:Src/pid_controller.c ****     pid->alteredKd = kd / pid->sampleTime;
 321              		.loc 1 136 5 is_stmt 1 view .LVU97
 322              		.loc 1 136 25 is_stmt 0 view .LVU98
 323 003a C1EE077A 		vdiv.f32	s15, s2, s14
 324              		.loc 1 136 20 view .LVU99
 325 003e C0ED087A 		vstr.32	s15, [r0, #32]
 137:Src/pid_controller.c ****     
 138:Src/pid_controller.c ****     // Apply reverse direction to the altered values if necessary
 139:Src/pid_controller.c ****     if(pid->controllerDirection == REVERSE)
 326              		.loc 1 139 5 is_stmt 1 view .LVU100
 327              		.loc 1 139 11 is_stmt 0 view .LVU101
 328 0042 90F83830 		ldrb	r3, [r0, #56]	@ zero_extendqisi2
 329              		.loc 1 139 7 view .LVU102
 330 0046 012B     		cmp	r3, #1
 331 0048 00D0     		beq	.L31
 332              	.LVL15:
 333              	.L29:
 140:Src/pid_controller.c ****     {
 141:Src/pid_controller.c ****         pid->alteredKp = -(pid->alteredKp);
 142:Src/pid_controller.c ****         pid->alteredKi = -(pid->alteredKi);
 143:Src/pid_controller.c ****         pid->alteredKd = -(pid->alteredKd);
 144:Src/pid_controller.c ****     }
 145:Src/pid_controller.c **** }
 334              		.loc 1 145 1 view .LVU103
 335 004a 7047     		bx	lr
 336              	.LVL16:
 337              	.L31:
 141:Src/pid_controller.c ****         pid->alteredKi = -(pid->alteredKi);
 338              		.loc 1 141 9 is_stmt 1 view .LVU104
 141:Src/pid_controller.c ****         pid->alteredKi = -(pid->alteredKi);
 339              		.loc 1 141 26 is_stmt 0 view .LVU105
 340 004c B1EE400A 		vneg.f32	s0, s0
 341              	.LVL17:
 141:Src/pid_controller.c ****         pid->alteredKi = -(pid->alteredKi);
 342              		.loc 1 141 24 view .LVU106
 343 0050 80ED060A 		vstr.32	s0, [r0, #24]
 142:Src/pid_controller.c ****         pid->alteredKd = -(pid->alteredKd);
 344              		.loc 1 142 9 is_stmt 1 view .LVU107
 142:Src/pid_controller.c ****         pid->alteredKd = -(pid->alteredKd);
 345              		.loc 1 142 26 is_stmt 0 view .LVU108
 346 0054 F1EE600A 		vneg.f32	s1, s1
 142:Src/pid_controller.c ****         pid->alteredKd = -(pid->alteredKd);
ARM GAS  /tmp/ccHH30LA.s 			page 10


 347              		.loc 1 142 24 view .LVU109
 348 0058 C0ED070A 		vstr.32	s1, [r0, #28]
 143:Src/pid_controller.c ****     }
 349              		.loc 1 143 9 is_stmt 1 view .LVU110
 143:Src/pid_controller.c ****     }
 350              		.loc 1 143 26 is_stmt 0 view .LVU111
 351 005c F1EE677A 		vneg.f32	s15, s15
 143:Src/pid_controller.c ****     }
 352              		.loc 1 143 24 view .LVU112
 353 0060 C0ED087A 		vstr.32	s15, [r0, #32]
 354 0064 F1E7     		b	.L29
 355              		.cfi_endproc
 356              	.LFE13:
 358              		.section	.text.PIDInit,"ax",%progbits
 359              		.align	1
 360              		.global	PIDInit
 361              		.syntax unified
 362              		.thumb
 363              		.thumb_func
 364              		.fpu fpv5-d16
 366              	PIDInit:
 367              	.LVL18:
 368              	.LFB9:
  24:Src/pid_controller.c ****     pid->controllerDirection = controllerDirection;
 369              		.loc 1 24 1 is_stmt 1 view -0
 370              		.cfi_startproc
 371              		@ args = 0, pretend = 0, frame = 0
 372              		@ frame_needed = 0, uses_anonymous_args = 0
  24:Src/pid_controller.c ****     pid->controllerDirection = controllerDirection;
 373              		.loc 1 24 1 is_stmt 0 view .LVU114
 374 0000 10B5     		push	{r4, lr}
 375              	.LCFI0:
 376              		.cfi_def_cfa_offset 8
 377              		.cfi_offset 4, -8
 378              		.cfi_offset 14, -4
 379 0002 2DED048B 		vpush.64	{d8, d9}
 380              	.LCFI1:
 381              		.cfi_def_cfa_offset 24
 382              		.cfi_offset 80, -24
 383              		.cfi_offset 81, -20
 384              		.cfi_offset 82, -16
 385              		.cfi_offset 83, -12
 386 0006 0446     		mov	r4, r0
 387 0008 B0EE408A 		vmov.f32	s16, s0
 388 000c F0EE608A 		vmov.f32	s17, s1
 389 0010 B0EE419A 		vmov.f32	s18, s2
 390 0014 B0EE420A 		vmov.f32	s0, s4
 391              	.LVL19:
  24:Src/pid_controller.c ****     pid->controllerDirection = controllerDirection;
 392              		.loc 1 24 1 view .LVU115
 393 0018 F0EE620A 		vmov.f32	s1, s5
 394              	.LVL20:
  25:Src/pid_controller.c ****     pid->mode = mode;
 395              		.loc 1 25 5 is_stmt 1 view .LVU116
  25:Src/pid_controller.c ****     pid->mode = mode;
 396              		.loc 1 25 30 is_stmt 0 view .LVU117
 397 001c 80F83820 		strb	r2, [r0, #56]
ARM GAS  /tmp/ccHH30LA.s 			page 11


  26:Src/pid_controller.c ****     pid->iTerm = 0.0f;
 398              		.loc 1 26 5 is_stmt 1 view .LVU118
  26:Src/pid_controller.c ****     pid->iTerm = 0.0f;
 399              		.loc 1 26 15 is_stmt 0 view .LVU119
 400 0020 80F83910 		strb	r1, [r0, #57]
  27:Src/pid_controller.c ****     pid->input = 0.0f;
 401              		.loc 1 27 5 is_stmt 1 view .LVU120
  27:Src/pid_controller.c ****     pid->input = 0.0f;
 402              		.loc 1 27 16 is_stmt 0 view .LVU121
 403 0024 0023     		movs	r3, #0
 404 0026 4362     		str	r3, [r0, #36]	@ float
  28:Src/pid_controller.c ****     pid->lastInput = 0.0f;
 405              		.loc 1 28 5 is_stmt 1 view .LVU122
  28:Src/pid_controller.c ****     pid->lastInput = 0.0f;
 406              		.loc 1 28 16 is_stmt 0 view .LVU123
 407 0028 0360     		str	r3, [r0]	@ float
  29:Src/pid_controller.c ****     pid->output = 0.0f;
 408              		.loc 1 29 5 is_stmt 1 view .LVU124
  29:Src/pid_controller.c ****     pid->output = 0.0f;
 409              		.loc 1 29 20 is_stmt 0 view .LVU125
 410 002a 4360     		str	r3, [r0, #4]	@ float
  30:Src/pid_controller.c ****     pid->setpoint = 0.0f;
 411              		.loc 1 30 5 is_stmt 1 view .LVU126
  30:Src/pid_controller.c ****     pid->setpoint = 0.0f;
 412              		.loc 1 30 17 is_stmt 0 view .LVU127
 413 002c 8360     		str	r3, [r0, #8]	@ float
  31:Src/pid_controller.c ****     
 414              		.loc 1 31 5 is_stmt 1 view .LVU128
  31:Src/pid_controller.c ****     
 415              		.loc 1 31 19 is_stmt 0 view .LVU129
 416 002e 4363     		str	r3, [r0, #52]	@ float
  33:Src/pid_controller.c ****     {
 417              		.loc 1 33 5 is_stmt 1 view .LVU130
  33:Src/pid_controller.c ****     {
 418              		.loc 1 33 7 is_stmt 0 view .LVU131
 419 0030 F5EEC01A 		vcmpe.f32	s3, #0
 420 0034 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 421 0038 10DD     		ble	.L37
  35:Src/pid_controller.c ****     }
 422              		.loc 1 35 9 is_stmt 1 view .LVU132
  35:Src/pid_controller.c ****     }
 423              		.loc 1 35 25 is_stmt 0 view .LVU133
 424 003a C0ED0A1A 		vstr.32	s3, [r0, #40]
 425              	.L35:
  43:Src/pid_controller.c ****     PIDTuningsSet(pid, kp, ki, kd);
 426              		.loc 1 43 5 is_stmt 1 view .LVU134
 427 003e 2046     		mov	r0, r4
 428              	.LVL21:
  43:Src/pid_controller.c ****     PIDTuningsSet(pid, kp, ki, kd);
 429              		.loc 1 43 5 is_stmt 0 view .LVU135
 430 0040 FFF7FEFF 		bl	PIDOutputLimitsSet
 431              	.LVL22:
  44:Src/pid_controller.c **** }
 432              		.loc 1 44 5 is_stmt 1 view .LVU136
 433 0044 B0EE491A 		vmov.f32	s2, s18
 434 0048 F0EE680A 		vmov.f32	s1, s17
 435 004c B0EE480A 		vmov.f32	s0, s16
ARM GAS  /tmp/ccHH30LA.s 			page 12


 436 0050 2046     		mov	r0, r4
 437 0052 FFF7FEFF 		bl	PIDTuningsSet
 438              	.LVL23:
  45:Src/pid_controller.c ****         
 439              		.loc 1 45 1 is_stmt 0 view .LVU137
 440 0056 BDEC048B 		vldm	sp!, {d8-d9}
 441              	.LCFI2:
 442              		.cfi_remember_state
 443              		.cfi_restore 82
 444              		.cfi_restore 83
 445              		.cfi_restore 80
 446              		.cfi_restore 81
 447              		.cfi_def_cfa_offset 8
 448              	.LVL24:
  45:Src/pid_controller.c ****         
 449              		.loc 1 45 1 view .LVU138
 450 005a 10BD     		pop	{r4, pc}
 451              	.LVL25:
 452              	.L37:
 453              	.LCFI3:
 454              		.cfi_restore_state
  40:Src/pid_controller.c ****     }
 455              		.loc 1 40 9 is_stmt 1 view .LVU139
  40:Src/pid_controller.c ****     }
 456              		.loc 1 40 25 is_stmt 0 view .LVU140
 457 005c 4FF07E53 		mov	r3, #1065353216
 458 0060 8362     		str	r3, [r0, #40]	@ float
 459 0062 ECE7     		b	.L35
 460              		.cfi_endproc
 461              	.LFE9:
 463              		.section	.text.PIDTuningKpSet,"ax",%progbits
 464              		.align	1
 465              		.global	PIDTuningKpSet
 466              		.syntax unified
 467              		.thumb
 468              		.thumb_func
 469              		.fpu fpv5-d16
 471              	PIDTuningKpSet:
 472              	.LVL26:
 473              	.LFB14:
 146:Src/pid_controller.c **** 
 147:Src/pid_controller.c **** void 
 148:Src/pid_controller.c **** PIDTuningKpSet(PIDControl *pid, float kp)
 149:Src/pid_controller.c **** {
 474              		.loc 1 149 1 is_stmt 1 view -0
 475              		.cfi_startproc
 476              		@ args = 0, pretend = 0, frame = 0
 477              		@ frame_needed = 0, uses_anonymous_args = 0
 478              		.loc 1 149 1 is_stmt 0 view .LVU142
 479 0000 08B5     		push	{r3, lr}
 480              	.LCFI4:
 481              		.cfi_def_cfa_offset 8
 482              		.cfi_offset 3, -8
 483              		.cfi_offset 14, -4
 150:Src/pid_controller.c ****     PIDTuningsSet(pid, kp, pid->dispKi, pid->dispKd);
 484              		.loc 1 150 5 is_stmt 1 view .LVU143
 485 0002 90ED051A 		vldr.32	s2, [r0, #20]
ARM GAS  /tmp/ccHH30LA.s 			page 13


 486 0006 D0ED040A 		vldr.32	s1, [r0, #16]
 487 000a FFF7FEFF 		bl	PIDTuningsSet
 488              	.LVL27:
 151:Src/pid_controller.c **** }
 489              		.loc 1 151 1 is_stmt 0 view .LVU144
 490 000e 08BD     		pop	{r3, pc}
 491              		.cfi_endproc
 492              	.LFE14:
 494              		.section	.text.PIDTuningKiSet,"ax",%progbits
 495              		.align	1
 496              		.global	PIDTuningKiSet
 497              		.syntax unified
 498              		.thumb
 499              		.thumb_func
 500              		.fpu fpv5-d16
 502              	PIDTuningKiSet:
 503              	.LVL28:
 504              	.LFB15:
 152:Src/pid_controller.c **** 
 153:Src/pid_controller.c **** void 
 154:Src/pid_controller.c **** PIDTuningKiSet(PIDControl *pid, float ki)
 155:Src/pid_controller.c **** {
 505              		.loc 1 155 1 is_stmt 1 view -0
 506              		.cfi_startproc
 507              		@ args = 0, pretend = 0, frame = 0
 508              		@ frame_needed = 0, uses_anonymous_args = 0
 509              		.loc 1 155 1 is_stmt 0 view .LVU146
 510 0000 08B5     		push	{r3, lr}
 511              	.LCFI5:
 512              		.cfi_def_cfa_offset 8
 513              		.cfi_offset 3, -8
 514              		.cfi_offset 14, -4
 515 0002 F0EE400A 		vmov.f32	s1, s0
 156:Src/pid_controller.c ****     PIDTuningsSet(pid, pid->dispKp, ki, pid->dispKd);
 516              		.loc 1 156 5 is_stmt 1 view .LVU147
 517 0006 90ED051A 		vldr.32	s2, [r0, #20]
 518 000a 90ED030A 		vldr.32	s0, [r0, #12]
 519              	.LVL29:
 520              		.loc 1 156 5 is_stmt 0 view .LVU148
 521 000e FFF7FEFF 		bl	PIDTuningsSet
 522              	.LVL30:
 157:Src/pid_controller.c **** }
 523              		.loc 1 157 1 view .LVU149
 524 0012 08BD     		pop	{r3, pc}
 525              		.cfi_endproc
 526              	.LFE15:
 528              		.section	.text.PIDTuningKdSet,"ax",%progbits
 529              		.align	1
 530              		.global	PIDTuningKdSet
 531              		.syntax unified
 532              		.thumb
 533              		.thumb_func
 534              		.fpu fpv5-d16
 536              	PIDTuningKdSet:
 537              	.LVL31:
 538              	.LFB16:
 158:Src/pid_controller.c **** 
ARM GAS  /tmp/ccHH30LA.s 			page 14


 159:Src/pid_controller.c **** void 
 160:Src/pid_controller.c **** PIDTuningKdSet(PIDControl *pid, float kd)
 161:Src/pid_controller.c **** {
 539              		.loc 1 161 1 is_stmt 1 view -0
 540              		.cfi_startproc
 541              		@ args = 0, pretend = 0, frame = 0
 542              		@ frame_needed = 0, uses_anonymous_args = 0
 543              		.loc 1 161 1 is_stmt 0 view .LVU151
 544 0000 08B5     		push	{r3, lr}
 545              	.LCFI6:
 546              		.cfi_def_cfa_offset 8
 547              		.cfi_offset 3, -8
 548              		.cfi_offset 14, -4
 549 0002 B0EE401A 		vmov.f32	s2, s0
 162:Src/pid_controller.c ****     PIDTuningsSet(pid, pid->dispKp, pid->dispKi, kd);
 550              		.loc 1 162 5 is_stmt 1 view .LVU152
 551 0006 D0ED040A 		vldr.32	s1, [r0, #16]
 552 000a 90ED030A 		vldr.32	s0, [r0, #12]
 553              	.LVL32:
 554              		.loc 1 162 5 is_stmt 0 view .LVU153
 555 000e FFF7FEFF 		bl	PIDTuningsSet
 556              	.LVL33:
 163:Src/pid_controller.c **** }
 557              		.loc 1 163 1 view .LVU154
 558 0012 08BD     		pop	{r3, pc}
 559              		.cfi_endproc
 560              	.LFE16:
 562              		.section	.text.PIDControllerDirectionSet,"ax",%progbits
 563              		.align	1
 564              		.global	PIDControllerDirectionSet
 565              		.syntax unified
 566              		.thumb
 567              		.thumb_func
 568              		.fpu fpv5-d16
 570              	PIDControllerDirectionSet:
 571              	.LVL34:
 572              	.LFB17:
 164:Src/pid_controller.c **** 
 165:Src/pid_controller.c **** void 
 166:Src/pid_controller.c **** PIDControllerDirectionSet(PIDControl *pid, PIDDirection controllerDirection)	  									  									
 167:Src/pid_controller.c **** {
 573              		.loc 1 167 1 is_stmt 1 view -0
 574              		.cfi_startproc
 575              		@ args = 0, pretend = 0, frame = 0
 576              		@ frame_needed = 0, uses_anonymous_args = 0
 577              		@ link register save eliminated.
 168:Src/pid_controller.c ****     // If in automatic mode and the controller's sense of direction is reversed
 169:Src/pid_controller.c ****     if(pid->mode == AUTOMATIC && controllerDirection == REVERSE)
 578              		.loc 1 169 5 view .LVU156
 579              		.loc 1 169 11 is_stmt 0 view .LVU157
 580 0000 90F83930 		ldrb	r3, [r0, #57]	@ zero_extendqisi2
 581              		.loc 1 169 7 view .LVU158
 582 0004 012B     		cmp	r3, #1
 583 0006 02D0     		beq	.L47
 584              	.L46:
 170:Src/pid_controller.c ****     {
 171:Src/pid_controller.c ****         // Reverse sense of direction of PID gain constants
ARM GAS  /tmp/ccHH30LA.s 			page 15


 172:Src/pid_controller.c ****         pid->alteredKp = -(pid->alteredKp);
 173:Src/pid_controller.c ****         pid->alteredKi = -(pid->alteredKi);
 174:Src/pid_controller.c ****         pid->alteredKd = -(pid->alteredKd);
 175:Src/pid_controller.c ****     }
 176:Src/pid_controller.c ****     
 177:Src/pid_controller.c ****     pid->controllerDirection = controllerDirection;
 585              		.loc 1 177 5 is_stmt 1 view .LVU159
 586              		.loc 1 177 30 is_stmt 0 view .LVU160
 587 0008 80F83810 		strb	r1, [r0, #56]
 178:Src/pid_controller.c **** }
 588              		.loc 1 178 1 view .LVU161
 589 000c 7047     		bx	lr
 590              	.L47:
 169:Src/pid_controller.c ****     {
 591              		.loc 1 169 31 discriminator 1 view .LVU162
 592 000e 0129     		cmp	r1, #1
 593 0010 FAD1     		bne	.L46
 172:Src/pid_controller.c ****         pid->alteredKi = -(pid->alteredKi);
 594              		.loc 1 172 9 is_stmt 1 view .LVU163
 172:Src/pid_controller.c ****         pid->alteredKi = -(pid->alteredKi);
 595              		.loc 1 172 31 is_stmt 0 view .LVU164
 596 0012 D0ED067A 		vldr.32	s15, [r0, #24]
 172:Src/pid_controller.c ****         pid->alteredKi = -(pid->alteredKi);
 597              		.loc 1 172 26 view .LVU165
 598 0016 F1EE677A 		vneg.f32	s15, s15
 172:Src/pid_controller.c ****         pid->alteredKi = -(pid->alteredKi);
 599              		.loc 1 172 24 view .LVU166
 600 001a C0ED067A 		vstr.32	s15, [r0, #24]
 173:Src/pid_controller.c ****         pid->alteredKd = -(pid->alteredKd);
 601              		.loc 1 173 9 is_stmt 1 view .LVU167
 173:Src/pid_controller.c ****         pid->alteredKd = -(pid->alteredKd);
 602              		.loc 1 173 31 is_stmt 0 view .LVU168
 603 001e D0ED077A 		vldr.32	s15, [r0, #28]
 173:Src/pid_controller.c ****         pid->alteredKd = -(pid->alteredKd);
 604              		.loc 1 173 26 view .LVU169
 605 0022 F1EE677A 		vneg.f32	s15, s15
 173:Src/pid_controller.c ****         pid->alteredKd = -(pid->alteredKd);
 606              		.loc 1 173 24 view .LVU170
 607 0026 C0ED077A 		vstr.32	s15, [r0, #28]
 174:Src/pid_controller.c ****     }
 608              		.loc 1 174 9 is_stmt 1 view .LVU171
 174:Src/pid_controller.c ****     }
 609              		.loc 1 174 31 is_stmt 0 view .LVU172
 610 002a D0ED087A 		vldr.32	s15, [r0, #32]
 174:Src/pid_controller.c ****     }
 611              		.loc 1 174 26 view .LVU173
 612 002e F1EE677A 		vneg.f32	s15, s15
 174:Src/pid_controller.c ****     }
 613              		.loc 1 174 24 view .LVU174
 614 0032 C0ED087A 		vstr.32	s15, [r0, #32]
 615 0036 E7E7     		b	.L46
 616              		.cfi_endproc
 617              	.LFE17:
 619              		.section	.text.PIDSampleTimeSet,"ax",%progbits
 620              		.align	1
 621              		.global	PIDSampleTimeSet
 622              		.syntax unified
ARM GAS  /tmp/ccHH30LA.s 			page 16


 623              		.thumb
 624              		.thumb_func
 625              		.fpu fpv5-d16
 627              	PIDSampleTimeSet:
 628              	.LVL35:
 629              	.LFB18:
 179:Src/pid_controller.c **** 
 180:Src/pid_controller.c **** void 
 181:Src/pid_controller.c **** PIDSampleTimeSet(PIDControl *pid, float sampleTimeSeconds)                                         
 182:Src/pid_controller.c **** {
 630              		.loc 1 182 1 is_stmt 1 view -0
 631              		.cfi_startproc
 632              		@ args = 0, pretend = 0, frame = 0
 633              		@ frame_needed = 0, uses_anonymous_args = 0
 634              		@ link register save eliminated.
 183:Src/pid_controller.c ****     float ratio;
 635              		.loc 1 183 5 view .LVU176
 184:Src/pid_controller.c **** 
 185:Src/pid_controller.c ****     if(sampleTimeSeconds > 0.0f)
 636              		.loc 1 185 5 view .LVU177
 637              		.loc 1 185 7 is_stmt 0 view .LVU178
 638 0000 B5EEC00A 		vcmpe.f32	s0, #0
 639 0004 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 640 0008 11DD     		ble	.L48
 186:Src/pid_controller.c ****     {
 187:Src/pid_controller.c ****         // Find the ratio of change and apply to the altered values
 188:Src/pid_controller.c ****         ratio = sampleTimeSeconds / pid->sampleTime;
 641              		.loc 1 188 9 is_stmt 1 view .LVU179
 642              		.loc 1 188 40 is_stmt 0 view .LVU180
 643 000a D0ED0A7A 		vldr.32	s15, [r0, #40]
 644              		.loc 1 188 15 view .LVU181
 645 000e 80EE277A 		vdiv.f32	s14, s0, s15
 646              	.LVL36:
 189:Src/pid_controller.c ****         pid->alteredKi *= ratio;
 647              		.loc 1 189 9 is_stmt 1 view .LVU182
 648              		.loc 1 189 24 is_stmt 0 view .LVU183
 649 0012 D0ED077A 		vldr.32	s15, [r0, #28]
 650 0016 67EE877A 		vmul.f32	s15, s15, s14
 651 001a C0ED077A 		vstr.32	s15, [r0, #28]
 190:Src/pid_controller.c ****         pid->alteredKd /= ratio;
 652              		.loc 1 190 9 is_stmt 1 view .LVU184
 653              		.loc 1 190 24 is_stmt 0 view .LVU185
 654 001e D0ED086A 		vldr.32	s13, [r0, #32]
 655 0022 C6EE877A 		vdiv.f32	s15, s13, s14
 656 0026 C0ED087A 		vstr.32	s15, [r0, #32]
 191:Src/pid_controller.c ****         
 192:Src/pid_controller.c ****         // Save the new sampling time
 193:Src/pid_controller.c ****         pid->sampleTime = sampleTimeSeconds;
 657              		.loc 1 193 9 is_stmt 1 view .LVU186
 658              		.loc 1 193 25 is_stmt 0 view .LVU187
 659 002a 80ED0A0A 		vstr.32	s0, [r0, #40]
 660              	.LVL37:
 661              	.L48:
 194:Src/pid_controller.c ****     }
 195:Src/pid_controller.c **** }
 662              		.loc 1 195 1 view .LVU188
 663 002e 7047     		bx	lr
ARM GAS  /tmp/ccHH30LA.s 			page 17


 664              		.cfi_endproc
 665              	.LFE18:
 667              		.text
 668              	.Letext0:
 669              		.file 2 "Inc/pid_controller.h"
ARM GAS  /tmp/ccHH30LA.s 			page 18


DEFINED SYMBOLS
                            *ABS*:0000000000000000 pid_controller.c
     /tmp/ccHH30LA.s:17     .text.PIDCompute:0000000000000000 $t
     /tmp/ccHH30LA.s:25     .text.PIDCompute:0000000000000000 PIDCompute
     /tmp/ccHH30LA.s:129    .text.PIDModeSet:0000000000000000 $t
     /tmp/ccHH30LA.s:136    .text.PIDModeSet:0000000000000000 PIDModeSet
     /tmp/ccHH30LA.s:188    .text.PIDOutputLimitsSet:0000000000000000 $t
     /tmp/ccHH30LA.s:195    .text.PIDOutputLimitsSet:0000000000000000 PIDOutputLimitsSet
     /tmp/ccHH30LA.s:273    .text.PIDTuningsSet:0000000000000000 $t
     /tmp/ccHH30LA.s:280    .text.PIDTuningsSet:0000000000000000 PIDTuningsSet
     /tmp/ccHH30LA.s:359    .text.PIDInit:0000000000000000 $t
     /tmp/ccHH30LA.s:366    .text.PIDInit:0000000000000000 PIDInit
     /tmp/ccHH30LA.s:464    .text.PIDTuningKpSet:0000000000000000 $t
     /tmp/ccHH30LA.s:471    .text.PIDTuningKpSet:0000000000000000 PIDTuningKpSet
     /tmp/ccHH30LA.s:495    .text.PIDTuningKiSet:0000000000000000 $t
     /tmp/ccHH30LA.s:502    .text.PIDTuningKiSet:0000000000000000 PIDTuningKiSet
     /tmp/ccHH30LA.s:529    .text.PIDTuningKdSet:0000000000000000 $t
     /tmp/ccHH30LA.s:536    .text.PIDTuningKdSet:0000000000000000 PIDTuningKdSet
     /tmp/ccHH30LA.s:563    .text.PIDControllerDirectionSet:0000000000000000 $t
     /tmp/ccHH30LA.s:570    .text.PIDControllerDirectionSet:0000000000000000 PIDControllerDirectionSet
     /tmp/ccHH30LA.s:620    .text.PIDSampleTimeSet:0000000000000000 $t
     /tmp/ccHH30LA.s:627    .text.PIDSampleTimeSet:0000000000000000 PIDSampleTimeSet

NO UNDEFINED SYMBOLS
